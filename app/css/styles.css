/*
  	Name: Test for Povio Labs
  	Version: 1.0
  	Author: Andrej Vajagoc
  	Website: http://drejcreative.com
  */
@import url("https://fonts.googleapis.com/css?family=Lato:400,700|Montserrat|Roboto:400,500,700");
*,
:after,
:before {
  -webkit-box-sizing: border-box;
          box-sizing: border-box; }

.clearfix:after, .clearfix:before {
  content: '';
  display: table; }

.clearfix:after {
  clear: both;
  display: block; }

.icon {
  font-size: 10px; }

.icon:before {
  content: ' ';
  vertical-align: middle;
  display: inline-block;
  background-image: url("../images/svg/sprite.svg");
  background-repeat: no-repeat;
  background-size: 6.8em 33.2em; }

.no-svg .icon:before {
  background-image: url("../images/svg/sprite.png"); }

.icon.icon-dine:before {
  background-position: 0em 0em;
  width: 2.1em;
  height: 2.1em; }

.icon.icon-drink:before {
  background-position: 0em -2.1em;
  width: 2em;
  height: 2.2em; }

.icon.icon-explore-active:before {
  background-position: 0em -4.3em;
  width: 1.6em;
  height: 2.1em; }

.icon.icon-explore-active_2:before {
  background-position: 0em -6.4em;
  width: 1.6em;
  height: 2.1em; }

.icon.icon-handshake:before {
  background-position: 0em -8.5em;
  width: 2.6em;
  height: 1.9em; }

.icon.icon-house:before {
  background-position: 0em -10.4em;
  width: 2.1em;
  height: 1.9em; }

.icon.icon-medical:before {
  background-position: 0em -12.3em;
  width: 2.2em;
  height: 2em; }

.icon.icon-messages:before {
  background-position: 0em -14.3em;
  width: 2.1em;
  height: 2.1em; }

.icon.icon-my-location:before {
  background-position: 0em -16.4em;
  width: 2.4em;
  height: 2.4em; }

.icon.icon-save:before {
  background-position: 0em -18.8em;
  width: 2.1em;
  height: 2.1em; }

.icon.icon-save-copy:before {
  background-position: 0em -20.9em;
  width: 2.1em;
  height: 2.1em; }

.icon.icon-save-copy-2:before {
  background-position: 0em -23em;
  width: 2.1em;
  height: 2.1em; }

.icon.icon-search-grey:before {
  background-position: 0em -25.1em;
  width: 2.4em;
  height: 2.4em; }

.icon.icon-trips:before {
  background-position: 0em -27.5em;
  width: 2.1em;
  height: 2.1em; }

.icon.logo:before {
  background-position: 0em -29.6em;
  width: 6.8em;
  height: 3.53em; }

.header {
  width: 100%;
  height: 80px;
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
  -webkit-align-items: center;
      -ms-flex-align: center;
          align-items: center;
  font-family: "Roboto", sans-serif;
  font-weight: 500;
  font-size: 17px;
  line-height: 25px; }
  .header__link {
    text-decoration: none; }
  .header__logo {
    display: inline-block;
    margin-left: 30px;
    margin-top: -10px; }
  .header__explore {
    display: inline-block;
    margin-left: 30px; }
    .header__explore--icon {
      padding-right: 12px; }
    .header__explore--text {
      color: #47ccb0; }
  .header__trips {
    display: inline-block;
    margin-left: 30px; }
    .header__trips--text {
      color: #9298a0; }
    .header__trips--icon {
      padding-right: 12px; }
  .header__messages {
    display: inline-block;
    margin-left: 30px; }
    .header__messages--text {
      color: #9298a0; }
    .header__messages--icon {
      margin-right: 12px;
      display: inline-block;
      width: 25px;
      -webkit-border-radius: 50%;
              border-radius: 50%;
      padding-left: 7px;
      color: #ffffff;
      background-color: #47ccb0;
      -webkit-box-shadow: 0 7px 15px 0 rgba(71, 204, 175, 0.4);
              box-shadow: 0 7px 15px 0 rgba(71, 204, 175, 0.4); }
  .header__user {
    margin-left: auto;
    margin-right: 10px;
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-align: center;
    -webkit-align-items: center;
        -ms-flex-align: center;
            align-items: center; }
    .header__user--name {
      color: #9298a0;
      float: left; }
    .header__user--image {
      margin-left: 20px;
      width: 54px;
      height: 54px;
      -webkit-border-radius: 50%;
              border-radius: 50%;
      float: left; }

/*# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGVzLmNzcyIsInNvdXJjZXMiOlsiL2FwcC9zY3NzL3N0eWxlcy5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL19zdXN5LnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9zdXN5L3Nhc3Mvc3VzeS9sYW5ndWFnZS9fc3VzeS5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvX3N1LnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9zdXN5L3Nhc3Mvc3VzeS9zdS9fdXRpbGl0aWVzLnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9zdXN5L3Nhc3Mvc3VzeS9zdS9fc2V0dGluZ3Muc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL3N1c3kvc2Fzcy9zdXN5L3N1L192YWxpZGF0aW9uLnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9zdXN5L3Nhc3Mvc3VzeS9zdS9fZ3JpZC5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvb3V0cHV0L19mbG9hdC5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvb3V0cHV0L19zaGFyZWQuc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL3N1c3kvc2Fzcy9zdXN5L291dHB1dC9fc3VwcG9ydC5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvb3V0cHV0L3N1cHBvcnQvX3N1cHBvcnQuc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL3N1c3kvc2Fzcy9zdXN5L291dHB1dC9zdXBwb3J0L19wcmVmaXguc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL3N1c3kvc2Fzcy9zdXN5L291dHB1dC9zdXBwb3J0L19iYWNrZ3JvdW5kLnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9zdXN5L3Nhc3Mvc3VzeS9vdXRwdXQvc3VwcG9ydC9fYm94LXNpemluZy5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvb3V0cHV0L3N1cHBvcnQvX3JlbS5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvb3V0cHV0L3N1cHBvcnQvX2NsZWFyZml4LnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9zdXN5L3Nhc3Mvc3VzeS9vdXRwdXQvc2hhcmVkL19pbnNwZWN0LnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9zdXN5L3Nhc3Mvc3VzeS9vdXRwdXQvc2hhcmVkL19vdXRwdXQuc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL3N1c3kvc2Fzcy9zdXN5L291dHB1dC9zaGFyZWQvX2RpcmVjdGlvbi5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvb3V0cHV0L3NoYXJlZC9fYmFja2dyb3VuZC5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvb3V0cHV0L3NoYXJlZC9fY29udGFpbmVyLnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9zdXN5L3Nhc3Mvc3VzeS9vdXRwdXQvc2hhcmVkL19tYXJnaW5zLnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9zdXN5L3Nhc3Mvc3VzeS9vdXRwdXQvc2hhcmVkL19wYWRkaW5nLnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9zdXN5L3Nhc3Mvc3VzeS9vdXRwdXQvZmxvYXQvX2NvbnRhaW5lci5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvb3V0cHV0L2Zsb2F0L19zcGFuLnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9zdXN5L3Nhc3Mvc3VzeS9vdXRwdXQvZmxvYXQvX2VuZC5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvb3V0cHV0L2Zsb2F0L19pc29sYXRlLnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9zdXN5L3Nhc3Mvc3VzeS9sYW5ndWFnZS9zdXN5L19zZXR0aW5ncy5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvbGFuZ3VhZ2Uvc3VzeS9fdmFsaWRhdGlvbi5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvbGFuZ3VhZ2Uvc3VzeS9fZ3JpZHMuc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL3N1c3kvc2Fzcy9zdXN5L2xhbmd1YWdlL3N1c3kvX2JveC1zaXppbmcuc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL3N1c3kvc2Fzcy9zdXN5L2xhbmd1YWdlL3N1c3kvX2NvbnRleHQuc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL3N1c3kvc2Fzcy9zdXN5L2xhbmd1YWdlL3N1c3kvX2JhY2tncm91bmQuc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL3N1c3kvc2Fzcy9zdXN5L2xhbmd1YWdlL3N1c3kvX2NvbnRhaW5lci5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvbGFuZ3VhZ2Uvc3VzeS9fc3Bhbi5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvbGFuZ3VhZ2Uvc3VzeS9fZ3V0dGVycy5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvbGFuZ3VhZ2Uvc3VzeS9faXNvbGF0ZS5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvbGFuZ3VhZ2Uvc3VzeS9fZ2FsbGVyeS5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvbGFuZ3VhZ2Uvc3VzeS9fcm93cy5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvbGFuZ3VhZ2Uvc3VzeS9fbWFyZ2lucy5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvbGFuZ3VhZ2Uvc3VzeS9fcGFkZGluZy5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvc3VzeS9zYXNzL3N1c3kvbGFuZ3VhZ2Uvc3VzeS9fYmxlZWQuc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL3N1c3kvc2Fzcy9zdXN5L2xhbmd1YWdlL3N1c3kvX2JyZWFrcG9pbnQtcGx1Z2luLnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9icmVha3BvaW50LXNhc3Mvc3R5bGVzaGVldHMvX2JyZWFrcG9pbnQuc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL2JyZWFrcG9pbnQtc2Fzcy9zdHlsZXNoZWV0cy9icmVha3BvaW50L19zZXR0aW5ncy5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvYnJlYWtwb2ludC1zYXNzL3N0eWxlc2hlZXRzL2JyZWFrcG9pbnQvX2NvbnRleHQuc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL2JyZWFrcG9pbnQtc2Fzcy9zdHlsZXNoZWV0cy9icmVha3BvaW50L19oZWxwZXJzLnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9icmVha3BvaW50LXNhc3Mvc3R5bGVzaGVldHMvYnJlYWtwb2ludC9fcGFyc2Vycy5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvYnJlYWtwb2ludC1zYXNzL3N0eWxlc2hlZXRzL2JyZWFrcG9pbnQvcGFyc2Vycy9fcXVlcnkuc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL2JyZWFrcG9pbnQtc2Fzcy9zdHlsZXNoZWV0cy9icmVha3BvaW50L3BhcnNlcnMvX3NpbmdsZS5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvYnJlYWtwb2ludC1zYXNzL3N0eWxlc2hlZXRzL2JyZWFrcG9pbnQvcGFyc2Vycy9zaW5nbGUvX2RlZmF1bHQuc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL2JyZWFrcG9pbnQtc2Fzcy9zdHlsZXNoZWV0cy9icmVha3BvaW50L3BhcnNlcnMvX2RvdWJsZS5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvYnJlYWtwb2ludC1zYXNzL3N0eWxlc2hlZXRzL2JyZWFrcG9pbnQvcGFyc2Vycy9kb3VibGUvX2RlZmF1bHQtcGFpci5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvYnJlYWtwb2ludC1zYXNzL3N0eWxlc2hlZXRzL2JyZWFrcG9pbnQvcGFyc2Vycy9kb3VibGUvX2RvdWJsZS1zdHJpbmcuc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL2JyZWFrcG9pbnQtc2Fzcy9zdHlsZXNoZWV0cy9icmVha3BvaW50L3BhcnNlcnMvZG91YmxlL19kZWZhdWx0LnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9icmVha3BvaW50LXNhc3Mvc3R5bGVzaGVldHMvYnJlYWtwb2ludC9wYXJzZXJzL190cmlwbGUuc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL2JyZWFrcG9pbnQtc2Fzcy9zdHlsZXNoZWV0cy9icmVha3BvaW50L3BhcnNlcnMvdHJpcGxlL19kZWZhdWx0LnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9icmVha3BvaW50LXNhc3Mvc3R5bGVzaGVldHMvYnJlYWtwb2ludC9wYXJzZXJzL19yZXNvbHV0aW9uLnNjc3MiLCIvYm93ZXJfY29tcG9uZW50cy9icmVha3BvaW50LXNhc3Mvc3R5bGVzaGVldHMvYnJlYWtwb2ludC9wYXJzZXJzL3Jlc29sdXRpb24vX3Jlc29sdXRpb24uc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL2JyZWFrcG9pbnQtc2Fzcy9zdHlsZXNoZWV0cy9icmVha3BvaW50L19uby1xdWVyeS5zY3NzIiwiL2Jvd2VyX2NvbXBvbmVudHMvYnJlYWtwb2ludC1zYXNzL3N0eWxlc2hlZXRzL2JyZWFrcG9pbnQvX3Jlc3BvbmQtdG8uc2NzcyIsIi9ib3dlcl9jb21wb25lbnRzL2JyZWFrcG9pbnQtc2Fzcy9zdHlsZXNoZWV0cy9icmVha3BvaW50L19sZWdhY3ktc2V0dGluZ3Muc2NzcyIsIi9hcHAvc2Nzcy9iYXNlL19tb2R1bGUuc2NzcyIsIi9hcHAvc2Nzcy9iYXNlL19yZXNldC5zY3NzIiwiL2FwcC9zY3NzL2Jhc2UvX3R5cG9ncmFwaHkuc2NzcyIsIi9hcHAvc2Nzcy9iYXNlL19jb2xvcnMuc2NzcyIsIi9hcHAvc2Nzcy9iYXNlL19pY29ucy5zY3NzIiwiL2FwcC9zY3NzL2xheW91dC9fbW9kdWxlLnNjc3MiLCIvYXBwL3Njc3MvbGF5b3V0L19oZWFkZXIuc2NzcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gIFx0TmFtZTogVGVzdCBmb3IgUG92aW8gTGFic1xyXG4gIFx0VmVyc2lvbjogMS4wXHJcbiAgXHRBdXRob3I6IEFuZHJlaiBWYWphZ29jXHJcbiAgXHRXZWJzaXRlOiBodHRwOi8vZHJlamNyZWF0aXZlLmNvbVxyXG4gICovXHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAvLyBJbXBvcnRzXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gIEBpbXBvcnQgXCIuLi8uLi9ib3dlcl9jb21wb25lbnRzL3N1c3kvc2Fzcy9zdXN5XCI7XHJcbiAgQGltcG9ydCBcIi4uLy4uL2Jvd2VyX2NvbXBvbmVudHMvYnJlYWtwb2ludC1zYXNzL3N0eWxlc2hlZXRzL2JyZWFrcG9pbnRcIjtcclxuXHJcbiAgLy8gc3R5bGUuc2NzcyBpbXBvcnRzXHJcblxyXG4gIC8vQGltcG9ydCAndXRpbHMvbW9kdWxlJztcclxuICBAaW1wb3J0ICdiYXNlL21vZHVsZSc7XHJcbiAgLy9AaW1wb3J0ICdjb21wb25lbnRzL21vZHVsZSc7XHJcbiAgQGltcG9ydCAnbGF5b3V0L21vZHVsZSc7XHJcbiIsIi8vIFN1c3lcclxuLy8gPT09PVxyXG5cclxuQGltcG9ydCAnc3VzeS9sYW5ndWFnZS9zdXN5JztcclxuIiwiLy8gU3VzeSBOZXh0IFN5bnRheFxyXG4vLyA9PT09PT09PT09PT09PT09XHJcblxyXG4kc3VzeS12ZXJzaW9uOiAyLjE7XHJcblxyXG5AaW1wb3J0IFwiLi4vc3VcIjtcclxuQGltcG9ydCBcIi4uL291dHB1dC9mbG9hdFwiO1xyXG5cclxuQGltcG9ydCBcInN1c3kvc2V0dGluZ3NcIjtcclxuQGltcG9ydCBcInN1c3kvdmFsaWRhdGlvblwiO1xyXG5AaW1wb3J0IFwic3VzeS9ncmlkc1wiO1xyXG5AaW1wb3J0IFwic3VzeS9ib3gtc2l6aW5nXCI7XHJcbkBpbXBvcnQgXCJzdXN5L2NvbnRleHRcIjtcclxuQGltcG9ydCBcInN1c3kvYmFja2dyb3VuZFwiO1xyXG5AaW1wb3J0IFwic3VzeS9jb250YWluZXJcIjtcclxuQGltcG9ydCBcInN1c3kvc3BhblwiO1xyXG5AaW1wb3J0IFwic3VzeS9ndXR0ZXJzXCI7XHJcbkBpbXBvcnQgXCJzdXN5L2lzb2xhdGVcIjtcclxuQGltcG9ydCBcInN1c3kvZ2FsbGVyeVwiO1xyXG5AaW1wb3J0IFwic3VzeS9yb3dzXCI7XHJcbkBpbXBvcnQgXCJzdXN5L21hcmdpbnNcIjtcclxuQGltcG9ydCBcInN1c3kvcGFkZGluZ1wiO1xyXG5AaW1wb3J0IFwic3VzeS9ibGVlZFwiO1xyXG5AaW1wb3J0IFwic3VzeS9icmVha3BvaW50LXBsdWdpblwiO1xyXG4iLCIvLyBTdVxyXG4vLyA9PVxyXG5cclxuQGltcG9ydCBcInN1L3V0aWxpdGllc1wiO1xyXG5AaW1wb3J0IFwic3Uvc2V0dGluZ3NcIjtcclxuQGltcG9ydCBcInN1L3ZhbGlkYXRpb25cIjtcclxuQGltcG9ydCBcInN1L2dyaWRcIjtcclxuIiwiLy8gTWFwIEZ1bmN0aW9uc1xyXG4vLyA9PT09PT09PT09PT09XHJcblxyXG5cclxuLy8gVHJ1bmNhdGUgTGlzdFxyXG4vLyAtLS0tLS0tLS0tLS0tXHJcbi8vIC0gUmV0dXJuIGEgbGlzdCwgdHJ1bmNhdGVkIHRvIGEgZ2l2ZW4gbGVuZ3RoXHJcbkBmdW5jdGlvbiBfc3VzeS10cnVuY2F0ZS1saXN0KFxyXG4gICRsaXN0LFxyXG4gICRsZW5ndGhcclxuKSB7XHJcbiAgJF9yZXR1cm46ICgpO1xyXG5cclxuICBAZm9yICRpIGZyb20gMSB0aHJvdWdoIGxlbmd0aCgkbGlzdCkge1xyXG4gICAgJF9yZXR1cm46IGlmKCRpIDw9ICRsZW5ndGgsIGFwcGVuZCgkX3JldHVybiwgbnRoKCRsaXN0LCAkaSkpLCAkX3JldHVybik7XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuICRfcmV0dXJuO1xyXG59XHJcblxyXG5cclxuLy8gRGVlcCBHZXRcclxuLy8gLS0tLS0tLS1cclxuLy8gLSBSZXR1cm4gYSB2YWx1ZSBkZWVwIGluIG5lc3RlZCBtYXBzXHJcbkBmdW5jdGlvbiBfc3VzeS1kZWVwLWdldChcclxuICAkbWFwLFxyXG4gICRrZXlzLi4uXHJcbikge1xyXG4gICRfcmV0dXJuOiAkbWFwO1xyXG5cclxuICBAZWFjaCAka2V5IGluICRrZXlzIHtcclxuICAgIEBpZiB0eXBlLW9mKCRfcmV0dXJuKSA9PSBtYXAge1xyXG4gICAgICAkX3JldHVybjogbWFwLWdldCgkX3JldHVybiwgJGtleSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuICRfcmV0dXJuO1xyXG59XHJcblxyXG5cclxuLy8gRGVlcCBTZXRcclxuLy8gLS0tLS0tLS1cclxuLy8gLSBTZXQgYSB2YWx1ZSBkZWVwIGluIG5lc3RlZCBtYXBzXHJcbkBmdW5jdGlvbiBfc3VzeS1kZWVwLXNldChcclxuICAkbWFwLFxyXG4gICRrZXlzLXZhbHVlLi4uXHJcbikge1xyXG4gICRfdmFsdWU6IG50aCgka2V5cy12YWx1ZSwgLTEpO1xyXG4gICRfa2V5czogX3N1c3ktdHJ1bmNhdGUtbGlzdCgka2V5cy12YWx1ZSwgbGVuZ3RoKCRrZXlzLXZhbHVlKSAtIDEpO1xyXG4gICRfbGVuZ3RoOiBsZW5ndGgoJF9rZXlzKTtcclxuICAkX3JldHVybjogKCk7XHJcblxyXG4gIEBmb3IgJGkgZnJvbSAxIHRocm91Z2ggJF9sZW5ndGgge1xyXG4gICAgJF9uOiAwIC0gJGk7XHJcbiAgICAkX2xldmVsOiBfc3VzeS10cnVuY2F0ZS1saXN0KCRfa2V5cywgJF9sZW5ndGggKyAkX24pO1xyXG4gICAgJF9sZXZlbDogX3N1c3ktZGVlcC1nZXQoJG1hcCwgJF9sZXZlbC4uLik7XHJcbiAgICAkX21lcmdlOiBudGgoJF9rZXlzLCAkX24pO1xyXG4gICAgJF9tZXJnZTogKCRfbWVyZ2U6ICRfdmFsdWUpO1xyXG4gICAgJF9yZXR1cm46IGlmKCRfbGV2ZWwsIG1hcC1tZXJnZSgkX2xldmVsLCAkX21lcmdlKSwgJF9tZXJnZSk7XHJcbiAgICAkX3ZhbHVlOiAkX3JldHVybjtcclxuICB9XHJcblxyXG4gIEByZXR1cm4gJF9yZXR1cm47XHJcbn1cclxuXHJcblxyXG4vLyBEZWVwIE1lcmdlXHJcbi8vIC0tLS0tLS0tLS1cclxuLy8gUmV0dXJuIDIgb2JqZWN0cyBvZiBhbnkgZGVwdGgsIG1lcmdlZFxyXG5AZnVuY3Rpb24gX3N1c3ktZGVlcC1tZXJnZShcclxuICAkbWFwMSxcclxuICAkbWFwMlxyXG4pIHtcclxuXHJcbiAgQGlmIHR5cGUtb2YoJG1hcDEpICE9IG1hcCBvciB0eXBlLW9mKCRtYXAyKSAhPSBtYXAge1xyXG4gICAgJG1hcDE6ICRtYXAyO1xyXG4gIH0gQGVsc2Uge1xyXG4gICAgQGVhY2ggJGtleSwgJHZhbHVlIGluICRtYXAyIHtcclxuICAgICAgJF9uZXc6ICgka2V5OiBfc3VzeV9kZWVwLW1lcmdlKG1hcC1nZXQoJG1hcDEsICRrZXkpLCAkdmFsdWUpKTtcclxuICAgICAgJG1hcDE6IG1hcC1tZXJnZSgkbWFwMSwgJF9uZXcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQHJldHVybiAkbWFwMTtcclxufVxyXG5cclxuXHJcbi8vIERlZXAgSGFzLUtleVxyXG4vLyAtLS0tLS0tLS0tLS1cclxuLy8gLSBSZXR1cm4gdHJ1ZSBpZiBhIGRlZXAga2V5IGV4aXN0c1xyXG5AZnVuY3Rpb24gX3N1c3ktZGVlcC1oYXMta2V5KFxyXG4gICRtYXAsXHJcbiAgJGtleXMuLi5cclxuKSB7XHJcbiAgJF9yZXR1cm46IG51bGw7XHJcbiAgJF9zdG9wOiBmYWxzZTtcclxuXHJcbiAgQGVhY2ggJGtleSBpbiAka2V5cyB7XHJcbiAgICBAaWYgbm90KCRfc3RvcCkge1xyXG4gICAgICAkX3JldHVybjogbWFwLWhhcy1rZXkoJG1hcCwgJGtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgQGlmICRfcmV0dXJuIHtcclxuICAgICAgJG1hcDogbWFwLWdldCgkbWFwLCAka2V5KTtcclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICAkX3N0b3A6IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuICRfcmV0dXJuO1xyXG59XHJcbiIsIi8vIFNldHRpbmdzXHJcbi8vID09PT09PT09XHJcblxyXG4vLyBWZXJzaW9uXHJcbi8vIC0tLS0tLS1cclxuJHN1LXZlcnNpb246IDEuMTtcclxuXHJcblxyXG4vLyBEZWZhdWx0IFNldHRpbmdzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS1cclxuLy8gUFJJVkFURTogVGhlIGJhc2ljIHNldHRpbmdzXHJcbiRzdXN5LWRlZmF1bHRzOiAoXHJcbiAgY29sdW1uczogNCxcclxuICBndXR0ZXJzOiAuMjUsXHJcbik7XHJcblxyXG5cclxuLy8gVXNlciBTZXR0aW5nc1xyXG4vLyAtLS0tLS0tLS0tLS0tXHJcbi8vIC0gRGVmaW5lIHRoZSAkc3VzeSB2YXJpYWJsZSB3aXRoIGEgbWFwIG9mIHlvdXIgb3duIHNldHRpbmdzLlxyXG4vLyAtIFNldCBFSVRIRVIgJGNvbHVtbi13aWR0aCBPUiAkY29udGFpbmVyXHJcbi8vIC0gVXNlICRjb2x1bW4td2lkdGggZm9yIHN0YXRpYyBsYXlvdXRzXHJcbiRzdXN5OiAoKSAhZGVmYXVsdDtcclxuXHJcblxyXG4vLyBTdXN5IERlZmF1bHRzXHJcbi8vIC0tLS0tLS0tLS0tLS1cclxuLy8gUFJJVkFURTogQWRkIGRlZmF1bHRzIHRvIFN1c3lcclxuQG1peGluIHN1c3ktZGVmYXVsdHMoXHJcbiAgJGRlZmF1bHRzXHJcbikge1xyXG4gICRzdXN5LWRlZmF1bHRzOiBtYXAtbWVyZ2UoJHN1c3ktZGVmYXVsdHMsICRkZWZhdWx0cykgIWdsb2JhbDtcclxufVxyXG5cclxuXHJcbi8vIFN1c3kgU2V0XHJcbi8vIC0tLS0tLS0tXHJcbi8vIENoYW5nZSBvbmUgc2V0dGluZ1xyXG4vLyAtICRrZXkgICA6IHNldHRpbmcgbmFtZVxyXG4vLyAtICR2YWx1ZSA6IHNldHRpbmcgdmFsdWVcclxuQG1peGluIHN1c3ktc2V0KFxyXG4gICRrZXktdmFsdWUuLi5cclxuKSB7XHJcbiAgJHN1c3k6IF9zdXN5LWRlZXAtc2V0KCRzdXN5LCAka2V5LXZhbHVlLi4uKSAhZ2xvYmFsO1xyXG59XHJcblxyXG5cclxuLy8gU3VzeSBHZXRcclxuLy8gLS0tLS0tLS1cclxuLy8gUmV0dXJuIG9uZSBzZXR0aW5nIGZyb20gYSBncmlkXHJcbi8vIC0gJGtleSAgICAgOiA8a2V5d29yZD5cclxuLy8gLSAkbGF5b3V0ICA6IDxzZXR0aW5ncz5cclxuQGZ1bmN0aW9uIHN1c3ktZ2V0KFxyXG4gICRrZXksXHJcbiAgJGxheW91dDogbWFwLW1lcmdlKCRzdXN5LWRlZmF1bHRzLCAkc3VzeSlcclxuKSB7XHJcbiAgJGxheW91dDogcGFyc2UtZ3JpZCgkbGF5b3V0KTtcclxuICAkX29wdGlvbnM6ICRsYXlvdXQgJHN1c3kgJHN1c3ktZGVmYXVsdHM7XHJcbiAgJF9icmVhazogZmFsc2U7XHJcbiAgJF9yZXR1cm46IG51bGw7XHJcblxyXG4gIEBlYWNoICRvcHQgaW4gJF9vcHRpb25zIHtcclxuICAgIEBpZiB0eXBlLW9mKCRvcHQpID09IG1hcCBhbmQgbm90KCRfYnJlYWspIHtcclxuICAgICAgJF9rZXlzZXQ6IF9zdXN5LWRlZXAtaGFzLWtleSgkb3B0LCAka2V5Li4uKTtcclxuICAgICAgQGlmICRfa2V5c2V0IHtcclxuICAgICAgICAkX3JldHVybjogX3N1c3ktZGVlcC1nZXQoJG9wdCwgJGtleS4uLik7XHJcbiAgICAgICAgJF9icmVhazogdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQHJldHVybiAkX3JldHVybjtcclxufVxyXG4iLCIvLyBNYXRoIFZhbGlkYXRpb25cclxuLy8gPT09PT09PT09PT09PT09XHJcblxyXG5cclxuLy8gVmFsaWQgQ29sdW1uc1xyXG4vLyAtLS0tLS0tLS0tLS0tXHJcbi8vIENoZWNrIHRoYXQgYSBjb2x1bW4gc2V0dGluZyBpcyB2YWxpZC5cclxuQGZ1bmN0aW9uIHZhbGlkLWNvbHVtbnMoXHJcbiAgJGNvbHVtbnMsXHJcbiAgJHNpbGVudDogZmFsc2VcclxuKSB7XHJcbiAgJHR5cGU6IHR5cGUtb2YoJGNvbHVtbnMpO1xyXG4gICRyZXR1cm46IG51bGw7XHJcblxyXG4gIEBpZiAkdHlwZSA9PSBudW1iZXIgYW5kIHVuaXRsZXNzKCRjb2x1bW5zKSB7XHJcbiAgICAkcmV0dXJuOiAkY29sdW1ucztcclxuICB9IEBlbHNlIGlmICR0eXBlID09IGxpc3Qge1xyXG4gICAgJGZhaWw6IG51bGw7XHJcbiAgICBAZWFjaCAkY29sIGluICRjb2x1bW5zIHtcclxuICAgICAgQGlmIHR5cGUtb2YoJGNvbCkgPT0gbnVtYmVyIHtcclxuICAgICAgICAkZmFpbDogJGZhaWwgb3IgaWYodW5pdGxlc3MoJGNvbCksIG51bGwsIHRydWUpO1xyXG4gICAgICB9IEBlbHNlIHtcclxuICAgICAgICAkZmFpbDogdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgJHJldHVybjogaWYoJGZhaWwsICRyZXR1cm4sICRjb2x1bW5zKTtcclxuICB9XHJcblxyXG4gIEBpZiAkcmV0dXJuICE9ICRjb2x1bW5zIGFuZCBub3QoJHNpbGVudCkge1xyXG4gICAgJHJldHVybjogbnVsbDtcclxuICAgICR3YXJuOiAnJGNvbHVtbnMgbXVzdCBiZSBhIHVuaXRsZXNzIG51bWJlciBvciBsaXN0IG9mIHVuaXRsZXNzIG51bWJlcnMuJztcclxuICAgIEB3YXJuICR3YXJuICsgJyBDdXJyZW50IHZhbHVlIFsjeyR0eXBlfV06ICN7JGNvbHVtbnN9JztcclxuICB9XHJcblxyXG4gIEByZXR1cm4gJHJldHVybjtcclxufVxyXG5cclxuXHJcbi8vIFZhbGlkIEd1dHRlcnNcclxuLy8gLS0tLS0tLS0tLS0tLVxyXG4vLyBDaGVjayB0aGF0IGEgZ3V0dGVyIHNldHRpbmcgaXMgdmFsaWQuXHJcbkBmdW5jdGlvbiB2YWxpZC1ndXR0ZXJzKFxyXG4gICRndXR0ZXJzLFxyXG4gICRzaWxlbnQ6IGZhbHNlXHJcbikge1xyXG4gICR0eXBlOiB0eXBlLW9mKCRndXR0ZXJzKTtcclxuICAkcmV0dXJuOiBudWxsO1xyXG5cclxuICBAaWYgJHR5cGUgPT0gbnVtYmVyIGFuZCB1bml0bGVzcygkZ3V0dGVycykge1xyXG4gICAgJHJldHVybjogJGd1dHRlcnM7XHJcbiAgfSBAZWxzZSBpZiBub3QoJHNpbGVudCkge1xyXG4gICAgJHdhcm46ICckZ3V0dGVycyBtdXN0IGJlIGEgdW5pdGxlc3MgbnVtYmVyLic7XHJcbiAgICBAd2FybiAkd2FybiArICcgQ3VycmVudCB2YWx1ZSBbI3skdHlwZX1dOiAjeyRndXR0ZXJzfSc7XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuICRyZXR1cm47XHJcbn1cclxuIiwiLy8gQ29sdW1uIG1hdGhcclxuLy8gPT09PT09PT09PT1cclxuXHJcblxyXG4vLyBJcyBTeW1tZXRyaWNhbFxyXG4vLyAtLS0tLS0tLS0tLS0tLVxyXG4vLyBSZXR1cm5zIHRydWUgaWYgYSBncmlkIGlzIHN5bW1ldHJpY2FsLlxyXG4vLyAtIFskY29sdW1uc10gICA6IDxudW1iZXI+IHwgPGxpc3Q+XHJcbkBmdW5jdGlvbiBpcy1zeW1tZXRyaWNhbChcclxuICAkY29sdW1uczogc3VzeS1nZXQoY29sdW1ucylcclxuKSB7XHJcbiAgJGNvbHVtbnM6IHZhbGlkLWNvbHVtbnMoJGNvbHVtbnMpO1xyXG4gIEByZXR1cm4gaWYodHlwZS1vZigkY29sdW1ucykgPT0gbnVtYmVyLCAkY29sdW1ucywgbnVsbCk7XHJcbn1cclxuXHJcblxyXG4vLyBTdXN5IENvdW50XHJcbi8vIC0tLS0tLS0tLS1cclxuLy8gRmluZCB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgaW4gYSBnaXZlbiBsYXlvdXRcclxuLy8gLSBbJGNvbHVtbnNdICAgOiA8bnVtYmVyPiB8IDxsaXN0PlxyXG5AZnVuY3Rpb24gc3VzeS1jb3VudChcclxuICAkY29sdW1uczogc3VzeS1nZXQoY29sdW1ucylcclxuKSB7XHJcbiAgJGNvbHVtbnM6IHZhbGlkLWNvbHVtbnMoJGNvbHVtbnMpO1xyXG4gIEByZXR1cm4gaXMtc3ltbWV0cmljYWwoJGNvbHVtbnMpIG9yIGxlbmd0aCgkY29sdW1ucyk7XHJcbn1cclxuXHJcblxyXG4vLyBTdXN5IFN1bVxyXG4vLyAtLS0tLS0tLVxyXG4vLyBGaW5kIHRoZSB0b3RhbCBzdW0gb2YgY29sdW1uLXVuaXRzIGluIGEgbGF5b3V0XHJcbi8vIC0gWyRjb2x1bW5zXSAgIDogPG51bWJlcj4gfCA8bGlzdD5cclxuLy8gLSBbJGd1dHRlcnNdICAgOiA8cmF0aW8+XHJcbi8vIC0gWyRzcHJlYWRdICAgIDogZmFsc2UvbmFycm93IHwgd2lkZSB8IHdpZGVyXHJcbkBmdW5jdGlvbiBzdXN5LXN1bShcclxuICAkY29sdW1ucyAgOiBzdXN5LWdldChjb2x1bW5zKSxcclxuICAkZ3V0dGVycyAgOiBzdXN5LWdldChndXR0ZXJzKSxcclxuICAkc3ByZWFkICAgOiBmYWxzZVxyXG4pIHtcclxuICAkY29sdW1uczogdmFsaWQtY29sdW1ucygkY29sdW1ucyk7XHJcbiAgJGd1dHRlcnM6IHZhbGlkLWd1dHRlcnMoJGd1dHRlcnMpO1xyXG5cclxuICAkc3ByZWFkOiBpZigkc3ByZWFkID09IHdpZGUsIDAsIGlmKCRzcHJlYWQgPT0gd2lkZXIsIDEsIC0xKSk7XHJcbiAgJGd1dHRlci1zdW06IChzdXN5LWNvdW50KCRjb2x1bW5zKSArICRzcHJlYWQpICogJGd1dHRlcnM7XHJcbiAgJGNvbHVtbi1zdW06IGlzLXN5bW1ldHJpY2FsKCRjb2x1bW5zKTtcclxuXHJcbiAgQGlmIG5vdCgkY29sdW1uLXN1bSkge1xyXG4gICAgQGVhY2ggJGNvbHVtbiBpbiAkY29sdW1ucyB7XHJcbiAgICAgICRjb2x1bW4tc3VtOiAoJGNvbHVtbi1zdW0gb3IgMCkgKyAkY29sdW1uO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQHJldHVybiAkY29sdW1uLXN1bSArICRndXR0ZXItc3VtO1xyXG59XHJcblxyXG5cclxuLy8gU3VzeSBTbGljZVxyXG4vLyAtLS0tLS0tLS0tXHJcbi8vIFJldHVybiBhIHN1YnNldCBvZiBjb2x1bW5zIGF0IGEgZ2l2ZW4gbG9jYXRpb24uXHJcbi8vIC0gJHNwYW4gICAgICAgIDogPG51bWJlcj5cclxuLy8gLSAkbG9jYXRpb24gICAgOiA8bnVtYmVyPlxyXG4vLyAtIFskY29sdW1uc10gICA6IDxudW1iZXI+IHwgPGxpc3Q+XHJcbkBmdW5jdGlvbiBzdXN5LXNsaWNlKFxyXG4gICRzcGFuLFxyXG4gICRsb2NhdGlvbixcclxuICAkY29sdW1uczogc3VzeS1nZXQoY29sdW1ucylcclxuKSB7XHJcbiAgJGNvbHVtbnM6IHZhbGlkLWNvbHVtbnMoJGNvbHVtbnMpO1xyXG4gICRzdWItY29sdW1uczogJHNwYW47XHJcblxyXG4gIEBpZiBub3QoaXMtc3ltbWV0cmljYWwoJGNvbHVtbnMpKSB7XHJcbiAgICAkbG9jYXRpb246ICRsb2NhdGlvbiBvciAxO1xyXG4gICAgJHN1Yi1jb2x1bW5zOiAoKTtcclxuICAgIEBmb3IgJGkgZnJvbSAkbG9jYXRpb24gdG8gKCRsb2NhdGlvbiArICRzcGFuKSB7XHJcbiAgICAgICRzdWItY29sdW1uczogYXBwZW5kKCRzdWItY29sdW1ucywgbnRoKCRjb2x1bW5zLCAkaSkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQHJldHVybiAkc3ViLWNvbHVtbnM7XHJcbn1cclxuXHJcblxyXG4vLyBTdXN5XHJcbi8vIC0tLS1cclxuLy8gRmluZCB0aGUgc3VtIG9mIGEgY29sdW1uLXNwYW4uXHJcbi8vIC0gJHNwYW4gICAgICAgIDogPG51bWJlcj5cclxuLy8gLSAkbG9jYXRpb24gICAgOiA8bnVtYmVyPlxyXG4vLyAtIFskY29sdW1uc10gICA6IDxudW1iZXI+IHwgPGxpc3Q+XHJcbi8vIC0gWyRndXR0ZXJzXSAgIDogPHJhdGlvPlxyXG4vLyAtIFskc3ByZWFkXSAgICA6IGZhbHNlL25hcnJvdyB8IHdpZGUgfCB3aWRlclxyXG5AZnVuY3Rpb24gc3VzeShcclxuICAkc3BhbixcclxuICAkbG9jYXRpb24gICAgIDogZmFsc2UsXHJcbiAgJGNvbHVtbnMgICAgICA6IHN1c3ktZ2V0KGNvbHVtbnMpLFxyXG4gICRndXR0ZXJzICAgICAgOiBzdXN5LWdldChndXR0ZXJzKSxcclxuICAkc3ByZWFkICAgICAgIDogZmFsc2VcclxuKSB7XHJcbiAgJGNvbHVtbnM6IHZhbGlkLWNvbHVtbnMoJGNvbHVtbnMpO1xyXG4gICRndXR0ZXJzOiB2YWxpZC1ndXR0ZXJzKCRndXR0ZXJzKTtcclxuICAkc3Bhbjogc3VzeS1zbGljZSgkc3BhbiwgJGxvY2F0aW9uLCAkY29sdW1ucyk7XHJcblxyXG4gIEByZXR1cm4gc3VzeS1zdW0oJHNwYW4sICRndXR0ZXJzLCAkc3ByZWFkKTtcclxufVxyXG4iLCIvLyBGbG9hdCBBUElcclxuLy8gPT09PT09PT09XHJcblxyXG5AaW1wb3J0IFwic2hhcmVkXCI7XHJcblxyXG5AaW1wb3J0IFwiZmxvYXQvY29udGFpbmVyXCI7XHJcbkBpbXBvcnQgXCJmbG9hdC9zcGFuXCI7XHJcbkBpbXBvcnQgXCJmbG9hdC9lbmRcIjtcclxuQGltcG9ydCBcImZsb2F0L2lzb2xhdGVcIjtcclxuIiwiLy8gU2hhcmVkIEFQSVxyXG4vLyA9PT09PT09PT09XHJcblxyXG5AaW1wb3J0IFwic3VwcG9ydFwiO1xyXG5cclxuQGltcG9ydCBcInNoYXJlZC9pbnNwZWN0XCI7XHJcbkBpbXBvcnQgXCJzaGFyZWQvb3V0cHV0XCI7XHJcbkBpbXBvcnQgXCJzaGFyZWQvZGlyZWN0aW9uXCI7XHJcbkBpbXBvcnQgXCJzaGFyZWQvYmFja2dyb3VuZFwiO1xyXG5AaW1wb3J0IFwic2hhcmVkL2NvbnRhaW5lclwiO1xyXG5AaW1wb3J0IFwic2hhcmVkL21hcmdpbnNcIjtcclxuQGltcG9ydCBcInNoYXJlZC9wYWRkaW5nXCI7XHJcblxyXG5cclxuXHJcbiIsIi8vIFN1c3kgQnJvd3NlciBTdXBwb3J0XHJcbi8vID09PT09PT09PT09PT09PT09PT09XHJcblxyXG5AaW1wb3J0IFwic3VwcG9ydC9zdXBwb3J0XCI7XHJcbkBpbXBvcnQgXCJzdXBwb3J0L3ByZWZpeFwiO1xyXG5AaW1wb3J0IFwic3VwcG9ydC9iYWNrZ3JvdW5kXCI7XHJcbkBpbXBvcnQgXCJzdXBwb3J0L2JveC1zaXppbmdcIjtcclxuQGltcG9ydCBcInN1cHBvcnQvcmVtXCI7XHJcbkBpbXBvcnQgXCJzdXBwb3J0L2NsZWFyZml4XCI7XHJcbiIsIi8vIEJyb3dzZXIgU3VwcG9ydFxyXG4vLyA9PT09PT09PT09PT09PT1cclxuXHJcbi8vIFN1c3kgU3VwcG9ydCBEZWZhdWx0c1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuQGluY2x1ZGUgc3VzeS1kZWZhdWx0cygoXHJcbiAgdXNlLWN1c3RvbTogKFxyXG4gICAgY2xlYXJmaXg6IGZhbHNlLFxyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdHJ1ZSxcclxuICAgIGJhY2tncm91bmQtb3B0aW9uczogZmFsc2UsXHJcbiAgICBicmVha3BvaW50OiB0cnVlLFxyXG4gICAgYm94LXNpemluZzogdHJ1ZSxcclxuICAgIHJlbTogdHJ1ZSxcclxuICApLFxyXG4pKTtcclxuXHJcblxyXG4vLyBTdXN5IFN1cHBvcnQgW21peGluXVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBTZW5kIHByb3BlcnR5LXZhbHVlIHBhaXJzIHRvIHRoZSBwcm9wZXIgc3VwcG9ydCBtb2R1bGVzLlxyXG4vLyAtICRwcm9wICA6IDxjc3MgcHJvcGVydHk+XHJcbi8vIC0gJHZhbCAgIDogPGNzcyB2YWx1ZT5cclxuQG1peGluIHN1c3ktc3VwcG9ydChcclxuICAkcHJvcCxcclxuICAkdmFsXHJcbikge1xyXG4gIC8vIEJhY2tncm91bmQgU3VwcG9ydFxyXG4gIEBpZiAkcHJvcCA9PSBiYWNrZ3JvdW5kLWltYWdlIHtcclxuICAgIEBpbmNsdWRlIHN1c3ktYmFja2dyb3VuZC1pbWFnZSgkdmFsKTtcclxuICB9IEBlbHNlIGlmICRwcm9wID09IGJhY2tncm91bmQtc2l6ZSB7XHJcbiAgICBAaW5jbHVkZSBzdXN5LWJhY2tncm91bmQtc2l6ZSgkdmFsKTtcclxuICB9IEBlbHNlIGlmICRwcm9wID09IGJhY2tncm91bmQtb3JpZ2luIHtcclxuICAgIEBpbmNsdWRlIHN1c3ktYmFja2dyb3VuZC1vcmlnaW4oJHZhbCk7XHJcbiAgfSBAZWxzZSBpZiAkcHJvcCA9PSBiYWNrZ3JvdW5kLWNsaXAge1xyXG4gICAgQGluY2x1ZGUgc3VzeS1iYWNrZ3JvdW5kLWNsaXAoJHZhbCk7XHJcbiAgfVxyXG5cclxuICAvLyBCb3gtU2l6aW5nIFN1cHBvcnRcclxuICBAZWxzZSBpZiAkcHJvcCA9PSBib3gtc2l6aW5nIHtcclxuICAgIEBpbmNsdWRlIHN1c3ktYm94LXNpemluZygkdmFsKTtcclxuICB9XHJcblxyXG4gIC8vIFJlbSBTdXBwb3J0XHJcbiAgQGVsc2Uge1xyXG4gICAgQGluY2x1ZGUgc3VzeS1yZW0oJHByb3AsICR2YWwpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIFN1c3kgU3VwcG9ydCBbZnVuY3Rpb25dXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENoZWNrIGZvciBzdXBwb3J0IG9mIGEgZmVhdHVyZS5cclxuLy8gLSAkZmVhdHVyZSAgICAgICA6IDxzdHJpbmc+XHJcbi8vICAgICAgICAgICAgICAgICAgICAtIGUuZyBcInJlbVwiIG9yIFwiYm94LXNpemluZ1wiXHJcbi8vIC0gJHJlcXVpcmVtZW50cyAgOiA8bWFwPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgLSBlLmcgKHZhcmlhYmxlOiByZW0td2l0aC1weC1mYWxsYmFjaywgbWl4aW46IHJlbSlcclxuLy8gLSAkd2FybiAgICAgICAgICA6IDxib29sPlxyXG5AZnVuY3Rpb24gc3VzeS1zdXBwb3J0KFxyXG4gICRmZWF0dXJlLFxyXG4gICRyZXF1aXJlbWVudHM6ICgpLFxyXG4gICR3YXJuOiB0cnVlXHJcbikge1xyXG4gICRfc3VwcG9ydDogc3VzeS1nZXQodXNlLWN1c3RvbSAkZmVhdHVyZSk7XHJcblxyXG4gIEBpZiAkX3N1cHBvcnQge1xyXG4gICAgJF9mYWlsOiBmYWxzZTtcclxuXHJcbiAgICBAZWFjaCAkX3R5cGUsICRfcmVxIGluICRyZXF1aXJlbWVudHMge1xyXG4gICAgICBAZWFjaCAkX2kgaW4gJF9yZXEge1xyXG4gICAgICAgICRfcGFzczogY2FsbCh1bnF1b3RlKFwiI3skX3R5cGV9LWV4aXN0c1wiKSwgJF9pKTtcclxuXHJcbiAgICAgICAgQGlmIG5vdCgkX3Bhc3MpIHtcclxuICAgICAgICAgICRfZmFpbDogdHJ1ZTtcclxuICAgICAgICAgIEBpZiAkd2FybiB7XHJcbiAgICAgICAgICAgIEB3YXJuIFwiWW91IHJlcXVlc3RlZCBjdXN0b20gc3VwcG9ydCBvZiAjeyRmZWF0dXJlfSwgYnV0IHRoZSAjeyRfaX0gI3skX3R5cGV9IGlzIG5vdCBhdmFpbGFibGUuXCI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJF9zdXBwb3J0OiBpZigkX2ZhaWwsIGZhbHNlLCAkX3N1cHBvcnQpO1xyXG4gIH1cclxuXHJcbiAgQHJldHVybiAkX3N1cHBvcnQ7XHJcbn1cclxuIiwiLy8gU3VzeSBQcmVmaXhcclxuLy8gPT09PT09PT09PT1cclxuXHJcbi8vIFByZWZpeFxyXG4vLyAtLS0tLS1cclxuLy8gT3V0cHV0IHNpbXBsZSBwcmVmaXhlZCBwcm9wZXJ0aWVzLlxyXG4vLyAtICRwcm9wICAgICAgOiA8Y3NzIHByb3BlcnR5PlxyXG4vLyAtICR2YWwgICAgICAgOiA8Y3NzIHZhbHVlPlxyXG4vLyAtIFskcHJlZml4XSAgOiA8YnJvd3NlciBwcmVmaXggbGlzdD5cclxuQG1peGluIHN1c3ktcHJlZml4KFxyXG4gICRwcm9wLFxyXG4gICR2YWwsXHJcbiAgJHByZWZpeDogb2ZmaWNpYWxcclxuKSB7XHJcbiAgQGVhY2ggJGZpeCBpbiAkcHJlZml4IHtcclxuICAgICRmaXg6IGlmKCRmaXggPT0gb2ZmaWNpYWwgb3Igbm90KCRmaXgpLCAkcHJvcCwgJy0jeyRmaXh9LSN7JHByb3B9Jyk7XHJcbiAgICBAaW5jbHVkZSBzdXN5LXJlbSgkZml4LCAkdmFsKTtcclxuICB9XHJcbn1cclxuIiwiLy8gQmFja2dyb3VuZCBQcm9wZXJ0aWVzXHJcbi8vID09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gU3VzeSBCYWNrZ3JvdW5kIEltYWdlXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDaGVjayBmb3IgYW4gZXhpc3Rpbmcgc3VwcG9ydCBtaXhpbiwgb3IgcHJvdmlkZSBhIHNpbXBsZSBmYWxsYmFjay5cclxuLy8gLSAkaW1hZ2U6IDxiYWNrZ3JvdW5kLWltYWdlPlxyXG5AbWl4aW4gc3VzeS1iYWNrZ3JvdW5kLWltYWdlKFxyXG4gICRpbWFnZVxyXG4pIHtcclxuICBAaWYgc3VzeS1zdXBwb3J0KGJhY2tncm91bmQtaW1hZ2UsIChtaXhpbjogYmFja2dyb3VuZC1pbWFnZSksICR3YXJuOiBmYWxzZSkge1xyXG4gICAgQGluY2x1ZGUgYmFja2dyb3VuZC1pbWFnZSgkaW1hZ2UuLi4pO1xyXG4gIH0gQGVsc2Uge1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogJGltYWdlO1xyXG4gIH1cclxufVxyXG5cclxuLy8gU3VzeSBCYWNrZ3JvdW5kIFNpemVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENoZWNrIGZvciBhbiBleGlzdGluZyBzdXBwb3J0IG1peGluLCBvciBwcm92aWRlIGEgc2ltcGxlIGZhbGxiYWNrLlxyXG4vLyAtICRpbWFnZTogPGJhY2tncm91bmQtc2l6ZT5cclxuQG1peGluIHN1c3ktYmFja2dyb3VuZC1zaXplKFxyXG4gICRzaXplXHJcbikge1xyXG4gIEBpZiBzdXN5LXN1cHBvcnQoYmFja2dyb3VuZC1vcHRpb25zLCAobWl4aW46IGJhY2tncm91bmQtc2l6ZSkpIHtcclxuICAgIEBpbmNsdWRlIGJhY2tncm91bmQtc2l6ZSgkc2l6ZSk7XHJcbiAgfSBAZWxzZSB7XHJcbiAgICBiYWNrZ3JvdW5kLXNpemU6ICRzaXplO1xyXG4gIH1cclxufVxyXG5cclxuLy8gU3VzeSBCYWNrZ3JvdW5kIE9yaWdpblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENoZWNrIGZvciBhbiBleGlzdGluZyBzdXBwb3J0IG1peGluLCBvciBwcm92aWRlIGEgc2ltcGxlIGZhbGxiYWNrLlxyXG4vLyAtICRpbWFnZTogPGJhY2tncm91bmQtb3JpZ2luPlxyXG5AbWl4aW4gc3VzeS1iYWNrZ3JvdW5kLW9yaWdpbihcclxuICAkb3JpZ2luXHJcbikge1xyXG4gIEBpZiBzdXN5LXN1cHBvcnQoYmFja2dyb3VuZC1vcHRpb25zLCAobWl4aW46IGJhY2tncm91bmQtb3JpZ2luKSkge1xyXG4gICAgQGluY2x1ZGUgYmFja2dyb3VuZC1vcmlnaW4oJG9yaWdpbik7XHJcbiAgfSBAZWxzZSB7XHJcbiAgICBiYWNrZ3JvdW5kLW9yaWdpbjogJG9yaWdpbjtcclxuICB9XHJcbn1cclxuXHJcbi8vIFN1c3kgQmFja2dyb3VuZCBDbGlwXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENoZWNrIGZvciBhbiBleGlzdGluZyBzdXBwb3J0IG1peGluLCBvciBwcm92aWRlIGEgc2ltcGxlIGZhbGxiYWNrLlxyXG4vLyAtICRpbWFnZTogPGJhY2tncm91bmQtY2xpcD5cclxuQG1peGluIHN1c3ktYmFja2dyb3VuZC1jbGlwKFxyXG4gICRjbGlwXHJcbikge1xyXG4gIEBpZiBzdXN5LXN1cHBvcnQoYmFja2dyb3VuZC1vcHRpb25zLCAobWl4aW46IGJhY2tncm91bmQtY2xpcCkpIHtcclxuICAgIEBpbmNsdWRlIGJhY2tncm91bmQtY2xpcCgkY2xpcCk7XHJcbiAgfSBAZWxzZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNsaXA6ICRjbGlwO1xyXG4gIH1cclxufVxyXG4iLCIvLyBCb3ggU2l6aW5nXHJcbi8vID09PT09PT09PT1cclxuXHJcbi8vIEJveCBTaXppbmdcclxuLy8gLS0tLS0tLS0tLVxyXG4vLyBDaGVjayBmb3IgYW4gZXhpc3Rpbmcgc3VwcG9ydCBtaXhpbiwgb3IgcHJvdmlkZSBhIHNpbXBsZSBmYWxsYmFjay5cclxuLy8gLSAkbW9kZWw6IDxib3gtc2l6aW5nPlxyXG5AbWl4aW4gc3VzeS1ib3gtc2l6aW5nKFxyXG4gICRtb2RlbDogY29udGVudC1ib3hcclxuKSB7XHJcbiAgQGlmICRtb2RlbCB7XHJcbiAgICBAaWYgc3VzeS1zdXBwb3J0KGJveC1zaXppbmcsIChtaXhpbjogYm94LXNpemluZyksICR3YXJuOiBmYWxzZSkge1xyXG4gICAgICBAaW5jbHVkZSBib3gtc2l6aW5nKCRtb2RlbCk7XHJcbiAgICB9IEBlbHNlIHtcclxuICAgICAgJHByZWZpeDogKG1veiwgd2Via2l0LCBvZmZpY2lhbCk7XHJcbiAgICAgIEBpbmNsdWRlIHN1c3ktcHJlZml4KGJveC1zaXppbmcsICRtb2RlbCwgJHByZWZpeCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIHJlbSBTdXBwb3J0XHJcbi8vID09PT09PT09PT09XHJcblxyXG4vLyByZW1cclxuLy8gLS0tXHJcbi8vIENoZWNrIGZvciBhbiBleGlzdGluZyBzdXBwb3J0IG1peGluLCBvciBvdXRwdXQgZGlyZWN0bHkuXHJcbi8vIC0gJHByb3AgIDogPGNzcyBwcm9wZXJ0eT5cclxuLy8gLSAkdmFsICAgOiA8Y3NzIHZhbHVlPlxyXG5AbWl4aW4gc3VzeS1yZW0oXHJcbiAgJHByb3AsXHJcbiAgJHZhbFxyXG4pIHtcclxuICAkX3JlcXM6IChcclxuICAgIHZhcmlhYmxlOiByaHl0aG0tdW5pdCByZW0td2l0aC1weC1mYWxsYmFjayxcclxuICAgIG1peGluOiByZW0sXHJcbiAgKTtcclxuICBAaWYgc3VzeS1zdXBwb3J0KHJlbSwgJF9yZXFzLCAkd2FybjogZmFsc2UpIGFuZCAkcmh5dGhtLXVuaXQgPT0gcmVtIHtcclxuICAgIEBpbmNsdWRlIHJlbSgkcHJvcCwgJHZhbCk7XHJcbiAgfSBAZWxzZSB7XHJcbiAgICAjeyRwcm9wfTogJHZhbDtcclxuICB9XHJcbn1cclxuIiwiLy8gU3VzeSBGYWxsYmFjayBDbGVhcmZpeFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5cclxuLy8gQ2xlYXJmaXhcclxuLy8gLS0tLS0tLS1cclxuLy8gQ2hlY2sgZm9yIGFuIGV4aXN0aW5nIHN1cHBvcnQgbWl4aW4sIG9yIHByb3ZpZGUgYSBzaW1wbGUgZmFsbGJhY2suXHJcbkBtaXhpbiBzdXN5LWNsZWFyZml4IHtcclxuICBAaWYgc3VzeS1zdXBwb3J0KGNsZWFyZml4LCAobWl4aW46IGNsZWFyZml4KSkge1xyXG4gICAgQGluY2x1ZGUgY2xlYXJmaXg7XHJcbiAgfSBAZWxzZSB7XHJcbiAgICAmOmFmdGVyIHtcclxuICAgICAgY29udGVudDogXCIgXCI7XHJcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICBjbGVhcjogYm90aDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLy8gRGVidWdnaW5nXHJcbi8vID09PT09PT09PVxyXG5cclxuLy8gU3VzeSBJbnNwZWN0XHJcbi8vIC0tLS0tLS0tLS0tLVxyXG4vLyBPdXRwdXQgYXJndW1lbnRzIHBhc3NlZCB0byBhIGluc3BlY3QuXHJcbi8vIC0gJG1peGluICA6IDxzdXN5IG1peGluPlxyXG4vLyAtICRpbnNwZWMgICA6IDxtaXhpbiBhcmd1bWVudHM+XHJcblxyXG5AbWl4aW4gc3VzeS1pbnNwZWN0KFxyXG4gICRtaXhpbixcclxuICAkaW5zcGVjdFxyXG4pIHtcclxuICAkc2hvdzogZmFsc2U7XHJcblxyXG4gIEBlYWNoICRpdGVtIGluICRpbnNwZWN0IHtcclxuICAgIEBpZiBpbmRleCgkaXRlbSwgaW5zcGVjdCkge1xyXG4gICAgICAkc2hvdzogdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEBpZiAkc2hvdyBvciBzdXN5LWdldChkZWJ1ZyBpbnNwZWN0KSB7XHJcbiAgICAtc3VzeS0jeyRtaXhpbn06IGluc3BlY3QoJGluc3BlY3QpO1xyXG4gIH1cclxufVxyXG4iLCIvLyBPdXRwdXRcclxuLy8gPT09PT09XHJcblxyXG4vLyBPdXRwdXRcclxuLy8gLS0tLS0tXHJcbi8vIE91dHB1dCBDU1Mgd2l0aCBwcm9wZXIgYnJvd3NlciBzdXBwb3J0LlxyXG4vLyAtICRzdHlsZXMgIDogPG1hcCBvZiBjc3MgcHJvcGVydHktdmFsdWUgcGFpcnM+XHJcbkBtaXhpbiBvdXRwdXQoXHJcbiAgJHN0eWxlc1xyXG4pIHtcclxuICBAZWFjaCAkcHJvcCwgJHZhbCBpbiAkc3R5bGVzIHtcclxuICAgIEBpbmNsdWRlIHN1c3ktc3VwcG9ydCgkcHJvcCwgJHZhbCk7XHJcbiAgfVxyXG59XHJcbiIsIi8vIERpcmVjdGlvbiBIZWxwZXJzXHJcbi8vID09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBTdXN5IEZsb3cgRGVmYXVsdHNcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIC0gUFJJVkFURVxyXG5AaW5jbHVkZSBzdXN5LWRlZmF1bHRzKChcclxuICBmbG93OiBsdHIsXHJcbikpO1xyXG5cclxuLy8gR2V0IERpcmVjdGlvblxyXG4vLyAtLS0tLS0tLS0tLS0tXHJcbi8vIFJldHVybiB0aGUgJ2Zyb20nIG9yICd0bycgZGlyZWN0aW9uIG9mIGEgbHRyIG9yIHJ0bCBmbG93LlxyXG4vLyAtIFskZmxvd10gIDogbHRyIHwgcnRsXHJcbi8vIC0gWyRrZXldICAgOiBmcm9tIHwgdG9cclxuQGZ1bmN0aW9uIGdldC1kaXJlY3Rpb24oXHJcbiAgJGZsb3c6IG1hcC1nZXQoJHN1c3ktZGVmYXVsdHMsIGZsb3cpLFxyXG4gICRrZXk6IGZyb21cclxuKSB7XHJcbiAgJHJldHVybjogaWYoJGZsb3cgPT0gcnRsLCAoZnJvbTogcmlnaHQsIHRvOiBsZWZ0KSwgKGZyb206IGxlZnQsIHRvOiByaWdodCkpO1xyXG4gIEByZXR1cm4gbWFwLWdldCgkcmV0dXJuLCAka2V5KTtcclxufVxyXG5cclxuLy8gVG9cclxuLy8gLS1cclxuLy8gUmV0dXJuIHRoZSAndG8nIGRpcmVjdGlvbiBvZiBhIGZsb3dcclxuLy8gLSBbJGZsb3ddICA6IGx0ciB8IHJ0bFxyXG5AZnVuY3Rpb24gdG8oXHJcbiAgJGZsb3c6IG1hcC1nZXQoJHN1c3ktZGVmYXVsdHMsIGZsb3cpXHJcbikge1xyXG4gIEByZXR1cm4gZ2V0LWRpcmVjdGlvbigkZmxvdywgdG8pO1xyXG59XHJcblxyXG4vLyBGcm9tXHJcbi8vIC0tLS1cclxuLy8gUmV0dXJuIHRoZSAnZnJvbScgZGlyZWN0aW9uIG9mIGEgZmxvd1xyXG4vLyAtIFskZmxvd10gIDogbHRyIHwgcnRsXHJcbkBmdW5jdGlvbiBmcm9tKFxyXG4gICRmbG93OiBtYXAtZ2V0KCRzdXN5LWRlZmF1bHRzLCBmbG93KVxyXG4pIHtcclxuICBAcmV0dXJuIGdldC1kaXJlY3Rpb24oJGZsb3csIGZyb20pO1xyXG59XHJcbiIsIi8vIEdyaWQgQmFja2dyb3VuZCBBUElcclxuLy8gPT09PT09PT09PT09PT09PT09PVxyXG4vLyAtIFN1Yi1waXhlbCByb3VuZGluZyBjYW4gbGVhZCB0byBzZXZlcmFsIHBpeGVscyB2YXJpYXRpb24gYmV0d2VlbiBicm93c2Vycy5cclxuXHJcbi8vIEdyaWQgQmFja2dyb3VuZCBPdXRwdXRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAtICRpbWFnZTogYmFja2dyb3VuZC1pbWFnZVxyXG4vLyAtICRzaXplOiBiYWNrZ3JvdW5kLXNpemVcclxuLy8gLSAkY2xpcDogYmFja2dyb3VuZC1jbGlwXHJcbi8vIC0gWyRmbG93XTogbHRyIHwgcnRsXHJcbkBtaXhpbiBiYWNrZ3JvdW5kLWdyaWQtb3V0cHV0IChcclxuICAkaW1hZ2UsXHJcbiAgJHNpemU6IG51bGwsXHJcbiAgJGNsaXA6IG51bGwsXHJcbiAgJGZsb3c6IG1hcC1nZXQoJHN1c3ktZGVmYXVsdHMsIGZsb3cpXHJcbikge1xyXG4gICRvdXRwdXQ6IChcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6ICRpbWFnZSxcclxuICAgIGJhY2tncm91bmQtc2l6ZTogJHNpemUsXHJcbiAgICBiYWNrZ3JvdW5kLW9yaWdpbjogJGNsaXAsXHJcbiAgICBiYWNrZ3JvdW5kLWNsaXA6ICRjbGlwLFxyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogZnJvbSgkZmxvdykgdG9wLFxyXG4gICk7XHJcblxyXG4gIEBpbmNsdWRlIG91dHB1dCgkb3V0cHV0KTtcclxufVxyXG4iLCIvLyBTaGFyZWQgQ29udGFpbmVyIEFQSVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gQ29udGFpbmVyIE91dHB1dFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tXHJcbi8vIC0gWyR3aWR0aF0gICAgICAgICA6IDxsZW5ndGg+XHJcbi8vIC0gWyRqdXN0aWZ5XSAgICAgICA6IGxlZnQgfCBjZW50ZXIgfCByaWdodFxyXG4vLyAtIFskbWF0aF0gICAgICAgICAgOiBmbHVpZCB8IHN0YXRpY1xyXG5AbWl4aW4gY29udGFpbmVyLW91dHB1dChcclxuICAkd2lkdGgsXHJcbiAgJGp1c3RpZnk6IGF1dG8gYXV0byxcclxuICAkcHJvcGVydHk6IG1heC13aWR0aFxyXG4pIHtcclxuICAkb3V0cHV0OiAoXHJcbiAgICAjeyRwcm9wZXJ0eX06ICR3aWR0aCBvciAxMDAlLFxyXG4gICAgbWFyZ2luLWxlZnQ6IG50aCgkanVzdGlmeSwgMSksXHJcbiAgICBtYXJnaW4tcmlnaHQ6IG50aCgkanVzdGlmeSwgMiksXHJcbiAgKTtcclxuXHJcbiAgQGluY2x1ZGUgb3V0cHV0KCRvdXRwdXQpO1xyXG59XHJcbiIsIi8vIE1hcmdpbnMgQVBJXHJcbi8vID09PT09PT09PT09XHJcblxyXG4vLyBNYXJnaW4gT3V0cHV0XHJcbi8vIC0tLS0tLS0tLS0tLS1cclxuLy8gLSAkYmVmb3JlICA6IDxsZW5ndGg+XHJcbi8vIC0gJGFmdGVyICAgOiA8bGVuZ3RoPlxyXG4vLyAtIFskZmxvd10gIDogbHRyIHwgcnRsXHJcbkBtaXhpbiBtYXJnaW4tb3V0cHV0KFxyXG4gICRiZWZvcmUsXHJcbiAgJGFmdGVyLFxyXG4gICRmbG93OiBtYXAtZ2V0KCRzdXN5LWRlZmF1bHRzLCBmbG93KVxyXG4pIHtcclxuICAkdG86IHRvKCRmbG93KTtcclxuICAkZnJvbTogZnJvbSgkZmxvdyk7XHJcblxyXG4gICRvdXRwdXQ6IChcclxuICAgIG1hcmdpbi0jeyRmcm9tfTogJGJlZm9yZSxcclxuICAgIG1hcmdpbi0jeyR0b306ICRhZnRlcixcclxuICApO1xyXG5cclxuICBAaW5jbHVkZSBvdXRwdXQoJG91dHB1dCk7XHJcbn1cclxuIiwiLy8gUGFkZGluZyBBUElcclxuLy8gPT09PT09PT09PT1cclxuXHJcbi8vIFBhZGRpbmcgT3V0cHV0XHJcbi8vIC0tLS0tLS0tLS0tLS0tXHJcbi8vIC0gJGJlZm9yZSAgOiA8bGVuZ3RoPlxyXG4vLyAtICRhZnRlciAgIDogPGxlbmd0aD5cclxuLy8gLSBbJGZsb3ddICA6IGx0ciB8IHJ0bFxyXG5AbWl4aW4gcGFkZGluZy1vdXRwdXQoXHJcbiAgJGJlZm9yZSxcclxuICAkYWZ0ZXIsXHJcbiAgJGZsb3c6IG1hcC1nZXQoJHN1c3ktZGVmYXVsdHMsIGZsb3cpXHJcbikge1xyXG4gICR0bzogdG8oJGZsb3cpO1xyXG4gICRmcm9tOiBmcm9tKCRmbG93KTtcclxuXHJcbiAgJG91dHB1dDogKFxyXG4gICAgcGFkZGluZy0jeyRmcm9tfTogJGJlZm9yZSxcclxuICAgIHBhZGRpbmctI3skdG99OiAkYWZ0ZXIsXHJcbiAgKTtcclxuXHJcbiAgQGluY2x1ZGUgb3V0cHV0KCRvdXRwdXQpO1xyXG59XHJcbiIsIi8vIEZsb2F0IENvbnRhaW5lciBBUElcclxuLy8gPT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gRmxvYXQgQ29udGFpbmVyXHJcbi8vIC0tLS0tLS0tLS0tLS0tLVxyXG4vLyAtIFskd2lkdGhdICAgICAgICAgOiA8bGVuZ3RoPlxyXG4vLyAtIFskanVzdGlmeV0gICAgICAgOiBsZWZ0IHwgY2VudGVyIHwgcmlnaHRcclxuLy8gLSBbJG1hdGhdICAgOiBmbHVpZCB8IHN0YXRpY1xyXG5AbWl4aW4gZmxvYXQtY29udGFpbmVyKFxyXG4gICR3aWR0aCxcclxuICAkanVzdGlmeTogYXV0byBhdXRvLFxyXG4gICRwcm9wZXJ0eTogbWF4LXdpZHRoXHJcbikge1xyXG4gIEBpbmNsdWRlIHN1c3ktY2xlYXJmaXg7XHJcbiAgQGluY2x1ZGUgY29udGFpbmVyLW91dHB1dCgkd2lkdGgsICRqdXN0aWZ5LCAkcHJvcGVydHkpO1xyXG59XHJcbiIsIi8vIEZsb2F0IFNwYW4gQVBJXHJcbi8vID09PT09PT09PT09PT09XHJcblxyXG4vLyBGbG9hdCBTcGFuIE91dHB1dFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAtICR3aWR0aCAgICAgICAgICAgICA6IDxsZW5ndGg+XHJcbi8vIC0gWyRmbG9hdF0gICAgICAgICAgIDogZnJvbSB8IHRvXHJcbi8vIC0gWyRtYXJnaW4tYmVmb3JlXSAgIDogPGxlbmd0aD5cclxuLy8gLSBbJG1hcmdpbi1hZnRlcl0gICAgOiA8bGVuZ3RoPlxyXG4vLyAtIFskcGFkZGluZy1iZWZvcmVdICA6IDxsZW5ndGg+XHJcbi8vIC0gWyRwYWRkaW5nLWFmdGVyXSAgIDogPGxlbmd0aD5cclxuLy8gLSBbJGZsb3ddICAgICAgICAgICAgOiBsdHIgfCBydGxcclxuQG1peGluIGZsb2F0LXNwYW4tb3V0cHV0KFxyXG4gICR3aWR0aCxcclxuICAkZmxvYXQgICAgICAgICAgICA6IGZyb20sXHJcbiAgJG1hcmdpbi1iZWZvcmUgICAgOiBudWxsLFxyXG4gICRtYXJnaW4tYWZ0ZXIgICAgIDogbnVsbCxcclxuICAkcGFkZGluZy1iZWZvcmUgICA6IG51bGwsXHJcbiAgJHBhZGRpbmctYWZ0ZXIgICAgOiBudWxsLFxyXG4gICRmbG93ICAgICAgICAgICAgIDogbWFwLWdldCgkc3VzeS1kZWZhdWx0cywgZmxvdylcclxuKSB7XHJcbiAgJHRvICAgICA6IHRvKCRmbG93KTtcclxuICAkZnJvbSAgIDogZnJvbSgkZmxvdyk7XHJcblxyXG4gICRvdXRwdXQ6IChcclxuICAgIHdpZHRoOiAkd2lkdGgsXHJcbiAgICBmbG9hdDogaWYoJGZsb2F0ID09IHRvLCAkdG8sIG51bGwpIG9yIGlmKCRmbG9hdCA9PSBmcm9tLCAkZnJvbSwgbnVsbCksXHJcbiAgICBtYXJnaW4tI3skZnJvbX06ICRtYXJnaW4tYmVmb3JlLFxyXG4gICAgbWFyZ2luLSN7JHRvfTogJG1hcmdpbi1hZnRlcixcclxuICAgIHBhZGRpbmctI3skZnJvbX06ICRwYWRkaW5nLWJlZm9yZSxcclxuICAgIHBhZGRpbmctI3skdG99OiAkcGFkZGluZy1hZnRlcixcclxuICApO1xyXG5cclxuICBAaW5jbHVkZSBvdXRwdXQoJG91dHB1dCk7XHJcbn1cclxuIiwiLy8gRmxvYXQgRW5kcyBBUElcclxuLy8gPT09PT09PT09PT09PT1cclxuXHJcbi8vIFN1c3kgRW5kIERlZmF1bHRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIC0gUFJJVkFURVxyXG5AaW5jbHVkZSBzdXN5LWRlZmF1bHRzKChcclxuICBsYXN0LWZsb3c6IHRvLFxyXG4pKTtcclxuXHJcbi8vIEZsb2F0IExhc3RcclxuLy8gLS0tLS0tLS0tLVxyXG4vLyAtIFskZmxvd10gIDogbHRyIHwgcnRsXHJcbkBtaXhpbiBmbG9hdC1sYXN0KFxyXG4gICRmbG93OiBtYXAtZ2V0KCRzdXN5LWRlZmF1bHRzLCBmbG93KSxcclxuICAkbGFzdC1mbG93OiBtYXAtZ2V0KCRzdXN5LWRlZmF1bHRzLCBsYXN0LWZsb3cpLFxyXG4gICRtYXJnaW46IDBcclxuKSB7XHJcbiAgJHRvOiB0bygkZmxvdyk7XHJcblxyXG4gICRvdXRwdXQ6IChcclxuICAgIGZsb2F0OiBpZigkbGFzdC1mbG93ID09IHRvLCAkdG8sIG51bGwpLFxyXG4gICAgbWFyZ2luLSN7JHRvfTogJG1hcmdpbixcclxuICApO1xyXG5cclxuICBAaW5jbHVkZSBvdXRwdXQoJG91dHB1dCk7XHJcbn1cclxuXHJcbi8vIEZsb2F0IEZpcnN0XHJcbi8vIC0tLS0tLS0tLS0tXHJcbi8vIC0gWyRmbG93XSAgOiBsdHIgfCBydGxcclxuQG1peGluIGZsb2F0LWZpcnN0KFxyXG4gICRmbG93OiBtYXAtZ2V0KCRzdXN5LWRlZmF1bHRzLCBmbG93KVxyXG4pIHtcclxuICAkb3V0cHV0OiAoXHJcbiAgICBtYXJnaW4tI3tmcm9tKCRmbG93KX06IDAsXHJcbiAgKTtcclxuXHJcbiAgQGluY2x1ZGUgb3V0cHV0KCRvdXRwdXQpO1xyXG59XHJcbiIsIi8vIEZsb2F0IElzb2xhdGlvbiBBUElcclxuLy8gPT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gSXNvbGF0ZSBPdXRwdXRcclxuLy8gLS0tLS0tLS0tLS0tLS1cclxuLy8gLSAkcHVzaCAgICA6IDxsZW5ndGg+XHJcbi8vIC0gWyRmbG93XSAgOiBsdHIgfCBydGxcclxuQG1peGluIGlzb2xhdGUtb3V0cHV0KFxyXG4gICRwdXNoLFxyXG4gICRmbG93OiBtYXAtZ2V0KCRzdXN5LWRlZmF1bHRzLCBmbG93KVxyXG4pIHtcclxuICAkdG86IHRvKCRmbG93KTtcclxuICAkZnJvbTogZnJvbSgkZmxvdyk7XHJcblxyXG4gICRvdXRwdXQ6IChcclxuICAgIGZsb2F0OiAkZnJvbSxcclxuICAgIG1hcmdpbi0jeyRmcm9tfTogJHB1c2gsXHJcbiAgICBtYXJnaW4tI3skdG99OiAtMTAwJSxcclxuICApO1xyXG5cclxuICBAaW5jbHVkZSBvdXRwdXQoJG91dHB1dCk7XHJcbn1cclxuIiwiLy8gU3VzeSBTZXR0aW5nc1xyXG4vLyA9PT09PT09PT09PT09XHJcblxyXG4vLyBTdXN5IExhbmd1YWdlIERlZmF1bHRzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gLSBQUklWQVRFXHJcbkBpbmNsdWRlIHN1c3ktZGVmYXVsdHMoKFxyXG4gIGNvbnRhaW5lcjogYXV0byxcclxuICBtYXRoOiBmbHVpZCxcclxuICBvdXRwdXQ6IGZsb2F0LFxyXG4gIGNvbnRhaW5lci1wb3NpdGlvbjogY2VudGVyLFxyXG4gIGd1dHRlci1wb3NpdGlvbjogYWZ0ZXIsXHJcbiAgZ2xvYmFsLWJveC1zaXppbmc6IGNvbnRlbnQtYm94LFxyXG4gIGRlYnVnOiAoXHJcbiAgICBpbWFnZTogaGlkZSxcclxuICAgIGNvbG9yOiByZ2JhKCM2NmYsIC4yNSksXHJcbiAgICBvdXRwdXQ6IGJhY2tncm91bmQsXHJcbiAgICB0b2dnbGU6IHRvcCByaWdodCxcclxuICApLFxyXG4pKTtcclxuXHJcblxyXG4vLyBWYWxpZCBLZXl3b3JkIFZhbHVlc1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAtIFBSSVZBVEU6IERPTlQnVCBUT1VDSFxyXG4kc3VzeS1rZXl3b3JkczogKFxyXG4gIGNvbnRhaW5lcjogYXV0byxcclxuICBtYXRoOiBzdGF0aWMgZmx1aWQsXHJcbiAgb3V0cHV0OiBpc29sYXRlIGZsb2F0LFxyXG4gIGNvbnRhaW5lci1wb3NpdGlvbjogbGVmdCBjZW50ZXIgcmlnaHQsXHJcbiAgZmxvdzogbHRyIHJ0bCxcclxuICBndXR0ZXItcG9zaXRpb246IGJlZm9yZSBhZnRlciBzcGxpdCBpbnNpZGUgaW5zaWRlLXN0YXRpYyxcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94IGNvbnRlbnQtYm94LFxyXG4gIHNwYW46IGZ1bGwsXHJcbiAgZWRnZTogZmlyc3QgYWxwaGEgbGFzdCBvbWVnYSBmdWxsLFxyXG4gIHNwcmVhZDogbmFycm93IHdpZGUgd2lkZXIsXHJcbiAgZ3V0dGVyLW92ZXJyaWRlOiBuby1ndXR0ZXJzIG5vLWd1dHRlcixcclxuICByb2xlOiBuZXN0LFxyXG4gIGNsZWFyOiBicmVhayBub2JyZWFrLFxyXG4gIGRlYnVnIGltYWdlOiBzaG93IGhpZGUgc2hvdy1jb2x1bW5zIHNob3ctYmFzZWxpbmUsXHJcbiAgZGVidWcgb3V0cHV0OiBiYWNrZ3JvdW5kIG92ZXJsYXksXHJcbik7XHJcblxyXG5cclxuLy8gUGFyc2UgU3VzeSBLZXl3b3JkcyBhbmQgTWFwc1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBmdW5jdGlvbiBwYXJzZS1zZXR0aW5ncyhcclxuICAkc2hvcnQ6ICRzdXN5XHJcbikge1xyXG4gICRfcmV0dXJuOiAoKTtcclxuXHJcbiAgQGlmIHR5cGUtb2YoJHNob3J0KSA9PSBtYXAge1xyXG4gICAgJF9yZXR1cm46ICRzaG9ydDtcclxuICB9IEBlbHNlIHtcclxuICAgIEBlYWNoICRpdGVtIGluICRzaG9ydCB7XHJcbiAgICAgIC8vIHN0cmluZ3NcclxuICAgICAgQGlmIHR5cGUtb2YoJGl0ZW0pID09IHN0cmluZyB7XHJcbiAgICAgICAgQGVhY2ggJGtleSwgJHZhbHVlIGluICRzdXN5LWtleXdvcmRzIHtcclxuICAgICAgICAgIEBpZiBpbmRleCgkdmFsdWUsICRpdGVtKSB7XHJcbiAgICAgICAgICAgICRfa2V5LXZhbHVlOiBhcHBlbmQoJGtleSwgJGl0ZW0pO1xyXG4gICAgICAgICAgICAkX3JldHVybjogX3N1c3ktZGVlcC1zZXQoJF9yZXR1cm4sICRfa2V5LXZhbHVlLi4uKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIC8vIG1hcHNcclxuICAgICAgfSBAZWxzZSBpZiB0eXBlLW9mKCRpdGVtKSA9PSBtYXAge1xyXG4gICAgICAgICRfcmV0dXJuOiBtYXAtbWVyZ2UoJF9yZXR1cm4sICRpdGVtKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQHJldHVybiAkX3JldHVybjtcclxufVxyXG5cclxuXHJcbi8vIFBhcnNlIENvbHVtbnMgJiBHdXR0ZXJzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBmdW5jdGlvbiBwYXJzZS1sYXlvdXQoXHJcbiAgJHNob3J0XHJcbikge1xyXG4gICRfcmV0dXJuOiAoKTtcclxuICAkX2NvbHVtbnM6ICgpO1xyXG4gICRfZ3V0dGVyczogbnVsbDtcclxuXHJcbiAgQGlmIG5vdCh1bml0bGVzcyhudGgobnRoKCRzaG9ydCwgMSksIDEpKSkge1xyXG4gICAgJF9ndXR0ZXJzOiBudGgoJHNob3J0LCAxKTtcclxuICB9IEBlbHNlIHtcclxuICAgICRfY29sdW1uczogKGNvbHVtbnM6IG50aCgkc2hvcnQsIDEpKTtcclxuICAgICRfZ3V0dGVyczogaWYobGVuZ3RoKCRzaG9ydCkgPiAxLCBudGgoJHNob3J0LCAyKSwgJF9ndXR0ZXJzKTtcclxuICB9XHJcblxyXG4gIEBpZiB0eXBlLW9mKCRfZ3V0dGVycykgPT0gbGlzdCBhbmQgbGVuZ3RoKCRfZ3V0dGVycykgPiAwIHtcclxuICAgICRfZ3V0dGVyczogKFxyXG4gICAgICBndXR0ZXJzOiBudGgoJF9ndXR0ZXJzLCAyKSAvIG50aCgkX2d1dHRlcnMsIDEpLFxyXG4gICAgICBjb2x1bW4td2lkdGg6IG50aCgkX2d1dHRlcnMsIDEpLFxyXG4gICAgKTtcclxuICB9IEBlbHNlIHtcclxuICAgICRfZ3V0dGVyczogaWYoJF9ndXR0ZXJzLCAoZ3V0dGVyczogJF9ndXR0ZXJzKSwgKCkpO1xyXG4gIH1cclxuXHJcbiAgJF9yZXR1cm46IG1hcC1tZXJnZSgkX3JldHVybiwgJF9jb2x1bW5zKTtcclxuICAkX3JldHVybjogbWFwLW1lcmdlKCRfcmV0dXJuLCAkX2d1dHRlcnMpO1xyXG5cclxuICBAcmV0dXJuICRfcmV0dXJuO1xyXG59XHJcblxyXG5cclxuLy8gUGFyc2UgR3JpZC9Db250ZXh0XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AZnVuY3Rpb24gcGFyc2UtZ3JpZChcclxuICAkc2hvcnQ6ICRzdXN5XHJcbikge1xyXG4gICRfcmV0dXJuOiBwYXJzZS1zZXR0aW5ncygkc2hvcnQpO1xyXG4gICRfbGF5b3V0OiAoKTtcclxuXHJcbiAgQGlmIHR5cGUtb2YoJHNob3J0KSA9PSBtYXAge1xyXG4gICAgJF9yZXR1cm46ICRzaG9ydDtcclxuICB9IEBlbHNlIHtcclxuICAgIEBlYWNoICRpdGVtIGluICRzaG9ydCB7XHJcbiAgICAgIC8vIG51bWJlciBvciBsaXN0XHJcbiAgICAgIEBpZiB0eXBlLW9mKCRpdGVtKSA9PSBudW1iZXIgb3IgdHlwZS1vZigkaXRlbSkgPT0gbGlzdCB7XHJcbiAgICAgICAgQGlmIHR5cGUtb2YoJGl0ZW0pID09IGxpc3Qgb3IgdW5pdGxlc3MoJGl0ZW0pIHtcclxuICAgICAgICAgICRfbGF5b3V0OiBhcHBlbmQoJF9sYXlvdXQsICRpdGVtKTtcclxuICAgICAgICB9IEBlbHNlIHtcclxuICAgICAgICAgICRfcmV0dXJuOiBtYXAtbWVyZ2UoJF9yZXR1cm4sIChjb250YWluZXI6ICRpdGVtKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJF9sYXlvdXQ6IGlmKGxlbmd0aCgkX2xheW91dCkgPiAwLCBwYXJzZS1sYXlvdXQoJF9sYXlvdXQpLCAkX2xheW91dCk7XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuIG1hcC1tZXJnZSgkX3JldHVybiwgJF9sYXlvdXQpO1xyXG59XHJcblxyXG5cclxuLy8gUGFyc2UgU3BhblxyXG4vLyAtLS0tLS0tLS0tXHJcbkBmdW5jdGlvbiBwYXJzZS1zcGFuKFxyXG4gICRzaG9ydCxcclxuICAka2V5OiBzcGFuXHJcbikge1xyXG4gICRfcmV0dXJuOiAoKTtcclxuXHJcbiAgQGlmIHR5cGUtb2YoJHNob3J0KSA9PSBtYXAge1xyXG4gICAgJF9yZXR1cm46ICRzaG9ydDtcclxuICB9IEBlbHNlIHtcclxuICAgICRfYXQ6IGluZGV4KCRzaG9ydCwgYXQpO1xyXG5cclxuICAgIEBpZiAkX2F0IHtcclxuICAgICAgJF9sb2NpOiAkX2F0ICsgMTtcclxuICAgICAgJF9sb2NhdGlvbjogbnRoKCRzaG9ydCwgJF9sb2NpKTtcclxuICAgICAgJF9yZXR1cm46IG1hcC1tZXJnZSgkX3JldHVybiwgKGxvY2F0aW9uOiAkX2xvY2F0aW9uKSk7XHJcbiAgICAgICRzaG9ydDogc2V0LW50aCgkc2hvcnQsICRfYXQsIG51bGwpO1xyXG4gICAgICAkc2hvcnQ6IHNldC1udGgoJHNob3J0LCAkX2xvY2ksIG51bGwpO1xyXG4gICAgfVxyXG5cclxuICAgICRfaTogMTtcclxuICAgICRfc3BhbjogKCk7XHJcblxyXG4gICAgQHdoaWxlICRfaSA8PSBsZW5ndGgoJHNob3J0KSB7XHJcbiAgICAgICRfdGhpczogbnRoKCRzaG9ydCwgJF9pKTtcclxuXHJcbiAgICAgIEBpZiB0eXBlLW9mKCRfdGhpcykgPT0gbnVtYmVyIHtcclxuICAgICAgICAkX3NwYW46IGFwcGVuZCgkX3NwYW4sICRfdGhpcyk7XHJcbiAgICAgICAgJHNob3J0OiBzZXQtbnRoKCRzaG9ydCwgJF9pLCBudWxsKTtcclxuICAgICAgfSBAZWxzZSBpZiAkX3RoaXMgPT0gb2Yge1xyXG4gICAgICAgICRzaG9ydDogc2V0LW50aCgkc2hvcnQsICRfaSwgbnVsbCk7XHJcbiAgICAgICAgJF9pOiBsZW5ndGgoJHNob3J0KSArIDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRfaTogJF9pICsgMTtcclxuICAgIH1cclxuXHJcbiAgICBAaWYgbGVuZ3RoKCRfc3BhbikgPiAwIHtcclxuICAgICAgJF9zcGFuOiBpZihsZW5ndGgoJF9zcGFuKSA9PSAxLCBudGgoJF9zcGFuLCAxKSwgJF9zcGFuKTtcclxuICAgICAgJF9yZXR1cm46IG1hcC1tZXJnZSgkX3JldHVybiwgKCRrZXk6ICRfc3BhbikpO1xyXG4gICAgfVxyXG5cclxuICAgICRfcmV0dXJuOiBtYXAtbWVyZ2UoJF9yZXR1cm4sIHBhcnNlLWdyaWQoJHNob3J0KSk7XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuICRfcmV0dXJuO1xyXG59XHJcblxyXG5cclxuLy8gUGFyc2UgR3V0dGVyc1xyXG4vLyAtLS0tLS0tLS0tLS0tXHJcbkBmdW5jdGlvbiBwYXJzZS1ndXR0ZXJzKFxyXG4gICRzaG9ydDogJHN1c3lcclxuKSB7XHJcbiAgJF9ndXR0ZXJzOiBwYXJzZS1zcGFuKCRzaG9ydCwgZ3V0dGVyLW92ZXJyaWRlKTtcclxuICAkX3NwYW46IHN1c3ktZ2V0KGd1dHRlci1vdmVycmlkZSwgJF9ndXR0ZXJzKTtcclxuXHJcbiAgQGlmICRfc3BhbiBhbmQgbm90KG1hcC1nZXQoJF9ndXR0ZXJzLCBjb2x1bW5zKSkge1xyXG4gICAgJF9jb250ZXh0OiAoKTtcclxuICAgICRfbmV3OiAoKTtcclxuXHJcbiAgICBAZWFjaCAkaXRlbSBpbiAkX3NwYW4ge1xyXG4gICAgICBAaWYgdHlwZS1vZigkaXRlbSkgPT0gbnVtYmVyIGFuZCB1bml0bGVzcygkaXRlbSkge1xyXG4gICAgICAgICRfY29udGV4dDogYXBwZW5kKCRfY29udGV4dCwgJGl0ZW0pO1xyXG4gICAgICB9IEBlbHNlIHtcclxuICAgICAgICAkX25ldzogYXBwZW5kKCRfbmV3LCAkaXRlbSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAkX2NvbnRleHQ6IHBhcnNlLWdyaWQoJF9jb250ZXh0KTtcclxuICAgICRfbmV3OiBpZihsZW5ndGgoJF9uZXcpID09IDAsIG51bGwsICRfbmV3KTtcclxuICAgICRfbmV3OiBpZihsZW5ndGgoJF9uZXcpID09IDEsIG50aCgkX25ldywgMSksICRfbmV3KTtcclxuICAgICRfbmV3OiAoZ3V0dGVyLW92ZXJyaWRlOiBpZigkX25ldyAhPSAkX3NwYW4sICRfbmV3LCAkX3NwYW4pKTtcclxuXHJcbiAgICAkX2d1dHRlcnM6IG1hcC1tZXJnZSgkX2d1dHRlcnMsICRfbmV3KTtcclxuICAgICRfZ3V0dGVyczogbWFwLW1lcmdlKCRfZ3V0dGVycywgJF9jb250ZXh0KTtcclxuICB9XHJcblxyXG4gIEByZXR1cm4gJF9ndXR0ZXJzO1xyXG59XHJcbiIsIi8vIFZhbGlkYXRpb25cclxuLy8gPT09PT09PT09PVxyXG5cclxuXHJcbi8vIFZhbGlkYXRlIENvbHVtbiBNYXRoXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBmdW5jdGlvbiB2YWxpZC1jb2x1bW4tbWF0aChcclxuICAkbWF0aCxcclxuICAkY29sdW1uLXdpZHRoXHJcbikge1xyXG4gIEBpZiAkbWF0aCA9PSBzdGF0aWMgYW5kIG5vdCgkY29sdW1uLXdpZHRoKSB7XHJcbiAgICBAZXJyb3IgJ1N0YXRpYyBtYXRoIHJlcXVpcmVzIGEgdmFsaWQgY29sdW1uLXdpZHRoIHNldHRpbmcuJztcclxuICB9XHJcblxyXG4gIEByZXR1cm4gJGNvbHVtbi13aWR0aDtcclxufVxyXG4iLCIvLyBHcmlkIFN5bnRheFxyXG4vLyA9PT09PT09PT09PVxyXG5cclxuXHJcbi8vIExheW91dFxyXG4vLyAtLS0tLS1cclxuLy8gU2V0IGEgbmV3IGxheW91dCB1c2luZyBhIHNob3J0aGFuZFxyXG4vLyAtICRsYXlvdXQ6IDxzZXR0aW5ncz5cclxuLy8gLSAkY2xlYW46IGJvb2xlYW5cclxuQG1peGluIGxheW91dChcclxuICAkbGF5b3V0LFxyXG4gICRjbGVhbjogZmFsc2VcclxuKSB7XHJcbiAgJGluc3BlY3QgIDogJGxheW91dDtcclxuICAkc3VzeSAgICAgOiBfZ2V0LWxheW91dCgkbGF5b3V0LCAkY2xlYW4pICFnbG9iYWw7XHJcblxyXG4gIEBpbmNsdWRlIHN1c3ktaW5zcGVjdChsYXlvdXQsICRpbnNwZWN0KTtcclxufVxyXG5cclxuXHJcbi8vIFVzZSBHcmlkXHJcbi8vIC0tLS0tLS0tXHJcbi8vIFVzZSBhbiBhcmJpdHJhcnkgbGF5b3V0IGZvciBhIHNlY3Rpb24gb2YgY29kZVxyXG4vLyAtICRsYXlvdXQ6IDxzZXR0aW5ncz5cclxuLy8gLSAkY2xlYW46IGJvb2xlYW5cclxuQG1peGluIHdpdGgtbGF5b3V0KFxyXG4gICRsYXlvdXQsXHJcbiAgJGNsZWFuOiBmYWxzZVxyXG4pIHtcclxuICAkaW5zcGVjdCAgOiAkbGF5b3V0O1xyXG4gICRvbGQgICAgICA6ICRzdXN5O1xyXG4gICRzdXN5ICAgICA6IF9nZXQtbGF5b3V0KCRsYXlvdXQsICRjbGVhbikgIWdsb2JhbDtcclxuXHJcbiAgQGluY2x1ZGUgc3VzeS1pbnNwZWN0KHdpdGgtbGF5b3V0LCAkaW5zcGVjdCk7XHJcblxyXG4gIEBjb250ZW50O1xyXG5cclxuICAkc3VzeTogJG9sZCAhZ2xvYmFsO1xyXG59XHJcblxyXG5cclxuLy8gTGF5b3V0XHJcbi8vIC0tLS0tLVxyXG4vLyBSZXR1cm4gYSBwYXJzZWQgbGF5b3V0IG1hcCBiYXNlZCBvbiBzaG9ydGhhbmQgc3ludGF4XHJcbi8vIC0gJGxheW91dDogPHNldHRpbmdzPlxyXG5AZnVuY3Rpb24gbGF5b3V0KFxyXG4gICRsYXlvdXQ6ICRzdXN5XHJcbikge1xyXG4gIEByZXR1cm4gcGFyc2UtZ3JpZCgkbGF5b3V0KTtcclxufVxyXG5cclxuXHJcbi8vIEdldCBMYXlvdXRcclxuLy8gLS0tLS0tLS0tLVxyXG4vLyBSZXR1cm4gYSBuZXcgbGF5b3V0IGJhc2VkIG9uIGN1cnJlbnQgYW5kIGdpdmVuIHNldHRpbmdzXHJcbi8vIC0gJGxheW91dDogPHNldHRpbmdzPlxyXG4vLyAtICRjbGVhbjogYm9vbGVhblxyXG5AZnVuY3Rpb24gX2dldC1sYXlvdXQoXHJcbiAgJGxheW91dCxcclxuICAkY2xlYW46IGZhbHNlXHJcbikge1xyXG4gICRsYXlvdXQ6IGxheW91dCgkbGF5b3V0KTtcclxuICBAcmV0dXJuIGlmKCRjbGVhbiwgJGxheW91dCwgX3N1c3ktZGVlcC1tZXJnZSgkc3VzeSwgJGxheW91dCkpO1xyXG59XHJcbiIsIi8vIFN1c3kgQm94IFNpemluZ1xyXG4vLyA9PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gR2xvYmFsIEJveCBTaXppbmdcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gU2V0IGEgYm94IG1vZGVsIGdsb2JhbGx5IG9uIGFsbCBlbGVtZW50cy5cclxuLy8gLSBbJGJveF06IGJvcmRlci1ib3ggfCBjb250ZW50LWJveFxyXG4vLyAtIFskaW5oZXJpdF06IHRydWUgfCBmYWxzZVxyXG5AbWl4aW4gZ2xvYmFsLWJveC1zaXppbmcoXHJcbiAgJGJveDogc3VzeS1nZXQoZ2xvYmFsLWJveC1zaXppbmcpLFxyXG4gICRpbmhlcml0OiBmYWxzZVxyXG4pIHtcclxuICAkaW5zcGVjdDogJGJveDtcclxuXHJcbiAgQGlmICRpbmhlcml0IHtcclxuICAgIEBhdC1yb290IHtcclxuICAgICAgIGh0bWwgeyBAaW5jbHVkZSBvdXRwdXQoKGJveC1zaXppbmc6ICRib3gpKTsgfVxyXG4gICAgICAgKiwgKjpiZWZvcmUsICo6YWZ0ZXIgeyBib3gtc2l6aW5nOiBpbmhlcml0OyB9XHJcbiAgICAgfVxyXG4gIH0gQGVsc2Uge1xyXG4gICAgKiwgKjpiZWZvcmUsICo6YWZ0ZXIgeyBAaW5jbHVkZSBvdXRwdXQoKGJveC1zaXppbmc6ICRib3gpKTsgfVxyXG4gIH1cclxuXHJcbiAgQGluY2x1ZGUgc3VzeS1pbnNwZWN0KGdsb2JhbC1ib3gtc2l6aW5nLCAkaW5zcGVjdCk7XHJcbiAgQGluY2x1ZGUgdXBkYXRlLWJveC1tb2RlbCgkYm94KTtcclxufVxyXG5cclxuLy8gQm9yZGVyIEJveCBTaXppbmdcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQSBsZWdhY3kgc2hvcnRjdXQuLi5cclxuLy8gLSBbJGluaGVyaXRdOiB0cnVlIHwgZmFsc2VcclxuQG1peGluIGJvcmRlci1ib3gtc2l6aW5nKFxyXG4gICRpbmhlcml0OiBmYWxzZVxyXG4pIHtcclxuICBAaW5jbHVkZSBnbG9iYWwtYm94LXNpemluZyhib3JkZXItYm94LCAkaW5oZXJpdCk7XHJcbn1cclxuXHJcbi8vIFVwZGF0ZSBCb3ggTW9kZWxcclxuLy8gLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBQUklWQVRFOiBVcGRhdGVzIGdsb2JhbCBib3ggbW9kZWwgc2V0dGluZ1xyXG5AbWl4aW4gdXBkYXRlLWJveC1tb2RlbChcclxuICAkYm94XHJcbikge1xyXG4gIEBpZiAkYm94ICE9IHN1c3ktZ2V0KGdsb2JhbC1ib3gtc2l6aW5nKSB7XHJcbiAgQGluY2x1ZGUgc3VzeS1zZXQoZ2xvYmFsLWJveC1zaXppbmcsICRib3gpO1xyXG4gIH1cclxufVxyXG4iLCIvLyBDb250ZXh0IFN5bnRheFxyXG4vLyA9PT09PT09PT09PT09PVxyXG5cclxuLy8gTmVzdGVkIFtmdW5jdGlvbl1cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gUmV0dXJuIGEgc3Vic2V0IGdyaWQgZm9yIG5lc3RlZCBjb250ZXh0LlxyXG4vLyAtICRjb250ZXh0ICAgOiA8c3Bhbj5cclxuQGZ1bmN0aW9uIG5lc3RlZChcclxuICAkY29udGV4dFxyXG4pIHtcclxuICAkY29udGV4dCAgICA6IHBhcnNlLXNwYW4oJGNvbnRleHQpO1xyXG4gICRzcGFuICAgICAgIDogc3VzeS1nZXQoc3BhbiwgJGNvbnRleHQpO1xyXG4gICRsb2NhdGlvbiAgIDogZ2V0LWxvY2F0aW9uKCRjb250ZXh0KTtcclxuICAkY29sdW1ucyAgICA6IHN1c3ktZ2V0KGNvbHVtbnMsICRjb250ZXh0KTtcclxuXHJcbiAgQHJldHVybiBzdXN5LXNsaWNlKCRzcGFuLCAkbG9jYXRpb24sICRjb2x1bW5zKTtcclxufVxyXG5cclxuLy8gTmVzdGVkIFttaXhpbl1cclxuLy8gLS0tLS0tLS0tLS0tLS1cclxuLy8gVXNlIGEgc3Vic2V0IGdyaWQgZm9yIGEgbmVzdGVkIGNvbnRleHRcclxuLy8gLSAkY29udGV4dCAgIDogPHNwYW4+XHJcbi8vIC0gQGNvbnRlbnQgICA6IDxjb250ZW50PlxyXG5AbWl4aW4gbmVzdGVkKFxyXG4gICRjb250ZXh0XHJcbikge1xyXG4gICRpbnNwZWN0ICA6ICRjb250ZXh0O1xyXG4gICRjb250ZXh0ICA6IHBhcnNlLXNwYW4oJGNvbnRleHQpO1xyXG4gICRvbGQgICAgICA6IHN1c3ktZ2V0KGNvbHVtbnMpO1xyXG4gICRzdXN5ICAgICA6IG1hcC1tZXJnZSgkc3VzeSwgKGNvbHVtbnM6IG5lc3RlZCgkY29udGV4dCkpKSAhZ2xvYmFsO1xyXG5cclxuICBAaW5jbHVkZSBzdXN5LWluc3BlY3QobmVzdGVkLCAkaW5zcGVjdCk7XHJcbiAgQGNvbnRlbnQ7XHJcblxyXG4gICRzdXN5ICAgICA6IG1hcC1tZXJnZSgkc3VzeSwgKGNvbHVtbnM6ICRvbGQpKSAhZ2xvYmFsO1xyXG59XHJcbiIsIi8vIEJhY2tncm91bmQgR3JpZCBTeW50YXhcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuJHN1c3ktb3ZlcmxheS1ncmlkLWhlYWQtZXhpc3RzOiBmYWxzZTtcclxuXHJcblxyXG4vLyBTaG93IEdyaWQvc1xyXG4vLyAtLS0tLS0tLS0tLVxyXG4vLyBTaG93IGdyaWQgb24gYW55IGVsZW1lbnQgdXNpbmcgZWl0aGVyIGJhY2tncm91bmQgb3Igb3ZlcmxheS5cclxuLy8gLSBbJGdyaWRdICA6IDxzZXR0aW5ncz5cclxuQG1peGluIHNob3ctZ3JpZChcclxuICAkZ3JpZDogJHN1c3lcclxuKSB7XHJcbiAgJGluc3BlY3Q6ICRncmlkO1xyXG4gICRfb3V0cHV0OiBkZWJ1Zy1nZXQob3V0cHV0LCAkZ3JpZCk7XHJcblxyXG4gIEBpbmNsdWRlIHN1c3ktaW5zcGVjdChzaG93LWdyaWQsICRpbnNwZWN0KTtcclxuICBAaWYgJF9vdXRwdXQgPT0gb3ZlcmxheSBhbmQgc3VzeS1nZXQoZGVidWcgaW1hZ2UsICRncmlkKSAhPSBoaWRlIHtcclxuICAgIEBpbmNsdWRlIG92ZXJsYXktZ3JpZCgkZ3JpZCk7XHJcbiAgfSBAZWxzZSB7XHJcbiAgICBAaW5jbHVkZSBiYWNrZ3JvdW5kLWdyaWQoJGdyaWQpO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIHNob3ctZ3JpZHMoXHJcbiAgJGdyaWQ6ICRzdXN5XHJcbikge1xyXG4gIEBpbmNsdWRlIHNob3ctZ3JpZCgkZ3JpZCk7XHJcbn1cclxuXHJcbi8vIEJhY2tncm91bmQgR3JpZFxyXG4vLyAtLS0tLS0tLS0tLS0tLS1cclxuLy8gU2hvdyBhIGdyaWQgYmFja2dyb3VuZCBvbiBhbnkgZWxlbWVudC5cclxuLy8gLSBbJGdyaWRdICA6IDxzZXR0aW5ncz5cclxuQG1peGluIGJhY2tncm91bmQtZ3JpZChcclxuICAkZ3JpZDogJHN1c3lcclxuKSB7XHJcbiAgJGluc3BlY3QgIDogJGdyaWQ7XHJcbiAgJF9vdXRwdXQgIDogZ2V0LWJhY2tncm91bmQoJGdyaWQpO1xyXG5cclxuICBAaWYgbGVuZ3RoKCRfb3V0cHV0KSA+IDAge1xyXG4gICAgJF9mbG93OiBzdXN5LWdldChmbG93LCAkZ3JpZCk7XHJcblxyXG4gICAgJF9pbWFnZTogKCk7XHJcbiAgICBAZWFjaCAkbmFtZSwgJGxheWVyIGluIG1hcC1nZXQoJF9vdXRwdXQsIGltYWdlKSB7XHJcbiAgICAgICRfZGlyZWN0aW9uOiBpZigkbmFtZSA9PSBiYXNlbGluZSwgdG8gYm90dG9tLCB0byB0bygkX2Zsb3cpKTtcclxuICAgICAgJF9pbWFnZTogYXBwZW5kKCRfaW1hZ2UsIGxpbmVhci1ncmFkaWVudCgkX2RpcmVjdGlvbiwgJGxheWVyKSwgY29tbWEpO1xyXG4gICAgfVxyXG4gICAgJF9vdXRwdXQ6IG1hcC1tZXJnZSgkX291dHB1dCwgKGltYWdlOiAkX2ltYWdlKSk7XHJcblxyXG4gICAgQGluY2x1ZGUgYmFja2dyb3VuZC1ncmlkLW91dHB1dCgkX291dHB1dC4uLik7XHJcbiAgICBAaW5jbHVkZSBzdXN5LWluc3BlY3QoYmFja2dyb3VuZC1ncmlkLCAkaW5zcGVjdCk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLy8gT3ZlcmxheSBHcmlkXHJcbi8vIC0tLS0tLS0tLS0tLVxyXG4vLyBHZW5lcmF0ZSBhbiBpY29uIHRvIHRyaWdnZXIgZ3JpZC1vdmVybGF5cyBvbiBhbnkgZ2l2ZW4gZWxlbWVudHMuXHJcbi8vICRncmlkcy4uLiAgOiA8c2VsZWN0b3I+IFs8c2V0dGluZ3M+XSBbLCA8c2VsZWN0b3I+XSpcclxuQG1peGluIG92ZXJsYXktZ3JpZCAoXHJcbiAgJGdyaWQ6ICRzdXN5XHJcbikge1xyXG4gIEBpZiBub3QoJHN1c3ktb3ZlcmxheS1ncmlkLWhlYWQtZXhpc3RzKSB7XHJcbiAgICBAYXQtcm9vdCBoZWFkIHsgQGluY2x1ZGUgb3ZlcmxheS1oZWFkKCRncmlkKTsgfVxyXG4gICAgQGF0LXJvb3QgaGVhZDpiZWZvcmUgeyBAaW5jbHVkZSBvdmVybGF5LXRyaWdnZXI7IH1cclxuICAgIEBhdC1yb290IGhlYWQ6aG92ZXIgeyBAaW5jbHVkZSBvdmVybGF5LXRyaWdnZXItaG92ZXI7IH1cclxuICAgICRzdXN5LW92ZXJsYXktZ3JpZC1oZWFkLWV4aXN0czogdHJ1ZSAhZ2xvYmFsO1xyXG4gIH1cclxuXHJcbiAgaGVhZDpob3ZlciB+ICYsXHJcbiAgaGVhZDpob3ZlciB+IGJvZHkgJiB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAmOmJlZm9yZSB7XHJcbiAgICAgIEBpbmNsdWRlIGdyaWQtb3ZlcmxheS1iYXNlO1xyXG4gICAgICBAaW5jbHVkZSBiYWNrZ3JvdW5kLWdyaWQoJGdyaWQpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIFtQcml2YXRlXSBPdmVybGF5IFRyaWdnZXJcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5AbWl4aW4gb3ZlcmxheS10cmlnZ2VyIHtcclxuICBjb250ZW50OiBcInx8fFwiO1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIHBhZGRpbmc6IDVweCAxMHB4O1xyXG4gIGZvbnQ6IHtcclxuICAgIGZhbWlseTogc2Fucy1zZXJpZjtcclxuICAgIHNpemU6IDE2cHg7XHJcbiAgICB3ZWlnaHQ6IGJvbGQ7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLy8gW1ByaXZhdGVdIE92ZXJsYXkgVHJpZ2dlciBIb3ZlclxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkBtaXhpbiBvdmVybGF5LXRyaWdnZXItaG92ZXIge1xyXG4gIGJhY2tncm91bmQ6IHJnYmEod2hpdGUsIC41KTtcclxuICBjb2xvcjogcmVkO1xyXG59XHJcblxyXG5cclxuLy8gW1ByaXZhdGVdIE92ZXJsYXkgSGVhZFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIDxoZWFkPiBzdHlsZXMgdG8gY3JlYXRlIGdyaWQgb3ZlcmxheSB0b2dnbGVcclxuQG1peGluIG92ZXJsYXktaGVhZCAoXHJcbiAgJGdyaWQ6ICRzdXN5XHJcbikge1xyXG4gICRfdG9nZ2xlOiBkZWJ1Zy1nZXQodG9nZ2xlLCAkZ3JpZCk7XHJcbiAgJF9ob3J6OiBudWxsO1xyXG4gICRfdmVydDogbnVsbDtcclxuXHJcbiAgQGVhY2ggJHNpZGUgaW4gJF90b2dnbGUge1xyXG4gICAgJF9ob3J6OiBpZigkc2lkZSA9PSBsZWZ0IG9yICRzaWRlID09IHJpZ2h0LCAkc2lkZSwgJF9ob3J6KTtcclxuICAgICRfdmVydDogaWYoJHNpZGUgPT0gdG9wIG9yICRzaWRlID09IGJvdHRvbSwgJHNpZGUsICRfdmVydCk7XHJcbiAgfVxyXG5cclxuICBkaXNwbGF5OiBibG9jaztcclxuICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgI3skX2hvcnp9OiAxMHB4O1xyXG4gICN7JF92ZXJ0fTogMTBweDtcclxuICB6LWluZGV4OiA5OTk7XHJcbiAgY29sb3I6ICMzMzM7XHJcbiAgYmFja2dyb3VuZDogcmdiYSh3aGl0ZSwgLjI1KTtcclxufVxyXG5cclxuXHJcbi8vIFtQcml2YXRlXSBHcmlkIE92ZXJsYXkgQmFzZVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gQmFzZSBzdHlsZXMgZm9yIGdlbmVyYXRpbmcgYSBncmlkIG92ZXJsYXlcclxuQG1peGluIGdyaWQtb3ZlcmxheS1iYXNlKCkge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDA7XHJcbiAgbGVmdDogMDtcclxuICBib3R0b206IDA7XHJcbiAgcmlnaHQ6IDA7XHJcbiAgY29udGVudDogXCIgXCI7XHJcbiAgei1pbmRleDogOTk4O1xyXG59XHJcblxyXG5cclxuLy8gR2V0IFN5bW1ldHJpY2FsIEJhY2tncm91bmRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gLSAkZ3JpZDogPG1hcD5cclxuQGZ1bmN0aW9uIGdldC1iYWNrZ3JvdW5kLXN5bShcclxuICAkZ3JpZFxyXG4pIHtcclxuICAkZ3JpZCAgICAgICAgICAgOiBwYXJzZS1ncmlkKCRncmlkKTtcclxuICAkX2d1dHRlcnMgICAgICAgOiBzdXN5LWdldChndXR0ZXJzLCAkZ3JpZCk7XHJcbiAgJF9jb2x1bW4td2lkdGggIDogc3VzeS1nZXQoY29sdW1uLXdpZHRoLCAkZ3JpZCk7XHJcbiAgJF9tYXRoICAgICAgICAgIDogc3VzeS1nZXQobWF0aCwgJGdyaWQpO1xyXG5cclxuICAkX2NvbG9yICAgICAgICAgOiBkZWJ1Zy1nZXQoY29sb3IpO1xyXG4gICRfdHJhbnMgICAgICAgICA6IHRyYW5zcGFyZW50O1xyXG4gICRfbGlnaHQgICAgICAgICA6IGxpZ2h0ZW4oJF9jb2xvciwgMTUlKTtcclxuXHJcbiAgJF9lbmQgICAgICAgICAgIDogMSArICRfZ3V0dGVycztcclxuICAkX2FmdGVyICAgICAgICAgOiBwZXJjZW50YWdlKDEvJF9lbmQpO1xyXG4gICRfc3RvcHMgICAgICAgICA6ICgpO1xyXG4gICRfc2l6ZSAgICAgICAgICA6IHNwYW4oMSAkZ3JpZCB3aWRlKTtcclxuXHJcbiAgQGlmIGlzLWluc2lkZSgkZ3JpZCkge1xyXG4gICAgJF9zdG9wczogJF9jb2xvciwgJF9saWdodDtcclxuICB9IEBlbHNlIGlmIGlzLXNwbGl0KCRncmlkKSB7XHJcbiAgICAkX3NwbGl0OiAkX2d1dHRlcnMvMjtcclxuICAgICRfYmVmb3JlOiBwZXJjZW50YWdlKCRfc3BsaXQvJF9lbmQpO1xyXG4gICAgJF9hZnRlcjogcGVyY2VudGFnZSgoMSArICRfc3BsaXQpLyRfZW5kKTtcclxuICAgICRfc3RvcHM6ICRfdHJhbnMgJF9iZWZvcmUsICRfY29sb3IgJF9iZWZvcmUsICRfbGlnaHQgJF9hZnRlciwgJF90cmFucyAkX2FmdGVyO1xyXG4gIH0gQGVsc2Uge1xyXG4gICAgJF9zdG9wczogJF9jb2xvciwgJF9saWdodCAkX2FmdGVyLCAkX3RyYW5zICRfYWZ0ZXI7XHJcbiAgfVxyXG5cclxuICBAaWYgJF9tYXRoID09IHN0YXRpYyB7XHJcbiAgICAkX3NpemU6IHZhbGlkLWNvbHVtbi1tYXRoKCRfbWF0aCwgJF9jb2x1bW4td2lkdGgpICogJF9lbmQ7XHJcbiAgfVxyXG5cclxuICAkX291dHB1dDogKFxyXG4gICAgaW1hZ2U6IChjb2x1bW5zOiAkX3N0b3BzKSxcclxuICAgIHNpemU6ICRfc2l6ZSxcclxuICApO1xyXG5cclxuICBAcmV0dXJuICRfb3V0cHV0O1xyXG59XHJcblxyXG5cclxuLy8gR2V0IEFzeW1tZXRyaWNhbCBJbnNpZGVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gLSAkZ3JpZDogPHNldHRpbmdzPlxyXG5AZnVuY3Rpb24gZ2V0LWFzeW0taW5zaWRlKFxyXG4gICRncmlkXHJcbikge1xyXG4gICRncmlkICAgICA6IHBhcnNlLWdyaWQoJGdyaWQpO1xyXG4gICRfY29sdW1ucyA6IHN1c3ktZ2V0KGNvbHVtbnMsICRncmlkKTtcclxuXHJcbiAgJF9jb2xvciAgIDogZGVidWctZ2V0KGNvbG9yKTtcclxuICAkX2xpZ2h0ICAgOiBsaWdodGVuKCRfY29sb3IsIDE1JSk7XHJcbiAgJF9zdG9wcyAgIDogKCk7XHJcblxyXG4gIEBmb3IgJGxvY2F0aW9uIGZyb20gMSB0aHJvdWdoIHN1c3ktY291bnQoJF9jb2x1bW5zKSB7XHJcbiAgICAkdGhpcy1zdG9wOiAoKTtcclxuXHJcbiAgICBAaWYgJGxvY2F0aW9uID09IDEge1xyXG4gICAgICAkdGhpcy1zdG9wOiBhcHBlbmQoJHRoaXMtc3RvcCwgJF9jb2xvciwgY29tbWEpO1xyXG4gICAgfSBAZWxzZSB7XHJcbiAgICAgICRzdGFydDogcGFyc2Utc3BhbigxIGF0ICRsb2NhdGlvbiAkZ3JpZCk7XHJcbiAgICAgICRzdGFydDogZ2V0LWlzb2xhdGlvbigkc3RhcnQpO1xyXG4gICAgICAkdGhpcy1zdG9wOiBhcHBlbmQoJHRoaXMtc3RvcCwgJF9jb2xvciAkc3RhcnQsIGNvbW1hKTtcclxuICAgIH1cclxuXHJcbiAgICBAaWYgJGxvY2F0aW9uID09IHN1c3ktY291bnQoJF9jb2x1bW5zKSB7XHJcbiAgICAgICR0aGlzLXN0b3A6IGFwcGVuZCgkdGhpcy1zdG9wLCAkX2xpZ2h0LCBjb21tYSk7XHJcbiAgICB9IEBlbHNlIHtcclxuICAgICAgJF9lbmQ6IHBhcnNlLXNwYW4oMSBhdCAoJGxvY2F0aW9uICsgMSkgJGdyaWQpO1xyXG4gICAgICAkX2VuZDogZ2V0LWlzb2xhdGlvbigkX2VuZCk7XHJcbiAgICAgICR0aGlzLXN0b3A6IGFwcGVuZCgkdGhpcy1zdG9wLCAkX2xpZ2h0ICRfZW5kLCBjb21tYSk7XHJcbiAgICB9XHJcblxyXG4gICAgJF9zdG9wczogam9pbigkX3N0b3BzLCAkdGhpcy1zdG9wLCBjb21tYSk7XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuICRfc3RvcHM7XHJcbn1cclxuXHJcblxyXG4vLyBHZXQgQXN5bW1ldHJpY2FsIFNwbGl0XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gLSAkZ3JpZDogPHNldHRpbmdzPlxyXG5AZnVuY3Rpb24gZ2V0LWFzeW0tc3BsaXQoXHJcbiAgJGdyaWRcclxuKSB7XHJcbiAgJGdyaWQgICAgIDogcGFyc2UtZ3JpZCgkZ3JpZCk7XHJcbiAgJF9jb2x1bW5zIDogc3VzeS1nZXQoY29sdW1ucywgJGdyaWQpO1xyXG5cclxuICAkX2NvbG9yICAgOiBkZWJ1Zy1nZXQoY29sb3IpO1xyXG4gICRfbGlnaHQgICA6IGxpZ2h0ZW4oJF9jb2xvciwgMTUlKTtcclxuICAkX3N0b3BzICAgOiAoKTtcclxuXHJcbiAgQGZvciAkbG9jYXRpb24gZnJvbSAxIHRocm91Z2ggc3VzeS1jb3VudCgkX2NvbHVtbnMpIHtcclxuICAgICR0aGlzLXN0b3A6ICgpO1xyXG5cclxuICAgICRzdGFydDogcGFyc2Utc3BhbigxIGF0ICRsb2NhdGlvbiAkZ3JpZCk7XHJcbiAgICAkc3RhcnQ6IGdldC1pc29sYXRpb24oJHN0YXJ0KTtcclxuICAgICR0aGlzLXN0b3A6IGFwcGVuZCgkdGhpcy1zdG9wLCB0cmFuc3BhcmVudCAkc3RhcnQsIGNvbW1hKTtcclxuICAgICR0aGlzLXN0b3A6IGFwcGVuZCgkdGhpcy1zdG9wLCAkX2NvbG9yICRzdGFydCwgY29tbWEpO1xyXG5cclxuICAgICRfZW5kOiAkc3RhcnQgKyBzcGFuKDEgYXQgJGxvY2F0aW9uICRncmlkKTtcclxuICAgICR0aGlzLXN0b3A6IGFwcGVuZCgkdGhpcy1zdG9wLCAkX2xpZ2h0ICRfZW5kLCBjb21tYSk7XHJcbiAgICAkdGhpcy1zdG9wOiBhcHBlbmQoJHRoaXMtc3RvcCwgdHJhbnNwYXJlbnQgJF9lbmQsIGNvbW1hKTtcclxuXHJcbiAgICAkX3N0b3BzOiBqb2luKCRfc3RvcHMsICR0aGlzLXN0b3AsIGNvbW1hKTtcclxuICB9XHJcblxyXG4gIEByZXR1cm4gJF9zdG9wcztcclxufVxyXG5cclxuXHJcbi8vIEdldCBBc3ltbWV0cmljYWwgT3V0c2lkZVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gLSAkZ3JpZDogPHNldHRpbmdzPlxyXG5AZnVuY3Rpb24gZ2V0LWFzeW0tb3V0c2lkZShcclxuICAkZ3JpZFxyXG4pIHtcclxuICAkZ3JpZCAgICAgOiBwYXJzZS1ncmlkKCRncmlkKTtcclxuICAkX2NvbHVtbnMgOiBzdXN5LWdldChjb2x1bW5zLCAkZ3JpZCk7XHJcblxyXG4gICRfY29sb3IgICA6IGRlYnVnLWdldChjb2xvcik7XHJcbiAgJF9saWdodCAgIDogbGlnaHRlbigkX2NvbG9yLCAxNSUpO1xyXG4gICRfdHJhbnMgICA6IHRyYW5zcGFyZW50O1xyXG4gICRfc3RvcHMgICA6ICgpO1xyXG5cclxuICBAZm9yICRsb2NhdGlvbiBmcm9tIDEgdGhyb3VnaCBzdXN5LWNvdW50KCRfY29sdW1ucykge1xyXG4gICAgJHRoaXMtc3RvcDogKCk7XHJcblxyXG4gICAgQGlmICRsb2NhdGlvbiA9PSAxIHtcclxuICAgICAgJHRoaXMtc3RvcDogYXBwZW5kKCR0aGlzLXN0b3AsICRfY29sb3IsIGNvbW1hKTtcclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICAkc3RhcnQ6IHBhcnNlLXNwYW4oMSBhdCAkbG9jYXRpb24gJGdyaWQpO1xyXG4gICAgICAkc3RhcnQ6IGdldC1pc29sYXRpb24oJHN0YXJ0KTtcclxuICAgICAgJHRoaXMtc3RvcDogYXBwZW5kKCR0aGlzLXN0b3AsICRfY29sb3IgJHN0YXJ0LCBjb21tYSk7XHJcbiAgICB9XHJcblxyXG4gICAgQGlmICRsb2NhdGlvbiA9PSBzdXN5LWNvdW50KCRfY29sdW1ucykge1xyXG4gICAgICAkdGhpcy1zdG9wOiBhcHBlbmQoJHRoaXMtc3RvcCwgJF9saWdodCwgY29tbWEpO1xyXG4gICAgfSBAZWxzZSB7XHJcbiAgICAgICRndXR0ZXI6IGdldC1zcGFuLXdpZHRoKGZpcnN0ICRsb2NhdGlvbiAkZ3JpZCk7XHJcblxyXG4gICAgICAkX2VuZDogcGFyc2Utc3BhbigxIGF0ICgkbG9jYXRpb24gKyAxKSAkZ3JpZCk7XHJcbiAgICAgICRfZW5kOiBnZXQtaXNvbGF0aW9uKCRfZW5kKTtcclxuXHJcbiAgICAgICRndXR0ZXI6ICRfbGlnaHQgJGd1dHRlciwgJF90cmFucyAkZ3V0dGVyLCAkX3RyYW5zICRfZW5kO1xyXG4gICAgICAkdGhpcy1zdG9wOiBqb2luKCR0aGlzLXN0b3AsICRndXR0ZXIsIGNvbW1hKTtcclxuICAgIH1cclxuXHJcbiAgICAkX3N0b3BzOiBqb2luKCRfc3RvcHMsICR0aGlzLXN0b3AsIGNvbW1hKTtcclxuICB9XHJcblxyXG4gIEByZXR1cm4gJF9zdG9wcztcclxufVxyXG5cclxuXHJcbi8vIEdldCBBc3ltbWV0cmljYWwgQmFja2dyb3VuZFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gLSAkZ3JpZDogPHNldHRpbmdzPlxyXG5AZnVuY3Rpb24gZ2V0LWJhY2tncm91bmQtYXN5bShcclxuICAkZ3JpZFxyXG4pIHtcclxuICAkX3N0b3BzOiAoKTtcclxuXHJcbiAgQGlmIGlzLWluc2lkZSgkZ3JpZCkge1xyXG4gICAgJF9zdG9wczogZ2V0LWFzeW0taW5zaWRlKCRncmlkKTtcclxuICB9IEBlbHNlIGlmIGlzLXNwbGl0KCRncmlkKSB7XHJcbiAgICAkX3N0b3BzOiBnZXQtYXN5bS1zcGxpdCgkZ3JpZCk7XHJcbiAgfSBAZWxzZSB7XHJcbiAgICAkX3N0b3BzOiBnZXQtYXN5bS1vdXRzaWRlKCRncmlkKTtcclxuICB9XHJcblxyXG4gIEByZXR1cm4gKGltYWdlOiAoY29sdW1uczogJF9zdG9wcykpO1xyXG59XHJcblxyXG5cclxuLy8gR2V0IEJhY2tncm91bmRcclxuLy8gLS0tLS0tLS0tLS0tLS1cclxuLy8gLSAkZ3JpZDogPHNldHRpbmdzPlxyXG5AZnVuY3Rpb24gZ2V0LWJhY2tncm91bmQoXHJcbiAgJGdyaWRcclxuKSB7XHJcbiAgJGdyaWQgICAgIDogcGFyc2UtZ3JpZCgkZ3JpZCk7XHJcbiAgJF9zaG93ICAgIDogc3VzeS1nZXQoZGVidWcgaW1hZ2UsICRncmlkKTtcclxuICAkX3JldHVybiAgOiAoKTtcclxuXHJcbiAgQGlmICRfc2hvdyBhbmQgJF9zaG93ICE9ICdoaWRlJyB7XHJcbiAgICAkX2NvbHVtbnM6IHN1c3ktZ2V0KGNvbHVtbnMsICRncmlkKTtcclxuXHJcbiAgICBAaWYgJF9zaG93ICE9ICdzaG93LWJhc2VsaW5lJyB7XHJcbiAgICAgICRfc3ltOiBpcy1zeW1tZXRyaWNhbCgkX2NvbHVtbnMpO1xyXG4gICAgICAkX3JldHVybjogaWYoJF9zeW0sIGdldC1iYWNrZ3JvdW5kLXN5bSgkZ3JpZCksIGdldC1iYWNrZ3JvdW5kLWFzeW0oJGdyaWQpKTtcclxuICAgICAgJF9yZXR1cm46IG1hcC1tZXJnZSgkX3JldHVybiwgKGNsaXA6IGNvbnRlbnQtYm94KSk7XHJcbiAgICB9XHJcblxyXG4gICAgQGlmICRfc2hvdyAhPSAnc2hvdy1jb2x1bW5zJ1xyXG4gICAgICBhbmQgZ2xvYmFsLXZhcmlhYmxlLWV4aXN0cyhiYXNlLWxpbmUtaGVpZ2h0KVxyXG4gICAgICBhbmQgdHlwZS1vZigkYmFzZS1saW5lLWhlaWdodCkgPT0gJ251bWJlcidcclxuICAgICAgYW5kIG5vdCB1bml0bGVzcygkYmFzZS1saW5lLWhlaWdodCkge1xyXG4gICAgICAkX2NvbG9yOiB2YXJpYWJsZS1leGlzdHMoJ2dyaWQtYmFja2dyb3VuZC1iYXNlbGluZS1jb2xvcicpO1xyXG4gICAgICAkX2NvbG9yOiBpZigkX2NvbG9yLCAkZ3JpZC1iYWNrZ3JvdW5kLWJhc2VsaW5lLWNvbG9yLCAjMDAwKTtcclxuXHJcbiAgICAgICRfaW1hZ2U6IG1hcC1nZXQoJF9yZXR1cm4sIGltYWdlKTtcclxuICAgICAgJF9zaXplOiBtYXAtZ2V0KCRfcmV0dXJuLCBzaXplKTtcclxuICAgICAgJF9iYXNlbGluZTogKGJhc2VsaW5lOiAoJF9jb2xvciAxcHgsIHRyYW5zcGFyZW50IDFweCkpO1xyXG4gICAgICAkX2Jhc2VsaW5lLXNpemU6IDEwMCUgJGJhc2UtbGluZS1oZWlnaHQ7XHJcblxyXG4gICAgICAkX3JldHVybjogbWFwLW1lcmdlKCRfcmV0dXJuLCAoXHJcbiAgICAgICAgaW1hZ2U6IGlmKCRfaW1hZ2UsIG1hcC1tZXJnZSgkX2ltYWdlLCAkX2Jhc2VsaW5lKSwgJF9iYXNlbGluZSksXHJcbiAgICAgICAgc2l6ZTogaWYoJF9zaXplLCAoJF9zaXplLCAkX2Jhc2VsaW5lLXNpemUpLCAkX2Jhc2VsaW5lLXNpemUpLFxyXG4gICAgICApKTtcclxuXHJcbiAgICAgIEBpZiAkX3Nob3cgPT0gJ3Nob3cnIHtcclxuICAgICAgICAkX2NsaXA6IG1hcC1nZXQoJF9yZXR1cm4sIGNsaXApO1xyXG4gICAgICAgICRfcmV0dXJuOiBtYXAtbWVyZ2UoJF9yZXR1cm4sIChjbGlwOiBqb2luKCRfY2xpcCwgYm9yZGVyLWJveCwgY29tbWEpKSk7XHJcbiAgICAgIH1cclxuICAgIH0gQGVsc2UgaWYgJF9zaG93ID09ICdzaG93LWJhc2VsaW5lJyB7XHJcbiAgICAgIEB3YXJuICdQbGVhc2UgcHJvdmlkZSBhICRiYXNlLWxpbmUtaGVpZ2h0IHdpdGggdGhlIGRlc2lyZWQgaGVpZ2h0IGFuZCB1bml0cyc7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAaWYgbWFwLWdldCgkX3JldHVybiwgaW1hZ2UpIHtcclxuICAgICRfcmV0dXJuOiBtYXAtbWVyZ2UoJF9yZXR1cm4sIChmbG93OiBzdXN5LWdldChmbG93LCAkZ3JpZCkpKTtcclxuICB9XHJcblxyXG4gIEByZXR1cm4gJF9yZXR1cm47XHJcbn1cclxuXHJcblxyXG4vLyBHZXQgRGVidWdcclxuLy8gLS0tLS0tLS0tXHJcbi8vIFJldHVybiB0aGUgdmFsdWUgb2YgYSBkZWJ1ZyBzZXR0aW5nXHJcbi8vIC0gJGtleTogPHNldHRpbmc+XHJcbkBmdW5jdGlvbiBkZWJ1Zy1nZXQoXHJcbiAgJGtleSxcclxuICAkZ3JpZDogJHN1c3lcclxuKSB7XHJcbiAgJGtleTogam9pbihkZWJ1ZywgJGtleSwgc3BhY2UpO1xyXG4gIEByZXR1cm4gc3VzeS1nZXQoJGtleSwgJGdyaWQpO1xyXG59XHJcbiIsIi8vIENvbnRhaW5lciBTeW50YXhcclxuLy8gPT09PT09PT09PT09PT09PVxyXG5cclxuLy8gQ29udGFpbmVyIFttaXhpbl1cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gU2V0IGEgY29udGFpbmVyIGVsZW1lbnRcclxuLy8gLSBbJGxheW91dF0gIDogPHNldHRpbmdzPlxyXG5AbWl4aW4gY29udGFpbmVyKFxyXG4gICRsYXlvdXQ6ICRzdXN5XHJcbikge1xyXG4gICRpbnNwZWN0ICAgIDogJGxheW91dDtcclxuICAkbGF5b3V0ICAgICA6IHBhcnNlLWdyaWQoJGxheW91dCk7XHJcblxyXG4gICRfd2lkdGggICAgIDogZ2V0LWNvbnRhaW5lci13aWR0aCgkbGF5b3V0KTtcclxuICAkX2p1c3RpZnkgICA6IHBhcnNlLWNvbnRhaW5lci1wb3NpdGlvbihzdXN5LWdldChjb250YWluZXItcG9zaXRpb24sICRsYXlvdXQpKTtcclxuICAkX3Byb3BlcnR5ICA6IGlmKHN1c3ktZ2V0KG1hdGgsICRsYXlvdXQpID09IHN0YXRpYywgd2lkdGgsIG1heC13aWR0aCk7XHJcblxyXG4gICRfYm94ICAgICAgIDogc3VzeS1nZXQoYm94LXNpemluZywgJGxheW91dCk7XHJcblxyXG4gIEBpZiAkX2JveCB7XHJcbiAgICBAaW5jbHVkZSBvdXRwdXQoKGJveC1zaXppbmc6ICRfYm94KSk7XHJcbiAgfVxyXG5cclxuICBAaW5jbHVkZSBzdXN5LWluc3BlY3QoY29udGFpbmVyLCAkaW5zcGVjdCk7XHJcbiAgQGluY2x1ZGUgZmxvYXQtY29udGFpbmVyKCRfd2lkdGgsICRfanVzdGlmeSwgJF9wcm9wZXJ0eSk7XHJcbiAgQGluY2x1ZGUgc2hvdy1ncmlkKCRsYXlvdXQpO1xyXG59XHJcblxyXG4vLyBDb250YWluZXIgW2Z1bmN0aW9uXVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBSZXR1cm4gY29udGFpbmVyIHdpZHRoXHJcbi8vIC0gWyRsYXlvdXRdICA6IDxzZXR0aW5ncz5cclxuQGZ1bmN0aW9uIGNvbnRhaW5lcihcclxuICAkbGF5b3V0OiAkc3VzeVxyXG4pIHtcclxuICAkbGF5b3V0OiBwYXJzZS1ncmlkKCRsYXlvdXQpO1xyXG4gIEByZXR1cm4gZ2V0LWNvbnRhaW5lci13aWR0aCgkbGF5b3V0KTtcclxufVxyXG5cclxuLy8gR2V0IENvbnRhaW5lciBXaWR0aFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENhbGN1bGF0ZSB0aGUgY29udGFpbmVyIHdpZHRoXHJcbi8vIC0gWyRsYXlvdXRdOiA8c2V0dGluZ3M+XHJcbkBmdW5jdGlvbiBnZXQtY29udGFpbmVyLXdpZHRoKFxyXG4gICRsYXlvdXQ6ICRzdXN5XHJcbikge1xyXG4gICRsYXlvdXQgICAgICAgICA6IHBhcnNlLWdyaWQoJGxheW91dCk7XHJcbiAgJF93aWR0aCAgICAgICAgIDogc3VzeS1nZXQoY29udGFpbmVyLCAkbGF5b3V0KTtcclxuICAkX2NvbHVtbi13aWR0aCAgOiBzdXN5LWdldChjb2x1bW4td2lkdGgsICRsYXlvdXQpO1xyXG4gICRfbWF0aCAgICAgICAgICA6IHN1c3ktZ2V0KG1hdGgsICRsYXlvdXQpO1xyXG5cclxuICBAaWYgbm90KCRfd2lkdGgpIG9yICRfd2lkdGggPT0gYXV0byB7XHJcbiAgICBAaWYgdmFsaWQtY29sdW1uLW1hdGgoJF9tYXRoLCAkX2NvbHVtbi13aWR0aCkge1xyXG4gICAgICAkX2NvbHVtbnMgICA6IHN1c3ktZ2V0KGNvbHVtbnMsICRsYXlvdXQpO1xyXG4gICAgICAkX2d1dHRlcnMgICA6IHN1c3ktZ2V0KGd1dHRlcnMsICRsYXlvdXQpO1xyXG4gICAgICAkX3NwcmVhZCAgICA6IGlmKGlzLXNwbGl0KCRsYXlvdXQpLCB3aWRlLCBuYXJyb3cpO1xyXG4gICAgICAkX3dpZHRoICAgICA6IHN1c3ktc3VtKCRfY29sdW1ucywgJF9ndXR0ZXJzLCAkX3NwcmVhZCkgKiAkX2NvbHVtbi13aWR0aDtcclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICAkX3dpZHRoOiAxMDAlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQHJldHVybiAkX3dpZHRoO1xyXG59XHJcblxyXG4vLyBQYXJzZSBDb250YWluZXIgUG9zaXRpb25cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIFBhcnNlIHRoZSAkY29udGFpbmVyLXBvc2l0aW9uIGludG8gbWFyZ2luIHZhbHVlcy5cclxuLy8gLSBbJGp1c3RpZnldICAgOiBsZWZ0IHwgY2VudGVyIHwgcmlnaHQgfCA8bGVuZ3RoPiBbPGxlbmd0aD5dXHJcbkBmdW5jdGlvbiBwYXJzZS1jb250YWluZXItcG9zaXRpb24oXHJcbiAgJGp1c3RpZnk6IG1hcC1nZXQoJHN1c3ktZGVmYXVsdHMsIGNvbnRhaW5lci1wb3NpdGlvbilcclxuKSB7XHJcbiAgJF9yZXR1cm46IGlmKCRqdXN0aWZ5ID09IGxlZnQsIDAsIGF1dG8pIGlmKCRqdXN0aWZ5ID09IHJpZ2h0LCAwLCBhdXRvKTtcclxuXHJcbiAgQGlmIG5vdChpbmRleChsZWZ0IHJpZ2h0IGNlbnRlciwgJGp1c3RpZnkpKSB7XHJcbiAgICAkX3JldHVybjogbnRoKCRqdXN0aWZ5LCAxKTtcclxuICAgICRfcmV0dXJuOiAkX3JldHVybiBpZihsZW5ndGgoJGp1c3RpZnkpID4gMSwgbnRoKCRqdXN0aWZ5LCAyKSwgJF9yZXR1cm4pO1xyXG4gIH1cclxuXHJcbiAgQHJldHVybiAkX3JldHVybjtcclxufVxyXG4iLCIvLyBTcGFuIFN5bnRheFxyXG4vLyA9PT09PT09PT09PVxyXG5cclxuLy8gU3BhbiBbbWl4aW5dXHJcbi8vIC0tLS0tLS0tLS0tLVxyXG4vLyBTZXQgYSBzcGFubmluZyBlbGVtZW50IHVzaW5nIHNob3J0aGFuZCBzeW50YXguXHJcbi8vIC0gJHNwYW4gIDogPHNwYW4+XHJcbkBtaXhpbiBzcGFuKFxyXG4gICRzcGFuXHJcbikge1xyXG4gICRpbnNwZWN0OiAkc3BhbjtcclxuICAkc3BhbjogcGFyc2Utc3Bhbigkc3Bhbik7XHJcbiAgJG91dHB1dDogc3Bhbi1tYXRoKCRzcGFuKTtcclxuICAkbmVzdGluZzogc3VzeS1nZXQoc3BhbiwgJHNwYW4pO1xyXG4gICRjbGVhcjogc3VzeS1nZXQoY2xlYXIsICRzcGFuKTtcclxuXHJcbiAgJGJveDogc3VzeS1nZXQoYm94LXNpemluZywgJHNwYW4pO1xyXG4gICRjb250ZW50LWJveDogaWYoc3VzeS1nZXQoZ2xvYmFsLWJveC1zaXppbmcpICE9ICdib3JkZXItYm94JywgdHJ1ZSwgZmFsc2UpO1xyXG4gICRib3g6ICRib3ggb3IgaWYoaXMtaW5zaWRlKCRzcGFuKSBhbmQgJGNvbnRlbnQtYm94LCBib3JkZXItYm94LCBudWxsKTtcclxuXHJcbiAgQGlmICRjbGVhciA9PSBicmVhayB7XHJcbiAgICBAaW5jbHVkZSBicmVhaztcclxuICB9IEBlbHNlIGlmICRjbGVhciA9PSBub2JyZWFrIHtcclxuICAgIEBpbmNsdWRlIG5vYnJlYWs7XHJcbiAgfVxyXG5cclxuICBAaW5jbHVkZSBzdXN5LWluc3BlY3Qoc3BhbiwgJGluc3BlY3QpO1xyXG4gIEBpbmNsdWRlIG91dHB1dCgoYm94LXNpemluZzogJGJveCkpO1xyXG4gIEBpbmNsdWRlIGZsb2F0LXNwYW4tb3V0cHV0KCRvdXRwdXQuLi4pO1xyXG5cclxuICBAaWYgdmFsaWQtY29sdW1ucygkbmVzdGluZywgc2lsZW50KSB7XHJcbiAgICBAaW5jbHVkZSBuZXN0ZWQoJHNwYW4pIHsgQGNvbnRlbnQ7IH1cclxuICB9IEBlbHNlIHtcclxuICAgIEBjb250ZW50O1xyXG4gIH1cclxufVxyXG5cclxuLy8gU3BhbiBbZnVuY3Rpb25dXHJcbi8vIC0tLS0tLS0tLS0tLS0tLVxyXG4vLyBSZXR1cm4gdGhlIHdpZHRoIG9mIGEgc3Bhbi5cclxuLy8gLSAkc3BhbiAgOiA8c3Bhbj5cclxuQGZ1bmN0aW9uIHNwYW4oXHJcbiAgJHNwYW5cclxuKSB7XHJcbiAgQHJldHVybiBnZXQtc3Bhbi13aWR0aCgkc3Bhbik7XHJcbn1cclxuXHJcbi8vIFNwYW4gTWF0aFxyXG4vLyAtLS0tLS0tLS1cclxuLy8gR2V0IGFsbCB0aGUgc3BhbiByZXN1bHRzLlxyXG4vLyAtICRzcGFuOiA8bWFwPlxyXG5AZnVuY3Rpb24gc3Bhbi1tYXRoKFxyXG4gICRzcGFuXHJcbikge1xyXG4gICRuZXN0ICAgICAgICAgICAgIDogaWYoc3VzeS1nZXQocm9sZSwgJHNwYW4pID09IG5lc3QsIHRydWUsIGZhbHNlKTtcclxuICAkc3BsaXQtbmVzdCAgICAgICA6IGlmKGlzLXNwbGl0KCRzcGFuKSBhbmQgJG5lc3QsIHRydWUsIGZhbHNlKTtcclxuICAkZWRnZSAgICAgICAgICAgICA6IGdldC1lZGdlKCRzcGFuKTtcclxuICAkbG9jYXRpb24gICAgICAgICA6IGdldC1sb2NhdGlvbigkc3Bhbik7XHJcblxyXG4gICRmbG9hdCAgICAgICAgICAgIDogZnJvbTtcclxuICAkcGFkZGluZy1iZWZvcmUgICA6IG51bGw7XHJcbiAgJHBhZGRpbmctYWZ0ZXIgICAgOiBudWxsO1xyXG4gICRtYXJnaW4tYmVmb3JlICAgIDogbnVsbDtcclxuICAkbWFyZ2luLWFmdGVyICAgICA6IG51bGw7XHJcblxyXG4gIC8vIGNhbGN1bGF0ZSB3aWR0aHNcclxuICAkc3ByZWFkOiBpbmRleChtYXAtdmFsdWVzKCRzcGFuKSwgc3ByZWFkKTtcclxuICAkc3BhbjogaWYoJHNwbGl0LW5lc3QgYW5kIG5vdCgkc3ByZWFkKSwgbWFwLW1lcmdlKCRzcGFuLCAoc3ByZWFkOiB3aWRlKSksICRzcGFuKTtcclxuICAkd2lkdGg6IGdldC1zcGFuLXdpZHRoKCRzcGFuKTtcclxuICAkZ3V0dGVyczogZ2V0LWd1dHRlcnMoJHNwYW4pO1xyXG5cclxuICAvLyBhcHBseSBndXR0ZXJzXHJcbiAgQGlmIGlzLWluc2lkZSgkc3Bhbikge1xyXG4gICAgQGlmIG5vdChzdXN5LWdldChyb2xlLCAkc3BhbikpIHtcclxuICAgICAgJHBhZGRpbmctYmVmb3JlOiBtYXAtZ2V0KCRndXR0ZXJzLCBiZWZvcmUpO1xyXG4gICAgICAkcGFkZGluZy1hZnRlcjogbWFwLWdldCgkZ3V0dGVycywgYWZ0ZXIpO1xyXG4gICAgfVxyXG4gIH0gQGVsc2Uge1xyXG4gICAgQGlmIG5vdCgkc3BsaXQtbmVzdCkge1xyXG4gICAgICAkbWFyZ2luLWJlZm9yZTogbWFwLWdldCgkZ3V0dGVycywgYmVmb3JlKTtcclxuICAgICAgJG1hcmdpbi1hZnRlcjogbWFwLWdldCgkZ3V0dGVycywgYWZ0ZXIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gc3BlY2lhbCBtYXJnaW4gaGFuZGxpbmdcclxuICBAaWYgc3VzeS1nZXQob3V0cHV0LCAkc3BhbikgPT0gaXNvbGF0ZSBhbmQgJGxvY2F0aW9uIHtcclxuICAgICRtYXJnaW4tYmVmb3JlOiBnZXQtaXNvbGF0aW9uKCRzcGFuKTtcclxuICAgICRtYXJnaW4tYWZ0ZXI6IC0xMDAlO1xyXG4gIH0gQGVsc2UgaWYgJGVkZ2Uge1xyXG4gICAgJGlzLXNwbGl0OiBpcy1zcGxpdCgkc3Bhbik7XHJcbiAgICAkcG9zOiBzdXN5LWdldChndXR0ZXItcG9zaXRpb24sICRzcGFuKTtcclxuXHJcbiAgICBAaWYgJGVkZ2UgPT0gbGFzdCB7XHJcbiAgICAgICRmbG9hdDogc3VzeS1nZXQobGFzdC1mbG93LCAkc3Bhbik7XHJcbiAgICB9XHJcblxyXG4gICAgQGlmIG5vdCgkaXMtc3BsaXQpIHtcclxuICAgICAgQGlmICRlZGdlID09IGZ1bGwgb3IgKCRlZGdlID09IGZpcnN0IGFuZCAkcG9zID09IGJlZm9yZSkge1xyXG4gICAgICAgICRtYXJnaW4tYmVmb3JlOiAwO1xyXG4gICAgICB9XHJcbiAgICAgIEBpZiAkZWRnZSA9PSBmdWxsIG9yICgkZWRnZSA9PSBsYXN0IGFuZCAkcG9zID09IGFmdGVyKSB7XHJcbiAgICAgICAgJG1hcmdpbi1hZnRlcjogMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIEByZXR1cm4gKFxyXG4gICAgd2lkdGggICAgICAgICAgIDogJHdpZHRoLFxyXG4gICAgZmxvYXQgICAgICAgICAgIDogJGZsb2F0LFxyXG4gICAgbWFyZ2luLWJlZm9yZSAgIDogJG1hcmdpbi1iZWZvcmUsXHJcbiAgICBtYXJnaW4tYWZ0ZXIgICAgOiAkbWFyZ2luLWFmdGVyLFxyXG4gICAgcGFkZGluZy1iZWZvcmUgIDogJHBhZGRpbmctYmVmb3JlLFxyXG4gICAgcGFkZGluZy1hZnRlciAgIDogJHBhZGRpbmctYWZ0ZXIsXHJcbiAgICBmbG93ICAgICAgICAgICAgOiBzdXN5LWdldChmbG93LCAkc3BhbiksXHJcbiAgKTtcclxufVxyXG5cclxuLy8gR2V0IFNwYW4gV2lkdGhcclxuLy8gLS0tLS0tLS0tLS0tLS1cclxuLy8gUmV0dXJuIHNwYW4gd2lkdGguXHJcbi8vIC0gJHNwYW46IDxtYXA+XHJcbkBmdW5jdGlvbiBnZXQtc3Bhbi13aWR0aChcclxuICAkc3BhblxyXG4pIHtcclxuICAkc3BhbiAgICAgOiBwYXJzZS1zcGFuKCRzcGFuKTtcclxuXHJcbiAgJG4gICAgICAgIDogc3VzeS1nZXQoc3BhbiwgJHNwYW4pO1xyXG4gICRsb2NhdGlvbiA6IGdldC1sb2NhdGlvbigkc3Bhbik7XHJcbiAgJGNvbHVtbnMgIDogc3VzeS1nZXQoY29sdW1ucywgJHNwYW4pO1xyXG4gICRndXR0ZXJzICA6IHN1c3ktZ2V0KGd1dHRlcnMsICRzcGFuKTtcclxuICAkc3ByZWFkICAgOiBzdXN5LWdldChzcHJlYWQsICRzcGFuKTtcclxuXHJcbiAgJGNvbnRleHQgIDogbnVsbDtcclxuICAkc3Bhbi1zdW0gOiBudWxsO1xyXG4gICR3aWR0aCAgICA6IG51bGw7XHJcblxyXG4gIEBpZiAkbiA9PSAnZnVsbCcge1xyXG4gICAgJHBvczogc3VzeS1nZXQoZ3V0dGVyLXBvc2l0aW9uLCAkc3Bhbik7XHJcbiAgICAkcm9sZTogc3VzeS1nZXQocm9sZSwgJHNwYW4pO1xyXG4gICAgJG46IGlmKCRwb3MgPT0gc3BsaXQgYW5kICRyb2xlICE9IG5lc3QsIHN1c3ktY291bnQoJGNvbHVtbnMpLCAxMDAlKTtcclxuICB9XHJcblxyXG4gIEBpZiB0eXBlLW9mKCRuKSAhPSBudW1iZXIge1xyXG4gICAgQHdhcm4gXCIoI3t0eXBlLW9mKCRuKX0pICN7JG59IGlzIG5vdCBhIHZhbGlkIHNwYW4uXCI7XHJcbiAgfSBAZWxzZSBpZiB1bml0bGVzcygkbikge1xyXG4gICAgJGNvbnRleHQ6IHN1c3ktc3VtKCRjb2x1bW5zLCAkZ3V0dGVycywgaWYoaXMtc3BsaXQoJHNwYW4pLCB3aWRlLCBuYXJyb3cpKTtcclxuICAgICRzcHJlYWQ6IGlmKGlzLWluc2lkZSgkc3BhbiksICRzcHJlYWQgb3Igd2lkZSwgJHNwcmVhZCk7XHJcbiAgICAkc3Bhbi1zdW06IHN1c3koJG4sICRsb2NhdGlvbiwgJGNvbHVtbnMsICRndXR0ZXJzLCAkc3ByZWFkKTtcclxuXHJcbiAgICAkX21hdGg6IHN1c3ktZ2V0KG1hdGgsICRzcGFuKTtcclxuICAgICRfY29sdW1uLXdpZHRoOiBzdXN5LWdldChjb2x1bW4td2lkdGgsICRzcGFuKTtcclxuICAgIEBpZiAkX21hdGggPT0gc3RhdGljIHtcclxuICAgICAgJHdpZHRoOiAkc3Bhbi1zdW0gKiB2YWxpZC1jb2x1bW4tbWF0aCgkX21hdGgsICRfY29sdW1uLXdpZHRoKTtcclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICAkd2lkdGg6IHBlcmNlbnRhZ2UoJHNwYW4tc3VtIC8gJGNvbnRleHQpO1xyXG4gICAgfVxyXG4gIH0gQGVsc2Uge1xyXG4gICAgJHdpZHRoOiAkbjtcclxuICB9XHJcblxyXG4gIEByZXR1cm4gJHdpZHRoO1xyXG59XHJcbiIsIi8vIEd1dHRlciBTeW50YXhcclxuLy8gPT09PT09PT09PT09PVxyXG5cclxuXHJcbi8vIEd1dHRlcnNcclxuLy8gLS0tLS0tLVxyXG4vLyBTZXQgZ3V0dGVycyBvbiBhbiBlbGVtZW50LlxyXG4vLyAtIFskc3Bhbl0gICA6IDxzZXR0aW5ncz5cclxuQG1peGluIGd1dHRlcnMoXHJcbiAgJHNwYW46ICRzdXN5XHJcbikge1xyXG4gICRpbnNwZWN0ICA6ICRzcGFuO1xyXG4gICRzcGFuICAgICA6IHBhcnNlLWd1dHRlcnMoJHNwYW4pO1xyXG4gICRfZ3V0dGVycyA6IGdldC1ndXR0ZXJzKCRzcGFuKTtcclxuXHJcbiAgJF9vdXRwdXQ6IChcclxuICAgIGJlZm9yZTogbWFwLWdldCgkX2d1dHRlcnMsIGJlZm9yZSksXHJcbiAgICBhZnRlcjogbWFwLWdldCgkX2d1dHRlcnMsIGFmdGVyKSxcclxuICAgIGZsb3c6IHN1c3ktZ2V0KGZsb3csICRzcGFuKSxcclxuICApO1xyXG5cclxuICBAaW5jbHVkZSBzdXN5LWluc3BlY3QoZ3V0dGVycywgJGluc3BlY3QpO1xyXG5cclxuICBAaWYgaXMtaW5zaWRlKCRzcGFuKSB7XHJcbiAgICBAaW5jbHVkZSBwYWRkaW5nLW91dHB1dCgkX291dHB1dC4uLik7XHJcbiAgfSBAZWxzZSB7XHJcbiAgICBAaW5jbHVkZSBtYXJnaW4tb3V0cHV0KCRfb3V0cHV0Li4uKTtcclxuICB9XHJcbn1cclxuXHJcbkBtaXhpbiBndXR0ZXIoXHJcbiAgJHNwYW46ICRzdXN5XHJcbikge1xyXG4gIEBpbmNsdWRlIGd1dHRlcnMoJHNwYW4pO1xyXG59XHJcblxyXG5cclxuLy8gR3V0dGVyXHJcbi8vIC0tLS0tLVxyXG4vLyBSZXR1cm4gdGhlIHdpZHRoIG9mIGEgZ3V0dGVyLlxyXG4vLyAtIFskc3Bhbl0gICA6IDxzZXR0aW5ncz5cclxuQGZ1bmN0aW9uIGd1dHRlcihcclxuICAkc3BhbjogJHN1c3lcclxuKSB7XHJcbiAgJHNwYW46IHBhcnNlLWd1dHRlcnMoJHNwYW4pO1xyXG5cclxuICAkX2d1dHRlcnM6IGdldC1ndXR0ZXJzKCRzcGFuKTtcclxuICAkX2d1dHRlcnM6IG1hcC1nZXQoJF9ndXR0ZXJzLCBiZWZvcmUpIG9yIG1hcC1nZXQoJF9ndXR0ZXJzLCBhZnRlcik7XHJcblxyXG4gIEByZXR1cm4gJF9ndXR0ZXJzO1xyXG59XHJcblxyXG5AZnVuY3Rpb24gZ3V0dGVycyhcclxuICAkc3BhbjogJHN1c3lcclxuKSB7XHJcbiAgQHJldHVybiBndXR0ZXIoJHNwYW4pO1xyXG59XHJcblxyXG5cclxuLy8gR2V0IEd1dHRlciBXaWR0aFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tXHJcbi8vIFJldHVybiBndXR0ZXIgd2lkdGguXHJcbi8vIC0gWyRjb250ZXh0XTogPGNvbnRleHQ+XHJcbkBmdW5jdGlvbiBnZXQtZ3V0dGVyLXdpZHRoKFxyXG4gICRjb250ZXh0OiAkc3VzeVxyXG4pIHtcclxuICAkY29udGV4dCAgOiBwYXJzZS1ndXR0ZXJzKCRjb250ZXh0KTtcclxuXHJcbiAgJF9ndXR0ZXJzIDogc3VzeS1nZXQoZ3V0dGVycywgJGNvbnRleHQpO1xyXG4gICRfZ3V0dGVyICA6IHN1c3ktZ2V0KGd1dHRlci1vdmVycmlkZSwgJGNvbnRleHQpO1xyXG5cclxuICBAaWYgJF9ndXR0ZXJzIGFuZCAoJF9ndXR0ZXJzID4gMCkgYW5kIG5vdCgkX2d1dHRlcikge1xyXG4gICAgJF9jb2x1bW4td2lkdGg6IHN1c3ktZ2V0KGNvbHVtbi13aWR0aCwgJGNvbnRleHQpO1xyXG4gICAgJF9tYXRoOiBndXR0ZXItbWF0aCgkY29udGV4dCk7XHJcbiAgICBAaWYgJF9tYXRoID09IHN0YXRpYyB7XHJcbiAgICAgICRfZ3V0dGVyOiAkX2d1dHRlcnMgKiB2YWxpZC1jb2x1bW4tbWF0aCgkX21hdGgsICRfY29sdW1uLXdpZHRoKTtcclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICAkX2NvbHVtbnMgOiBzdXN5LWdldChjb2x1bW5zLCAkY29udGV4dCk7XHJcbiAgICAgICRfc3ByZWFkICA6IGlmKGlzLXNwbGl0KCRjb250ZXh0KSwgd2lkZSwgc3VzeS1nZXQoc3ByZWFkLCAkY29udGV4dCkpO1xyXG4gICAgICAkX2d1dHRlciAgOiBwZXJjZW50YWdlKCRfZ3V0dGVycyAvIHN1c3ktc3VtKCRfY29sdW1ucywgJF9ndXR0ZXJzLCAkX3NwcmVhZCkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJF9ndXR0ZXI6IGlmKCRfZ3V0dGVyID09ICduby1ndXR0ZXJzJyBvciAkX2d1dHRlciA9PSAnbm8tZ3V0dGVyJywgbnVsbCwgJF9ndXR0ZXIpO1xyXG5cclxuICBAcmV0dXJuICRfZ3V0dGVyO1xyXG59XHJcblxyXG5cclxuLy8gR2V0IEd1dHRlcnNcclxuLy8gLS0tLS0tLS0tLS1cclxuLy8gUmV0dXJuIGJlZm9yZSBhbmQgYWZ0ZXIgZ3V0dGVyIHZhbHVlcy5cclxuLy8gLSBbJGNvbnRleHRdOiA8Y29udGV4dD5cclxuQGZ1bmN0aW9uIGdldC1ndXR0ZXJzKFxyXG4gICRjb250ZXh0OiAkc3VzeVxyXG4pIHtcclxuICAkY29udGV4dCAgICAgICAgICAgIDogcGFyc2UtZ3V0dGVycygkY29udGV4dCk7XHJcblxyXG4gICRfZ3V0dGVyLXBvc2l0aW9uICAgOiBzdXN5LWdldChndXR0ZXItcG9zaXRpb24sICRjb250ZXh0KTtcclxuICAkX2d1dHRlciAgICAgICAgICAgIDogZ2V0LWd1dHRlci13aWR0aCgkY29udGV4dCk7XHJcblxyXG4gICRfcmV0dXJuICAgICAgICAgICAgOiAoYmVmb3JlOiBudWxsLCBhZnRlcjogbnVsbCk7XHJcblxyXG4gIEBpZiBpcy1zcGxpdCgkY29udGV4dCkgYW5kICRfZ3V0dGVyIHtcclxuICAgICRfZ3V0dGVyOiAkX2d1dHRlciAvIDI7XHJcbiAgICAkX3JldHVybjogbWFwLW1lcmdlKCRfcmV0dXJuLCAoYmVmb3JlOiAkX2d1dHRlciwgYWZ0ZXI6ICRfZ3V0dGVyKSk7XHJcbiAgfSBAZWxzZSB7XHJcbiAgICAkX3JldHVybjogbWFwLW1lcmdlKCRfcmV0dXJuLCAoJF9ndXR0ZXItcG9zaXRpb246ICRfZ3V0dGVyKSk7XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuICRfcmV0dXJuO1xyXG59XHJcblxyXG5cclxuLy8gSXMgSW5zaWRlXHJcbi8vIC0tLS0tLS0tLVxyXG4vLyBSZXR1cm5zIHRydWUgaWYgZ3V0dGVycyBhcmUgaW5zaWRlLlxyXG4vLyAkY29udGV4dDogPGNvbnRleHQ+XHJcbkBmdW5jdGlvbiBpcy1pbnNpZGUoXHJcbiAgJGNvbnRleHRcclxuKSB7XHJcbiAgJF9pbnNpZGU6IGluc2lkZSBpbnNpZGUtc3RhdGljO1xyXG4gICRfZ3V0dGVyLXBvc2l0aW9uOiBzdXN5LWdldChndXR0ZXItcG9zaXRpb24sICRjb250ZXh0KTtcclxuXHJcbiAgQHJldHVybiBpZihpbmRleCgkX2luc2lkZSwgJF9ndXR0ZXItcG9zaXRpb24pLCB0cnVlLCBmYWxzZSk7XHJcbn1cclxuXHJcblxyXG4vLyBJcyBTcGxpdFxyXG4vLyAtLS0tLS0tLVxyXG4vLyBSZXR1cm5zIHRydWUgaWYgZ3V0dGVycyBhcmUgc3BsaXQuXHJcbi8vICRjb250ZXh0OiA8Y29udGV4dD5cclxuQGZ1bmN0aW9uIGlzLXNwbGl0KFxyXG4gICRjb250ZXh0XHJcbikge1xyXG4gICRfc3BsaXQ6IHNwbGl0IGluc2lkZSBpbnNpZGUtc3RhdGljO1xyXG4gICRfZ3V0dGVyLXBvc2l0aW9uOiBzdXN5LWdldChndXR0ZXItcG9zaXRpb24sICRjb250ZXh0KTtcclxuXHJcbiAgQHJldHVybiBpZihpbmRleCgkX3NwbGl0LCAkX2d1dHRlci1wb3NpdGlvbiksIHRydWUsIGZhbHNlKTtcclxufVxyXG5cclxuXHJcbi8vIEd1dHRlciBNYXRoXHJcbi8vIC0tLS0tLS0tLS0tXHJcbi8vIFJldHVybiB0aGUgbWF0aCB0byB1c2UgZm9yIGd1dHRlciBjYWxjdWxhdGlvbnNcclxuLy8gJGNvbnRleHQ6IDxjb250ZXh0PlxyXG5AZnVuY3Rpb24gZ3V0dGVyLW1hdGgoXHJcbiAgJGNvbnRleHQ6ICRzdXN5XHJcbikge1xyXG4gICRfcmV0dXJuICA6IHN1c3ktZ2V0KG1hdGgsICRjb250ZXh0KTtcclxuICAkX3JldHVybiAgOiBpZihzdXN5LWdldChndXR0ZXItcG9zaXRpb24sICRjb250ZXh0KSA9PSBpbnNpZGUtc3RhdGljLCBzdGF0aWMsICRfcmV0dXJuKTtcclxuXHJcbiAgQHJldHVybiAkX3JldHVybjtcclxufVxyXG4iLCIvLyBJc29sYXRpb24gU3ludGF4XHJcbi8vID09PT09PT09PT09PT09PT1cclxuXHJcblxyXG4vLyBJc29sYXRlIFtNaXhpbl1cclxuLy8gLS0tLS0tLS0tLS0tLS0tXHJcbi8vIFNldCBpc29sYXRpb24gYXMgYW4gb3ZlcnJpZGUuXHJcbi8vIC0gJGxvY2F0aW9uOiA8c3Bhbj5cclxuQG1peGluIGlzb2xhdGUoXHJcbiAgJGlzb2xhdGU6IDFcclxuKSB7XHJcbiAgJGluc3BlY3Q6ICRpc29sYXRlO1xyXG5cclxuICAkb3V0cHV0OiAoXHJcbiAgICBwdXNoOiBpc29sYXRlKCRpc29sYXRlKSxcclxuICAgIGZsb3c6IHN1c3ktZ2V0KGZsb3csICRpc29sYXRlKSxcclxuICApO1xyXG5cclxuICBAaW5jbHVkZSBzdXN5LWluc3BlY3QoaXNvbGF0ZSwgJGluc3BlY3QpO1xyXG4gIEBpbmNsdWRlIGlzb2xhdGUtb3V0cHV0KCRvdXRwdXQuLi4pO1xyXG59XHJcblxyXG5cclxuLy8gSXNvbGF0ZSBbZnVuY3Rpb25dXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBSZXR1cm4gYW4gaXNvbGF0aW9uIG9mZnNldCB3aWR0aC5cclxuLy8gLSAkbG9jYXRpb246IDxzcGFuPlxyXG5AZnVuY3Rpb24gaXNvbGF0ZShcclxuICAkaXNvbGF0ZTogMVxyXG4pIHtcclxuICAkaXNvbGF0ZTogcGFyc2Utc3BhbigkaXNvbGF0ZSk7XHJcbiAgJGlzb2xhdGlvbjogc3VzeS1nZXQoc3BhbiwgJGlzb2xhdGUpO1xyXG5cclxuICBAaWYgJGlzb2xhdGlvbiBhbmQgbm90KGdldC1sb2NhdGlvbigkaXNvbGF0ZSkpIHtcclxuICAgICRuZXc6IChcclxuICAgICAgc3BhbjogbnVsbCxcclxuICAgICAgbG9jYXRpb246ICRpc29sYXRpb24sXHJcbiAgICApO1xyXG4gICAgJGlzb2xhdGU6IG1hcC1tZXJnZSgkaXNvbGF0ZSwgJG5ldyk7XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuIGdldC1pc29sYXRpb24oJGlzb2xhdGUpO1xyXG59XHJcblxyXG5cclxuLy8gR2V0IElzb2xhdGlvblxyXG4vLyAtLS0tLS0tLS0tLS0tXHJcbi8vIFJldHVybiB0aGUgaXNvbGF0aW9uIG9mZnNldCB3aWR0aFxyXG4vLyAtICRpbnB1dDogPG1hcD5cclxuQGZ1bmN0aW9uIGdldC1pc29sYXRpb24oXHJcbiAgJGlucHV0XHJcbikge1xyXG4gICRsb2NhdGlvbiAgIDogZ2V0LWxvY2F0aW9uKCRpbnB1dCk7XHJcbiAgJGNvbHVtbnMgICAgOiBzdXN5LWdldChjb2x1bW5zLCAkaW5wdXQpO1xyXG4gICR3aWR0aCAgICAgIDogbnVsbDtcclxuXHJcbiAgQGlmIHR5cGUtb2YoJGxvY2F0aW9uKSA9PSBudW1iZXIgYW5kIG5vdCh1bml0bGVzcygkbG9jYXRpb24pKSB7XHJcbiAgICAkd2lkdGg6ICRsb2NhdGlvbjtcclxuICB9IEBlbHNlIGlmICRsb2NhdGlvbiB7XHJcbiAgICAkcHVzaDogJGxvY2F0aW9uIC0gMTtcclxuICAgIEBpZiAkcHVzaCA+IDAge1xyXG4gICAgICAkcHVzaDogbWFwLW1lcmdlKCRpbnB1dCwgKFxyXG4gICAgICAgIHNwYW46ICRwdXNoLFxyXG4gICAgICAgIGxvY2F0aW9uOiAxLFxyXG4gICAgICAgIHNwcmVhZDogd2lkZSxcclxuICAgICAgKSk7XHJcbiAgICAgICR3aWR0aDogZ2V0LXNwYW4td2lkdGgoJHB1c2gpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQGlmIHN1c3ktZ2V0KGd1dHRlci1wb3NpdGlvbiwgJGlucHV0KSA9PSBzcGxpdFxyXG4gICAgICBhbmQgc3VzeS1nZXQoZ3V0dGVycywgJGlucHV0KSA+IDAge1xyXG4gICAgJHdpZHRoOiBpZigkd2lkdGggPT0gbnVsbCwgZ3V0dGVycygkaW5wdXQpLCAkd2lkdGggKyBndXR0ZXJzKCRpbnB1dCkpO1xyXG4gIH1cclxuXHJcbiAgQHJldHVybiAkd2lkdGggb3IgMDtcclxufVxyXG4iLCIvLyBHYWxsZXJ5IFN5bnRheFxyXG4vLyA9PT09PT09PT09PT09PVxyXG5cclxuLy8gR2FsbGVyeVxyXG4vLyAtLS0tLS0tXHJcbi8vIENyZWF0ZSBhbiBpc29sYXRlZCBnYWxsZXJ5XHJcbi8vIC0gJHNwYW4gICAgICAgIDogPHNwYW4+XHJcbi8vIC0gWyRzZWxlY3Rvcl0gIDogY2hpbGQgfCBvZi10eXBlXHJcbkBtaXhpbiBnYWxsZXJ5KFxyXG4gICRzcGFuLFxyXG4gICRzZWxlY3RvcjogY2hpbGRcclxuKSB7XHJcbiAgJGluc3BlY3QgICAgOiAkc3BhbjtcclxuICAkc3BhbiAgICAgICA6IHBhcnNlLXNwYW4oJHNwYW4pO1xyXG4gICRzcGFuICAgICAgIDogbWFwLW1lcmdlKCRzcGFuLCAobG9jYXRpb246IDEpKTtcclxuXHJcbiAgJG4gICAgICAgICAgICA6IHN1c3ktZ2V0KHNwYW4sICRzcGFuKTtcclxuICAkY29sdW1ucyAgICAgIDogc3VzeS1nZXQoY29sdW1ucywgJHNwYW4pO1xyXG4gICRjb250ZXh0ICAgICAgOiBzdXN5LWNvdW50KCRjb2x1bW5zKTtcclxuICAkZmxvdyAgICAgICAgIDogc3VzeS1nZXQoZmxvdywgJHNwYW4pO1xyXG5cclxuICAkaW5zaWRlICAgICAgIDogaXMtaW5zaWRlKCRzcGFuKTtcclxuICAkZnJvbSAgICAgICAgIDogZnJvbSgkZmxvdyk7XHJcbiAgJGxpbmUgICAgICAgICA6IGZsb29yKCRjb250ZXh0IC8gJG4pO1xyXG4gICRzeW1tZXRyaWNhbCAgOiBpcy1zeW1tZXRyaWNhbCgkY29sdW1ucyk7XHJcblxyXG4gICRvdXRwdXQ6IChcclxuICAgIHdpZHRoICAgICAgICAgICAgIDogbnVsbCxcclxuICAgIGZsb2F0ICAgICAgICAgICAgIDogZnJvbSxcclxuICAgIG1hcmdpbi1iZWZvcmUgICAgIDogbnVsbCxcclxuICAgIG1hcmdpbi1hZnRlciAgICAgIDogbnVsbCxcclxuICAgIHBhZGRpbmctYmVmb3JlICAgIDogbnVsbCxcclxuICAgIHBhZGRpbmctYWZ0ZXIgICAgIDogbnVsbCxcclxuICAgIGZsb3cgICAgICAgICAgICAgIDogJGZsb3csXHJcbiAgKTtcclxuXHJcbiAgQGlmICRpbnNpZGUge1xyXG4gICAgJGd1dHRlcnM6IGdldC1ndXR0ZXJzKCRzcGFuKTtcclxuICAgICRvdXRwdXQ6IG1hcC1tZXJnZSgkb3V0cHV0LCAoXHJcbiAgICAgIHBhZGRpbmctYmVmb3JlOiBtYXAtZ2V0KCRndXR0ZXJzLCBiZWZvcmUpLFxyXG4gICAgICBwYWRkaW5nLWFmdGVyOiBtYXAtZ2V0KCRndXR0ZXJzLCBhZnRlciksXHJcbiAgICApKTtcclxuICB9XHJcblxyXG4gIEBpZiAkc3ltbWV0cmljYWwge1xyXG4gICAgJG91dHB1dDogbWFwLW1lcmdlKCRvdXRwdXQsICh3aWR0aDogZ2V0LXNwYW4td2lkdGgoJHNwYW4pKSk7XHJcbiAgfVxyXG5cclxuICAkYm94ICAgICAgICAgIDogc3VzeS1nZXQoYm94LXNpemluZywgJHNwYW4pO1xyXG4gICRnbG9iYWwtYm94ICAgOiBpZihzdXN5LWdldChnbG9iYWwtYm94LXNpemluZykgPT0gJ2JvcmRlci1ib3gnLCB0cnVlLCBmYWxzZSk7XHJcblxyXG4gIEBpbmNsdWRlIHN1c3ktaW5zcGVjdChnYWxsZXJ5LCAkaW5zcGVjdCk7XHJcblxyXG4gIC8vIENvbGxlY3RpdmUgT3V0cHV0XHJcbiAgQGlmICRib3ggPT0gYm9yZGVyLWJveCBvciAoJGluc2lkZSBhbmQgbm90KCRib3gpIGFuZCBub3QoJGdsb2JhbC1ib3gpKSB7XHJcbiAgICBAaW5jbHVkZSBvdXRwdXQoKGJveC1zaXppbmc6IGJvcmRlci1ib3gpKTtcclxuICB9IEBlbHNlIGlmICRib3ggPT0gY29udGVudC1ib3gge1xyXG4gICAgQGluY2x1ZGUgb3V0cHV0KChib3gtc2l6aW5nOiBjb250ZW50LWJveCkpO1xyXG4gIH1cclxuXHJcbiAgQGluY2x1ZGUgZmxvYXQtc3Bhbi1vdXRwdXQoJG91dHB1dC4uLik7XHJcblxyXG4gIC8vIEluZGl2aWR1YWwgTG9vcFxyXG4gIEBmb3IgJGl0ZW0gZnJvbSAxIHRocm91Z2ggJGxpbmUge1xyXG4gICAgJG50aDogJyN7JGxpbmV9biArICN7JGl0ZW19JztcclxuICAgICY6bnRoLSN7JHNlbGVjdG9yfSgjeyRudGh9KSB7XHJcbiAgICAgIC8vIEluZGl2aWR1YWwgUHJlcFxyXG4gICAgICAkb3V0cHV0OiAoXHJcbiAgICAgICAgd2lkdGggICAgICAgICAgICAgOiBpZigkc3ltbWV0cmljYWwsIG51bGwsIGdldC1zcGFuLXdpZHRoKCRzcGFuKSksXHJcbiAgICAgICAgZmxvYXQgICAgICAgICAgICAgOiBudWxsLFxyXG4gICAgICAgIG1hcmdpbi1iZWZvcmUgICAgIDogZ2V0LWlzb2xhdGlvbigkc3BhbiksXHJcbiAgICAgICAgbWFyZ2luLWFmdGVyICAgICAgOiAtMTAwJSxcclxuICAgICAgICBwYWRkaW5nLWJlZm9yZSAgICA6IG51bGwsXHJcbiAgICAgICAgcGFkZGluZy1hZnRlciAgICAgOiBudWxsLFxyXG4gICAgICAgIGZsb3cgICAgICAgICAgICAgIDogJGZsb3csXHJcbiAgICAgICk7XHJcblxyXG4gICAgICAvLyBJbmRpdmlkdWFsIE91dHB1dFxyXG4gICAgICBAaW5jbHVkZSBmbG9hdC1zcGFuLW91dHB1dCgkb3V0cHV0Li4uKTtcclxuXHJcbiAgICAgIEBpZiBnZXQtZWRnZSgkc3BhbikgPT0gZmlyc3Qge1xyXG4gICAgICAgIEBpbmNsdWRlIGJyZWFrO1xyXG4gICAgICAgIEBpbmNsdWRlIGZpcnN0KCRzcGFuKTtcclxuICAgICAgfSBAZWxzZSB7XHJcbiAgICAgICAgQGluY2x1ZGUgbm9icmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSW5kaXZpZHVhbCBMb2NhdGlvbiBJbmNyZW1lbnRcclxuICAgICAgJGxvY2F0aW9uOiBnZXQtbG9jYXRpb24oJHNwYW4pICsgJG47XHJcbiAgICAgICRsb2NhdGlvbjogaWYoJGxvY2F0aW9uID4gJGNvbnRleHQsIDEsICRsb2NhdGlvbik7XHJcbiAgICAgICRzcGFuOiBtYXAtbWVyZ2UoJHNwYW4sIChsb2NhdGlvbjogJGxvY2F0aW9uKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIFJvdyBTdGFydCAmIEVuZFxyXG4vLyA9PT09PT09PT09PT09PT1cclxuXHJcbi8vIEJyZWFrXHJcbi8vIC0tLS0tXHJcbi8vIEFwcGx5IHRvIGFueSBlbGVtZW50IHRoYXQgc2hvdWxkIGZvcmNlIGEgbGluZSBicmVhay5cclxuQG1peGluIGJyZWFrIHtcclxuICBAaW5jbHVkZSBvdXRwdXQoKGNsZWFyOiBib3RoKSk7XHJcbn1cclxuXHJcblxyXG4vLyBOb0JyZWFrXHJcbi8vIC0tLS0tLS1cclxuLy8gQ2FuY2VsIHRoZSBicmVhaygpIGVmZmVjdCwgZS5nLiB3aGVuIHVzaW5nIG1lZGlhIHF1ZXJpZXMuXHJcbkBtaXhpbiBub2JyZWFrIHtcclxuICBAaW5jbHVkZSBvdXRwdXQoKGNsZWFyOiBub25lKSk7XHJcbn1cclxuXHJcblxyXG4vLyBGdWxsXHJcbi8vIC0tLS1cclxuLy8gLSBbJGNvbnRleHRdOiA8bGF5b3V0IHNob3J0aGFuZD5cclxuQG1peGluIGZ1bGwoXHJcbiAgJGNvbnRleHQ6ICRzdXN5XHJcbikge1xyXG4gICRpbnNwZWN0IDogJGNvbnRleHQ7XHJcbiAgQGluY2x1ZGUgc3VzeS1pbnNwZWN0KGZ1bGwsICRpbnNwZWN0KTtcclxuICBAaW5jbHVkZSBzcGFuKGZ1bGwgb2YgcGFyc2UtZ3JpZCgkY29udGV4dCkgYnJlYWspO1xyXG59XHJcblxyXG5cclxuLy8gRmlyc3RcclxuLy8gLS0tLS1cclxuLy8gLSBbJGNvbnRleHRdOiA8c2V0dGluZ3M+XHJcbkBtaXhpbiBmaXJzdChcclxuICAkY29udGV4dDogJHN1c3lcclxuKSB7XHJcbiAgJGluc3BlY3QgIDogJGNvbnRleHQ7XHJcbiAgJGNvbnRleHQgIDogcGFyc2UtZ3JpZCgkY29udGV4dCk7XHJcbiAgJGZsb3cgICAgIDogc3VzeS1nZXQoZmxvdywgJGNvbnRleHQpO1xyXG5cclxuICBAaW5jbHVkZSBzdXN5LWluc3BlY3QoZmlyc3QsICRpbnNwZWN0KTtcclxuICBAaWYgbm90KGlzLXNwbGl0KCRjb250ZXh0KSkge1xyXG4gICAgQGluY2x1ZGUgZmxvYXQtZmlyc3QoJGZsb3cpO1xyXG4gIH1cclxufVxyXG5cclxuQG1peGluIGFscGhhKFxyXG4gICRjb250ZXh0OiAkc3VzeVxyXG4pIHtcclxuICBAaW5jbHVkZSBmaXJzdCgkY29udGV4dCk7XHJcbn1cclxuXHJcblxyXG4vLyBMYXN0XHJcbi8vIC0tLS1cclxuLy8gLSBbJGNvbnRleHRdOiA8c2V0dGluZ3M+XHJcbkBtaXhpbiBsYXN0KFxyXG4gICRjb250ZXh0OiAkc3VzeVxyXG4pIHtcclxuICAkaW5zcGVjdCAgOiAkY29udGV4dDtcclxuICAkY29udGV4dCAgOiBwYXJzZS1ncmlkKCRjb250ZXh0KTtcclxuXHJcbiAgQGluY2x1ZGUgc3VzeS1pbnNwZWN0KGxhc3QsICRpbnNwZWN0KTtcclxuXHJcbiAgJG91dHB1dDogKFxyXG4gICAgZmxvdzogc3VzeS1nZXQoZmxvdywgJGNvbnRleHQpLFxyXG4gICAgbGFzdC1mbG93OiBzdXN5LWdldChsYXN0LWZsb3csICRjb250ZXh0KSxcclxuICAgIG1hcmdpbjogaWYoaXMtc3BsaXQoJGNvbnRleHQpLCBudWxsLCAwKSxcclxuICApO1xyXG5cclxuICBAaW5jbHVkZSBmbG9hdC1sYXN0KCRvdXRwdXQuLi4pO1xyXG59XHJcblxyXG5AbWl4aW4gb21lZ2EoXHJcbiAgJGNvbnRleHQ6ICRzdXN5XHJcbikge1xyXG4gIEBpbmNsdWRlIGxhc3QoJGNvbnRleHQpO1xyXG59XHJcblxyXG5cclxuLy8gR2V0IEVkZ2VcclxuLy8gLS0tLS0tLS1cclxuLy8gQ2FsY3VsYXRlIGVkZ2UgdmFsdWUgYmFzZWQgb24gbG9jYXRpb24sIGlmIHBvc3NpYmxlXHJcbkBmdW5jdGlvbiBnZXQtZWRnZShcclxuICAkc3BhblxyXG4pIHtcclxuICAkc3BhbiAgICAgICA6IHBhcnNlLXNwYW4oJHNwYW4pO1xyXG4gICRlZGdlICAgICAgIDogc3VzeS1nZXQoZWRnZSwgJHNwYW4pO1xyXG5cclxuICBAaWYgbm90KCRlZGdlKSB7XHJcbiAgICAkY291bnQ6IHN1c3ktY291bnQoc3VzeS1nZXQoY29sdW1ucywgJHNwYW4pKTtcclxuICAgICRsb2NhdGlvbjogc3VzeS1nZXQobG9jYXRpb24sICRzcGFuKTtcclxuICAgICRuOiBzdXN5LWdldChzcGFuLCAkc3Bhbik7XHJcblxyXG4gICAgJG51bWJlcjogaWYodHlwZS1vZigkbG9jYXRpb24pID09IG51bWJlciwgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgJGluZGV4OiBpZigkbnVtYmVyIGFuZCB1bml0bGVzcygkbG9jYXRpb24pLCB0cnVlLCBmYWxzZSk7XHJcblxyXG4gICAgQGlmICRuID09ICRjb3VudCB7XHJcbiAgICAgICRlZGdlOiBmdWxsO1xyXG4gICAgfSBAZWxzZSBpZiAkbG9jYXRpb24gYW5kICRuIGFuZCAkaW5kZXgge1xyXG4gICAgICBAaWYgJGxvY2F0aW9uID09IDEge1xyXG4gICAgICAgICRlZGdlOiBpZigkbiA9PSAkY291bnQsIGZ1bGwsIGZpcnN0KTtcclxuICAgICAgfSBAZWxzZSBpZiAkbG9jYXRpb24gKyAkbiAtIDEgPT0gJGNvdW50IHtcclxuICAgICAgICAkZWRnZTogbGFzdDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQGlmICRlZGdlID09IGFscGhhIG9yICRlZGdlID09IG9tZWdhIHtcclxuICAgICRlZGdlOiBpZigkZWRnZSA9PSBhbHBoYSwgZmlyc3QsIGxhc3QpO1xyXG4gIH1cclxuXHJcbiAgQHJldHVybiAkZWRnZTtcclxufVxyXG5cclxuXHJcbi8vIEdldCBMb2NhdGlvblxyXG4vLyAtLS0tLS0tLS0tLS1cclxuLy8gQ2FsY3VsYXRlIGxvY2F0aW9uIHZhbHVlIGJhc2VkIG9uIGVkZ2UsIGlmIHBvc3NpYmxlXHJcbkBmdW5jdGlvbiBnZXQtbG9jYXRpb24oXHJcbiAgJHNwYW5cclxuKSB7XHJcbiAgJHNwYW4gICAgICAgOiBwYXJzZS1zcGFuKCRzcGFuKTtcclxuICAkbG9jYXRpb24gICA6IHN1c3ktZ2V0KGxvY2F0aW9uLCAkc3Bhbik7XHJcbiAgJGVkZ2UgICAgICAgOiBnZXQtZWRnZSgkc3Bhbik7XHJcbiAgJG4gICAgICAgICAgOiBzdXN5LWdldChzcGFuLCAkc3Bhbik7XHJcblxyXG4gIEBpZiAkZWRnZSBhbmQgbm90KCRsb2NhdGlvbikgYW5kIHR5cGUtb2YoJG4pID09IG51bWJlciBhbmQgdW5pdGxlc3MoJG4pIHtcclxuICAgIEBpZiAkZWRnZSA9PSBmaXJzdCB7XHJcbiAgICAgICRsb2NhdGlvbjogMTtcclxuICAgIH0gQGVsc2UgaWYgJGVkZ2UgPT0gbGFzdCB7XHJcbiAgICAgICRsb2NhdGlvbjogc3VzeS1jb3VudChzdXN5LWdldChjb2x1bW5zLCAkc3BhbikpIC0gJG4gKyAxO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQHJldHVybiAkbG9jYXRpb25cclxufVxyXG4iLCIvLyBNYXJnaW4gU3ludGF4XHJcbi8vID09PT09PT09PT09PT1cclxuXHJcbi8vIFByZVxyXG4vLyAtLS1cclxuLy8gQWRkIHNwYW5uaW5nLW1hcmdpbnMgYmVmb3JlIGFuIGVsZW1lbnQuXHJcbi8vIC0gJHNwYW4gIDogPHNwYW4+XHJcbkBtaXhpbiBwcmUoXHJcbiAgJHNwYW5cclxuKSB7XHJcbiAgJGluc3BlY3Q6ICRzcGFuO1xyXG4gICRzcGFuICAgOiBtYXAtbWVyZ2UoKHNwcmVhZDogd2lkZSksIHBhcnNlLXNwYW4oJHNwYW4pKTtcclxuICAkZmxvdyAgIDogc3VzeS1nZXQoZmxvdywgJHNwYW4pO1xyXG4gICRzcGxpdCAgOiBpZihzdXN5LWdldChndXR0ZXItcG9zaXRpb24sICRzcGFuKSA9PSBzcGxpdCwgdHJ1ZSwgZmFsc2UpO1xyXG4gICRndXR0ZXIgOiBndXR0ZXIoJHNwYW4pO1xyXG4gICRzcGFuICAgOiBzcGFuKCRzcGFuKTtcclxuICAkd2lkdGggIDogaWYoJHNwbGl0IGFuZCAkZ3V0dGVyLCAkc3BhbiArICRndXR0ZXIsICRzcGFuKTtcclxuXHJcbiAgQGluY2x1ZGUgc3VzeS1pbnNwZWN0KHByZSwgJGluc3BlY3QpO1xyXG4gIEBpbmNsdWRlIG1hcmdpbi1vdXRwdXQoJHdpZHRoLCBudWxsLCAkZmxvdyk7XHJcbn1cclxuXHJcbi8vIFBvc3RcclxuLy8gLS0tLVxyXG4vLyBBZGQgc3Bhbm5pbmctbWFyZ2lucyBhZnRlciBhbiBlbGVtZW50LlxyXG4vLyAtICRzcGFuICA6IDxzcGFuPlxyXG5AbWl4aW4gcG9zdChcclxuICAkc3BhblxyXG4pIHtcclxuICAkaW5zcGVjdCAgOiAkc3BhbjtcclxuICAkc3BhbiAgICAgOiBtYXAtbWVyZ2UoKHNwcmVhZDogd2lkZSksIHBhcnNlLXNwYW4oJHNwYW4pKTtcclxuICAkZmxvdyAgICAgOiBzdXN5LWdldChmbG93LCAkc3Bhbik7XHJcbiAgJHNwbGl0ICAgIDogaWYoc3VzeS1nZXQoZ3V0dGVyLXBvc2l0aW9uLCAkc3BhbikgPT0gc3BsaXQsIHRydWUsIGZhbHNlKTtcclxuICAkd2lkdGggICAgOiBpZigkc3BsaXQsIHNwYW4oJHNwYW4pICsgZ3V0dGVyKCRzcGFuKSwgc3Bhbigkc3BhbikpO1xyXG5cclxuICBAaW5jbHVkZSBzdXN5LWluc3BlY3QocG9zdCwgJGluc3BlY3QpO1xyXG4gIEBpbmNsdWRlIG1hcmdpbi1vdXRwdXQobnVsbCwgJHdpZHRoLCAkZmxvdyk7XHJcbn1cclxuXHJcbi8vIFB1c2hcclxuLy8gLS0tLVxyXG4vLyBTaW1wbGUgc3lub255bW4gZm9yIHByZS5cclxuLy8gLSAkc3BhbiAgOiA8c3Bhbj5cclxuQG1peGluIHB1c2goXHJcbiAgJHNwYW5cclxuKSB7XHJcbiAgQGluY2x1ZGUgcHJlKCRzcGFuKTtcclxufVxyXG5cclxuLy8gUHVsbFxyXG4vLyAtLS0tXHJcbi8vIEFkZCBuZWdhdGl2ZSBzcGFubmluZy1tYXJnaW5zIGJlZm9yZSBhbiBlbGVtZW50LlxyXG4vLyAtICRzcGFuICA6IDxzcGFuPlxyXG5AbWl4aW4gcHVsbChcclxuICAkc3BhblxyXG4pIHtcclxuICAkaW5zcGVjdCAgOiAkc3BhbjtcclxuICAkc3BhbiAgICAgOiBtYXAtbWVyZ2UoKHNwcmVhZDogd2lkZSksIHBhcnNlLXNwYW4oJHNwYW4pKTtcclxuICAkZmxvdyAgICAgOiBzdXN5LWdldChmbG93LCAkc3Bhbik7XHJcbiAgJHNwbGl0ICAgIDogaWYoc3VzeS1nZXQoZ3V0dGVyLXBvc2l0aW9uLCAkc3BhbikgPT0gc3BsaXQsIHRydWUsIGZhbHNlKTtcclxuICAkd2lkdGggICAgOiBpZigkc3BsaXQsIDAgLSBzcGFuKCRzcGFuKSArIGd1dHRlcigkc3BhbiksIDAgLSBzcGFuKCRzcGFuKSk7XHJcblxyXG4gIEBpbmNsdWRlIHN1c3ktaW5zcGVjdChwdWxsLCAkaW5zcGVjdCk7XHJcbiAgQGluY2x1ZGUgbWFyZ2luLW91dHB1dCgkd2lkdGgsIG51bGwsICRmbG93KTtcclxufVxyXG5cclxuLy8gU3F1aXNoXHJcbi8vIC0tLS0tLVxyXG4vLyBBZGQgc3Bhbm5pbmctbWFyZ2lucyBiZWZvcmUgYW5kIGFmdGVyIGFuIGVsZW1lbnQuXHJcbi8vIC0gJHByZSAgICAgOiA8c3Bhbj5cclxuLy8gLSBbJHBvc3RdICA6IDxzcGFuPlxyXG5AbWl4aW4gc3F1aXNoKFxyXG4gICRwcmUsXHJcbiAgJHBvc3Q6IGZhbHNlXHJcbikge1xyXG4gICRpbnNwZWN0ICAgICAgOiAoJHByZSwgJHBvc3QpO1xyXG4gICRwcmUgICAgICAgICAgOiBtYXAtbWVyZ2UoKHNwcmVhZDogd2lkZSksIHBhcnNlLXNwYW4oJHByZSkpO1xyXG5cclxuICBAaWYgJHBvc3Qge1xyXG4gICAgJHBvc3Q6IG1hcC1tZXJnZSgoc3ByZWFkOiB3aWRlKSwgcGFyc2Utc3BhbigkcG9zdCkpO1xyXG4gIH0gQGVsc2Uge1xyXG4gICAgJHNwYW46IHN1c3ktZ2V0KHNwYW4sICRwcmUpO1xyXG4gICAgQGlmIGxlbmd0aCgkc3BhbikgPiAxIHtcclxuICAgICAgJHByZTogbWFwLW1lcmdlKCRwcmUsIChzcGFuOiBudGgoJHNwYW4sIDEpKSk7XHJcbiAgICAgICRwb3N0OiBtYXAtbWVyZ2UoJHByZSwgKHNwYW46IG50aCgkc3BhbiwgMikpKTtcclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICAkcG9zdDogJHByZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIEBpbmNsdWRlIHN1c3ktaW5zcGVjdChzcXVpc2gsICRpbnNwZWN0KTtcclxuICBAaW5jbHVkZSBwcmUoJHByZSk7XHJcbiAgQGluY2x1ZGUgcG9zdCgkcG9zdCk7XHJcbn1cclxuIiwiLy8gUGFkZGluZyBTeW50YXhcclxuLy8gPT09PT09PT09PT09PT1cclxuXHJcbi8vIFByZWZpeFxyXG4vLyAtLS0tLS1cclxuLy8gQWRkIHNwYW5uaW5nLXBhZGRpbmcgYmVmb3JlIGFuIGVsZW1lbnQuXHJcbi8vIC0gJHNwYW4gIDogPHNwYW4+XHJcbkBtaXhpbiBwcmVmaXgoXHJcbiAgJHNwYW5cclxuKSB7XHJcbiAgJGluc3BlY3QgIDogJHNwYW47XHJcbiAgJHNwYW4gICAgIDogbWFwLW1lcmdlKChzcHJlYWQ6IHdpZGUpLCBwYXJzZS1zcGFuKCRzcGFuKSk7XHJcbiAgJGZsb3cgICAgIDogc3VzeS1nZXQoZmxvdywgJHNwYW4pO1xyXG4gICR3aWR0aCAgICA6IHNwYW4oJHNwYW4pO1xyXG5cclxuICBAaWYgaXMtaW5zaWRlKCRzcGFuKSB7XHJcbiAgICAkZ3V0dGVyOiBndXR0ZXIoJHNwYW4pO1xyXG4gICAgJHdpZHRoOiBpZigkZ3V0dGVyIGFuZCBjb21wYXJhYmxlKCR3aWR0aCwgJGd1dHRlciksICR3aWR0aCArICRndXR0ZXIsICR3aWR0aCk7XHJcbiAgfVxyXG5cclxuICBAaW5jbHVkZSBzdXN5LWluc3BlY3QocHJlZml4LCAkaW5zcGVjdCk7XHJcbiAgQGluY2x1ZGUgcGFkZGluZy1vdXRwdXQoJHdpZHRoLCBudWxsLCAkZmxvdyk7XHJcbn1cclxuXHJcbi8vIFN1ZmZpeFxyXG4vLyAtLS0tLS1cclxuLy8gQWRkIHNwYW5uaW5nLXBhZGRpbmcgYWZ0ZXIgYW4gZWxlbWVudC5cclxuLy8gLSAkc3BhbiAgOiA8c3Bhbj5cclxuQG1peGluIHN1ZmZpeChcclxuICAkc3BhblxyXG4pIHtcclxuICAkaW5zcGVjdCAgOiAkc3BhbjtcclxuICAkc3BhbiAgICAgOiBtYXAtbWVyZ2UoKHNwcmVhZDogd2lkZSksIHBhcnNlLXNwYW4oJHNwYW4pKTtcclxuICAkZmxvdyAgICAgOiBzdXN5LWdldChmbG93LCAkc3Bhbik7XHJcbiAgJHdpZHRoICAgIDogc3Bhbigkc3Bhbik7XHJcblxyXG4gIEBpZiBpcy1pbnNpZGUoJHNwYW4pIHtcclxuICAgICRndXR0ZXI6IGd1dHRlcigkc3Bhbik7XHJcbiAgICAkd2lkdGg6IGlmKCRndXR0ZXIgYW5kIGNvbXBhcmFibGUoJHdpZHRoLCAkZ3V0dGVyKSwgJHdpZHRoICsgJGd1dHRlciwgJHdpZHRoKTtcclxuICB9XHJcblxyXG4gIEBpbmNsdWRlIHN1c3ktaW5zcGVjdChzdWZmaXgsICRpbnNwZWN0KTtcclxuICBAaW5jbHVkZSBwYWRkaW5nLW91dHB1dChudWxsLCAkd2lkdGgsICRmbG93KTtcclxufVxyXG5cclxuLy8gUGFkXHJcbi8vIC0tLVxyXG4vLyBBZGQgc3Bhbm5pbmctcGFkZGluZyBiZWZvcmUgYW5kIGFmdGVyIGFuIGVsZW1lbnQuXHJcbi8vIC0gJHByZSAgICAgOiA8c3Bhbj5cclxuLy8gLSBbJHBvc3RdICA6IDxzcGFuPlxyXG5AbWl4aW4gcGFkKFxyXG4gICRwcmUsXHJcbiAgJHBvc3Q6IGZhbHNlXHJcbikge1xyXG4gICRpbnNwZWN0ICA6ICgkcHJlLCAkcG9zdCk7XHJcbiAgJHByZSAgICAgIDogbWFwLW1lcmdlKChzcHJlYWQ6IHdpZGUpLCBwYXJzZS1zcGFuKCRwcmUpKTtcclxuXHJcbiAgQGlmICRwb3N0IHtcclxuICAgICRwb3N0OiBtYXAtbWVyZ2UoKHNwcmVhZDogd2lkZSksIHBhcnNlLXNwYW4oJHBvc3QpKTtcclxuICB9IEBlbHNlIHtcclxuICAgICRzcGFuOiBzdXN5LWdldChzcGFuLCAkcHJlKTtcclxuICAgIEBpZiBsZW5ndGgoJHNwYW4pID4gMSB7XHJcbiAgICAgICRwcmU6IG1hcC1tZXJnZSgkcHJlLCAoc3BhbjogbnRoKCRzcGFuLCAxKSkpO1xyXG4gICAgICAkcG9zdDogbWFwLW1lcmdlKCRwcmUsIChzcGFuOiBudGgoJHNwYW4sIDIpKSk7XHJcbiAgICB9IEBlbHNlIHtcclxuICAgICAgJHBvc3Q6ICRwcmU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAaW5jbHVkZSBzdXN5LWluc3BlY3QocGFkLCAkaW5zcGVjdCk7XHJcbiAgQGluY2x1ZGUgcHJlZml4KCRwcmUpO1xyXG4gIEBpbmNsdWRlIHN1ZmZpeCgkcG9zdCk7XHJcblxyXG59XHJcbiIsIi8vIEJsZWVkIFN5bnRheFxyXG4vLyA9PT09PT09PT09PT1cclxuXHJcbi8vIEJsZWVkXHJcbi8vIC0tLS0tXHJcbi8vIEFkZCBuZWdhdGl2ZSBtYXJnaW5zLCBhbmQgZXF1YWwgcG9zaXRpdmUgcGFkZGluZyB0byBjcmVhdGUgYmxlZWQuXHJcbi8vIC0gJGJsZWVkICA6IDxzcGFuPlxyXG5AbWl4aW4gYmxlZWQoXHJcbiAgJGJsZWVkOiAwIGd1dHRlcigpXHJcbikge1xyXG4gICRpbnNwZWN0ICA6ICRibGVlZDtcclxuICAkb3V0cHV0ICAgOiBnZXQtYmxlZWQoJGJsZWVkKTtcclxuXHJcbiAgQGlmIHN1c3ktZ2V0KGdsb2JhbC1ib3gtc2l6aW5nKSAhPSBjb250ZW50LWJveCB7XHJcbiAgICAkb3V0cHV0OiBtYXAtbWVyZ2UoKGJveC1zaXppbmc6IGNvbnRlbnQtYm94KSwgJG91dHB1dCk7XHJcbiAgfVxyXG5cclxuICBAaW5jbHVkZSBzdXN5LWluc3BlY3QoYmxlZWQsICRpbnNwZWN0KTtcclxuICBAaW5jbHVkZSBvdXRwdXQoJG91dHB1dCk7XHJcbn1cclxuXHJcblxyXG4vLyBCbGVlZC14XHJcbi8vIC0tLS0tLS1cclxuLy8gU2hvcnRjdXQgZm9yIGhvcml6b250YWwgYmxlZWQuXHJcbi8vIC0gJGJsZWVkICA6IDxzcGFuPlxyXG5AbWl4aW4gYmxlZWQteChcclxuICAkYmxlZWQ6IGd1dHRlcigpXHJcbikge1xyXG4gICRibGVlZCAgOiBwYXJzZS1zcGFuKCRibGVlZCk7XHJcbiAgJHRyYmwgICA6IHN1c3ktZ2V0KHNwYW4sICRibGVlZCk7XHJcblxyXG4gIEBpZiBsZW5ndGgoJHRyYmwpID09IDEge1xyXG4gICAgJGJsZWVkOiBtYXAtbWVyZ2UoJGJsZWVkLCAoc3BhbjogMCBudGgoJHRyYmwsIDEpKSk7XHJcbiAgfSBAZWxzZSBpZiBsZW5ndGgoJHRyYmwpID09IDIge1xyXG4gICAgJGJsZWVkOiBtYXAtbWVyZ2UoJGJsZWVkLCAoc3BhbjogMCBudGgoJHRyYmwsIDIpIDAgbnRoKCR0cmJsLCAxKSkpO1xyXG4gIH0gQGVsc2Uge1xyXG4gICAgQHdhcm4gJ2JsZWVkLXggb25seSB0YWtlcyAyIGxlbmd0aHMsIGJ1dCAje2xlbmd0aCgkdHJibCl9IHdlcmUgcGFzc2VkLic7XHJcbiAgfVxyXG5cclxuICBAaW5jbHVkZSBibGVlZCgkYmxlZWQpO1xyXG59XHJcblxyXG5cclxuLy8gQmxlZWQteVxyXG4vLyAtLS0tLS0tXHJcbi8vIFNob3J0Y3V0IGZvciB2ZXJ0aWNhbCBibGVlZC5cclxuLy8gLSAkYmxlZWQgIDogPHNwYW4+XHJcbkBtaXhpbiBibGVlZC15KFxyXG4gICRibGVlZDogaWYoZnVuY3Rpb24tZXhpc3RzKHJoeXRobSksIHJoeXRobSgxKSwgMWVtKVxyXG4pIHtcclxuICAkYmxlZWQgIDogcGFyc2Utc3BhbigkYmxlZWQpO1xyXG4gICR0cmJsICAgOiBzdXN5LWdldChzcGFuLCAkYmxlZWQpO1xyXG5cclxuICBAaWYgbGVuZ3RoKCR0cmJsKSA9PSAxIHtcclxuICAgICRibGVlZDogbWFwLW1lcmdlKCRibGVlZCwgKHNwYW46IG50aCgkdHJibCwgMSkgMCkpO1xyXG4gIH0gQGVsc2UgaWYgbGVuZ3RoKCR0cmJsKSA9PSAyIHtcclxuICAgICRibGVlZDogbWFwLW1lcmdlKCRibGVlZCwgKHNwYW46IG50aCgkdHJibCwgMSkgMCBudGgoJHRyYmwsIDIpIDApKTtcclxuICB9IEBlbHNlIHtcclxuICAgIEB3YXJuICdibGVlZC15IG9ubHkgdGFrZXMgMiBsZW5ndGhzLCBidXQgI3tsZW5ndGgoJHRyYmwpfSB3ZXJlIHBhc3NlZC4nO1xyXG4gIH1cclxuXHJcbiAgQGluY2x1ZGUgYmxlZWQoJGJsZWVkKTtcclxufVxyXG5cclxuXHJcbi8vIEdldCBCbGVlZFxyXG4vLyAtLS0tLS0tLS1cclxuLy8gUmV0dXJuIGJsZWVkIG91dHB1dCB2YWx1ZXNcclxuLy8gLSAkYmxlZWQ6IDxzcGFuPlxyXG5AZnVuY3Rpb24gZ2V0LWJsZWVkKFxyXG4gICRibGVlZFxyXG4pIHtcclxuICAkYmxlZWQgICAgOiBtYXAtbWVyZ2UoKHNwcmVhZDogd2lkZSksIHBhcnNlLXNwYW4oJGJsZWVkKSk7XHJcbiAgJHRyYmwgICAgIDogc3VzeS1nZXQoc3BhbiwgJGJsZWVkKTtcclxuICAkc2hvcnQgICAgOiBudWxsO1xyXG4gICRvdXRwdXQgICA6ICgpO1xyXG5cclxuICBAZm9yICRpIGZyb20gMSB0aHJvdWdoIGxlbmd0aCgkdHJibCkge1xyXG4gICAgJHRoaXM6IG50aCgkdHJibCwgJGkpO1xyXG4gICAgJG5ldzogKCk7XHJcbiAgICAkbWFyZ2luOiBudWxsO1xyXG4gICAgJHBhZGRpbmc6IG51bGw7XHJcbiAgICAkcGFkZGluZy14OiBudWxsO1xyXG5cclxuICAgIEBpZiAkdGhpcyA+IDAge1xyXG4gICAgICAkdGhpczogbWFwLW1lcmdlKCRibGVlZCwgKHNwYW46ICR0aGlzKSk7XHJcbiAgICAgICRtYXJnaW46IHNwYW4oJHRoaXMpO1xyXG4gICAgICAkcGFkZGluZzogJG1hcmdpbjtcclxuICAgICAgJHBhZGRpbmcteDogJHBhZGRpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgQGlmICRtYXJnaW4gYW5kICRtYXJnaW4gPiAwIHtcclxuICAgICAgJG1hcmdpbjogLSAkbWFyZ2luO1xyXG5cclxuICAgICAgQGlmIGlzLWluc2lkZSgkdGhpcykge1xyXG4gICAgICAgICRndXR0ZXI6IGd1dHRlcigkdGhpcyk7XHJcbiAgICAgICAgJGpvaW46IGlmKCRndXR0ZXIgYW5kIGNvbXBhcmFibGUoJHBhZGRpbmcsICRndXR0ZXIpLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgJHBhZGRpbmcteDogaWYoJGpvaW4gYW5kICRwYWRkaW5nID4gMCwgJHBhZGRpbmcgKyAkZ3V0dGVyLCAkcGFkZGluZyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBAaWYgJGkgPT0gMSB7XHJcbiAgICAgICRuZXc6IChcclxuICAgICAgICBtYXJnaW4tdG9wOiAkbWFyZ2luLFxyXG4gICAgICAgIHBhZGRpbmctdG9wOiAkcGFkZGluZyxcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6ICRtYXJnaW4sXHJcbiAgICAgICAgcGFkZGluZy1yaWdodDogJHBhZGRpbmcteCxcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAkbWFyZ2luLFxyXG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAkcGFkZGluZyxcclxuICAgICAgICBtYXJnaW4tbGVmdDogJG1hcmdpbixcclxuICAgICAgICBwYWRkaW5nLWxlZnQ6ICRwYWRkaW5nLXgsXHJcbiAgICAgICk7XHJcbiAgICB9IEBlbHNlIGlmICRpID09IDIge1xyXG4gICAgICAkbmV3OiAoXHJcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAkbWFyZ2luLFxyXG4gICAgICAgIHBhZGRpbmctcmlnaHQ6ICRwYWRkaW5nLXgsXHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6ICRtYXJnaW4sXHJcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAkcGFkZGluZy14LFxyXG4gICAgICApO1xyXG4gICAgfSBAZWxzZSBpZiAkaSA9PSAzIHtcclxuICAgICAgJG5ldzogKFxyXG4gICAgICAgIG1hcmdpbi1ib3R0b206ICRtYXJnaW4sXHJcbiAgICAgICAgcGFkZGluZy1ib3R0b206ICRwYWRkaW5nLFxyXG4gICAgICApO1xyXG4gICAgfSBAZWxzZSBpZiAkaSA9PSA0IHtcclxuICAgICAgJG5ldzogKFxyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAkbWFyZ2luLFxyXG4gICAgICAgIHBhZGRpbmctbGVmdDogJHBhZGRpbmcteCxcclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAkb3V0cHV0OiBtYXAtbWVyZ2UoJG91dHB1dCwgJG5ldyk7XHJcbiAgfVxyXG5cclxuICBAZWFjaCAkcHJvcCwgJHZhbHVlIGluICRvdXRwdXQge1xyXG4gICAgJG91dHB1dDogaWYoJHZhbHVlID09IDAsIG1hcC1tZXJnZSgkb3V0cHV0LCAoJHByb3A6IG51bGwpKSwgJG91dHB1dCk7XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuIGJsZWVkLXNob3J0aGFuZCgkb3V0cHV0KTtcclxufVxyXG5cclxuLy8gQmxlZWQgU2hvcnRoYW5kXHJcbi8vIC0tLS0tLS0tLS0tLS0tLVxyXG4vLyBDb252ZXJ0IGJsZWVkIG91dHB1dCBpbnRvIHNob3J0aGFuZCB3aGVuIHBvc3NpYmxlLlxyXG4vLyAtICRibGVlZDogPG91dHB1dCBtYXA+XHJcbkBmdW5jdGlvbiBibGVlZC1zaG9ydGhhbmQoXHJcbiAgJGJsZWVkXHJcbikge1xyXG4gICRtYXJnaW46ICgpO1xyXG4gICRwYWRkaW5nOiAoKTtcclxuICAkcmV0dXJuOiAoKTtcclxuXHJcbiAgQGVhY2ggJGtleSwgJHZhbHVlIGluICRibGVlZCB7XHJcbiAgICBAaWYgc3RyLWluZGV4KCRrZXksIG1hcmdpbikge1xyXG4gICAgICAkbWFyZ2luOiBtYXAtbWVyZ2UoJG1hcmdpbiwgKCRrZXk6ICR2YWx1ZSkpO1xyXG4gICAgfSBAZWxzZSBpZiBzdHItaW5kZXgoJGtleSwgcGFkZGluZykgPiAwIHtcclxuICAgICAgJHBhZGRpbmc6IG1hcC1tZXJnZSgkcGFkZGluZywgKCRrZXk6ICR2YWx1ZSkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJHByb3BzOiAoXHJcbiAgICBtYXJnaW46ICRtYXJnaW4sXHJcbiAgICBwYWRkaW5nOiAkcGFkZGluZyxcclxuICApO1xyXG5cclxuICBAZWFjaCAkbmFtZSwgJG1hcCBpbiAkcHJvcHMge1xyXG4gICAgJGZvdXI6IGlmKGxlbmd0aChtYXAta2V5cygkbWFwKSkgPT0gNCwgdHJ1ZSwgZmFsc2UpO1xyXG4gICAgJG51bGw6IGlmKGluZGV4KG1hcC12YWx1ZXMoJG1hcCksIG51bGwpLCB0cnVlLCBmYWxzZSk7XHJcblxyXG4gICAgQGlmICRmb3VyIGFuZCBub3QoJG51bGwpIHtcclxuICAgICAgJHRvcDogbWFwLWdldCgkbWFwLCAnI3skbmFtZX0tdG9wJyk7XHJcbiAgICAgICRyaWdodDogbWFwLWdldCgkbWFwLCAnI3skbmFtZX0tcmlnaHQnKTtcclxuICAgICAgJGJvdHRvbTogbWFwLWdldCgkbWFwLCAnI3skbmFtZX0tYm90dG9tJyk7XHJcbiAgICAgICRsZWZ0OiBtYXAtZ2V0KCRtYXAsICcjeyRuYW1lfS1sZWZ0Jyk7XHJcblxyXG4gICAgICAkdGI6IGlmKCR0b3AgPT0gJGJvdHRvbSwgJHRvcCwgbnVsbCk7XHJcbiAgICAgICRybDogaWYoJHJpZ2h0ID09ICRsZWZ0LCAkcmlnaHQsIG51bGwpO1xyXG4gICAgICAkYWxsOiBpZigkdGIgPT0gJHJsLCAkdGIsIG51bGwpO1xyXG5cclxuICAgICAgJG5ldzogaWYoJGFsbCwgJGFsbCwgbnVsbCk7XHJcblxyXG4gICAgICBAaWYgbm90KCRuZXcpIHtcclxuICAgICAgICBAaWYgJHRiIGFuZCAkcmwge1xyXG4gICAgICAgICAgJG5ldzogJHRiICRybDtcclxuICAgICAgICB9IEBlbHNlIGlmICRybCB7XHJcbiAgICAgICAgICAkbmV3OiAkdG9wICRybCAkYm90dG9tO1xyXG4gICAgICAgIH0gQGVsc2Uge1xyXG4gICAgICAgICAgJG5ldzogJHRvcCAkcmlnaHQgJGJvdHRvbSAkbGVmdDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRyZXR1cm46IG1hcC1tZXJnZSgkcmV0dXJuLCAoJG5hbWU6ICRuZXcpKTtcclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICAkcmV0dXJuOiBtYXAtbWVyZ2UoJHJldHVybiwgJG1hcCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAcmV0dXJuICRyZXR1cm47XHJcbn1cclxuIiwiLy8gQnJlYWtwb2ludCBJbnRlZ3JhdGlvblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4kc3VzeS1tZWRpYTogKCkgIWRlZmF1bHQ7XHJcbiRzdXN5LW1lZGlhLWZhbGxiYWNrOiBmYWxzZSAhZGVmYXVsdDtcclxuXHJcbiRfc3VzeS1tZWRpYS1jb250ZXh0OiAoKTtcclxuXHJcblxyXG4vLyBTdXN5IEJyZWFrcG9pbnRcclxuLy8gLS0tLS0tLS0tLS0tLS0tXHJcbi8vIENoYW5nZSBncmlkcyBhdCBkaWZmZXJlbnQgbWVkaWEgcXVlcnkgYnJlYWtwb2ludHMuXHJcbi8vIC0gJHF1ZXJ5ICAgICA6IDxtaW4td2lkdGg+IFs8bWF4LXdpZHRoPl0gfCA8cHJvcGVydHk+IDx2YWx1ZT4gfCA8bWFwPlxyXG4vLyAtICRsYXlvdXQgICAgOiA8c2V0dGluZ3M+XHJcbi8vIC0gJG5vLXF1ZXJ5ICA6IDxib29sZWFuPiB8IDxzZWxlY3Rvcj5cclxuQG1peGluIHN1c3ktYnJlYWtwb2ludChcclxuICAkcXVlcnksXHJcbiAgJGxheW91dDogZmFsc2UsXHJcbiAgJG5vLXF1ZXJ5OiAkc3VzeS1tZWRpYS1mYWxsYmFja1xyXG4pIHtcclxuICBAaW5jbHVkZSBzdXN5LW1lZGlhLXJvdXRlcigkcXVlcnksICRuby1xdWVyeSkge1xyXG4gICAgQGlmICRsYXlvdXQge1xyXG4gICAgICBAaW5jbHVkZSB3aXRoLWxheW91dCgkbGF5b3V0KSB7XHJcbiAgICAgICAgQGNvbnRlbnQ7XHJcbiAgICAgIH1cclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICBAY29udGVudDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcblxyXG4vLyBTdXN5IE1lZGlhXHJcbi8vIC0tLS0tLS0tLS1cclxuLy8gLSAkcXVlcnk6IDxtaW4td2lkdGg+IFs8bWF4LXdpZHRoPl0gfCA8cHJvcGVydHk+IDx2YWx1ZT5cclxuLy8gLSAkbm8tcXVlcnk6IDxib29sZWFuPiB8IDxzZWxlY3Rvcj5cclxuQG1peGluIHN1c3ktbWVkaWEoXHJcbiAgJHF1ZXJ5LFxyXG4gICRuby1xdWVyeTogJHN1c3ktbWVkaWEtZmFsbGJhY2tcclxuKSB7XHJcbiAgJG9sZC1jb250ZXh0OiAkX3N1c3ktbWVkaWEtY29udGV4dDtcclxuICAkbmFtZTogaWYobWFwLWhhcy1rZXkoJHN1c3ktbWVkaWEsICRxdWVyeSksICRxdWVyeSwgbnVsbCk7XHJcbiAgJHF1ZXJ5OiBzdXN5LWdldC1tZWRpYSgkcXVlcnkpO1xyXG4gICRxdWVyeTogc3VzeS1wYXJzZS1tZWRpYSgkcXVlcnkpO1xyXG5cclxuICBAaW5jbHVkZSBzdXN5LW1lZGlhLWNvbnRleHQoJHF1ZXJ5LCAkbmFtZSk7XHJcblxyXG4gIEBpZiAkbm8tcXVlcnkgYW5kIHR5cGUtb2YoJG5vLXF1ZXJ5KSAhPSBzdHJpbmcge1xyXG4gICAgQGNvbnRlbnQ7XHJcbiAgfSBAZWxzZSB7XHJcbiAgICBAbWVkaWEgI3tzdXN5LXJlbmRlci1tZWRpYSgkcXVlcnkpfSB7XHJcbiAgICAgIEBjb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIEBpZiB0eXBlLW9mKCRuby1xdWVyeSkgPT0gc3RyaW5nIHtcclxuICAgICAgI3skbm8tcXVlcnl9ICYge1xyXG4gICAgICAgIEBjb250ZW50O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBAaW5jbHVkZSBzdXN5LW1lZGlhLWNvbnRleHQoJG9sZC1jb250ZXh0LCAkY2xlYW46IHRydWUpO1xyXG59XHJcblxyXG5cclxuLy8gTWVkaWEgUm91dGVyXHJcbi8vIC0tLS0tLS0tLS0tLVxyXG4vLyBSb3V0IG1lZGlhIGFyZ3VtZW50cyB0byB0aGUgY29ycmVjdCBtaXhpbi5cclxuQG1peGluIHN1c3ktbWVkaWEtcm91dGVyKFxyXG4gICRxdWVyeSxcclxuICAkbm8tcXVlcnk6ICRzdXN5LW1lZGlhLWZhbGxiYWNrXHJcbikge1xyXG4gIEBpZiBzdXN5LXN1cHBvcnQoYnJlYWtwb2ludCwgKG1peGluOiBicmVha3BvaW50KSwgJHdhcm46IGZhbHNlKSB7XHJcbiAgICBAaW5jbHVkZSBicmVha3BvaW50KCRxdWVyeSwgJG5vLXF1ZXJ5KSB7XHJcbiAgICAgIEBjb250ZW50O1xyXG4gICAgfVxyXG4gIH0gQGVsc2Uge1xyXG4gICAgQGluY2x1ZGUgc3VzeS1tZWRpYSgkcXVlcnksICRuby1xdWVyeSkge1xyXG4gICAgICBAY29udGVudDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcblxyXG4vLyBVcGRhdGUgQ29udGV4dFxyXG4vLyAtLS0tLS0tLS0tLS0tXHJcbi8vIFNldCB0aGUgbmV3IG1lZGlhIGNvbnRleHRcclxuQG1peGluIHN1c3ktbWVkaWEtY29udGV4dChcclxuICAkcXVlcnksXHJcbiAgJG5hbWU6IG51bGwsXHJcbiAgJGNsZWFuOiBmYWxzZVxyXG4pIHtcclxuICAkcXVlcnk6IG1hcC1tZXJnZSgobmFtZTogJG5hbWUpLCAkcXVlcnkpO1xyXG5cclxuICBAaWYgJGNsZWFuIHtcclxuICAgICRfc3VzeS1tZWRpYS1jb250ZXh0OiAkcXVlcnkgIWdsb2JhbDtcclxuICB9IEBlbHNlIHtcclxuICAgICRfc3VzeS1tZWRpYS1jb250ZXh0OiBtYXAtbWVyZ2UoJF9zdXN5LW1lZGlhLWNvbnRleHQsICRxdWVyeSkgIWdsb2JhbDtcclxuICB9XHJcbn1cclxuXHJcblxyXG4vLyBNZWRpYSBDb250ZXh0XHJcbi8vIC0tLS0tLS0tLS0tLS1cclxuLy8gUmV0dXJuIHRoZSBmdWxsIG1lZGlhIGNvbnRleHQsIG9yIGEgc2luZ2xlIG1lZGlhIHByb3BlcnR5IChlLmcuIG1pbi13aWR0aClcclxuQGZ1bmN0aW9uIHN1c3ktbWVkaWEtY29udGV4dChcclxuICAkcHJvcGVydHk6IGZhbHNlXHJcbikge1xyXG4gIEBpZiAkcHJvcGVydHkge1xyXG4gICAgQHJldHVybiBtYXAtZ2V0KCRfc3VzeS1tZWRpYS1jb250ZXh0LCAkcHJvcGVydHkpO1xyXG4gIH0gQGVsc2Uge1xyXG4gICAgQHJldHVybiAkX3N1c3ktbWVkaWEtY29udGV4dDtcclxuICB9XHJcbn1cclxuXHJcblxyXG4vLyBHZXQgTWVkaWFcclxuLy8gLS0tLS0tLS0tXHJcbi8vIFJldHVybiBhIG5hbWVkIG1lZGlhLXF1ZXJ5IGZyb20gJHN1c3ktbWVkaWEuXHJcbi8vIC0gJG5hbWU6IDxrZXk+XHJcbkBmdW5jdGlvbiBzdXN5LWdldC1tZWRpYShcclxuICAkbmFtZVxyXG4pIHtcclxuICBAaWYgbWFwLWhhcy1rZXkoJHN1c3ktbWVkaWEsICRuYW1lKSB7XHJcbiAgICAkbWFwLXZhbHVlOiBtYXAtZ2V0KCRzdXN5LW1lZGlhLCAkbmFtZSk7XHJcbiAgICBAaWYgKCRuYW1lID09ICRtYXAtdmFsdWUpIHtcclxuICAgICAgJG5hbWU6ICRtYXAtdmFsdWU7XHJcbiAgICB9IEBlbHNlIHtcclxuICAgICAgJG5hbWU6IHN1c3ktZ2V0LW1lZGlhKCRtYXAtdmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQHJldHVybiAkbmFtZTtcclxufVxyXG5cclxuXHJcbi8vIFJlbmRlciBNZWRpYVxyXG4vLyAtLS0tLS0tLS0tLS1cclxuLy8gQnVpbGQgYSBtZWRpYS1xdWVyeSBzdHJpbmcgZnJvbSB2YXJpb3VzIG1lZGlhIHNldHRpbmdzXHJcbkBmdW5jdGlvbiBzdXN5LXJlbmRlci1tZWRpYShcclxuICAkcXVlcnlcclxuKSB7XHJcbiAgJG91dHB1dDogbnVsbDtcclxuICBAZWFjaCAkcHJvcGVydHksICR2YWx1ZSBpbiAkcXVlcnkge1xyXG4gICAgJHN0cmluZzogbnVsbDtcclxuXHJcbiAgICBAaWYgJHByb3BlcnR5ID09IG1lZGlhIHtcclxuICAgICAgJHN0cmluZzogJHZhbHVlO1xyXG4gICAgfSBAZWxzZSB7XHJcbiAgICAgICRzdHJpbmc6ICcoI3skcHJvcGVydHl9OiAjeyR2YWx1ZX0pJztcclxuICAgIH1cclxuXHJcbiAgICAkb3V0cHV0OiBpZigkb3V0cHV0LCAnI3skb3V0cHV0fSBhbmQgI3skc3RyaW5nfScsICRzdHJpbmcpO1xyXG4gIH1cclxuXHJcbiAgQHJldHVybiAkb3V0cHV0O1xyXG59XHJcblxyXG5cclxuLy8gUGFyc2UgTWVkaWFcclxuLy8gLS0tLS0tLS0tLS1cclxuLy8gUmV0dXJuIHBhcnNlZCBtZWRpYS1xdWVyeSBzZXR0aW5ncyBiYXNlZCBvbiBzaG9ydGhhbmRcclxuQGZ1bmN0aW9uIHN1c3ktcGFyc2UtbWVkaWEoXHJcbiAgJHF1ZXJ5XHJcbikge1xyXG4gICRtcTogbnVsbDtcclxuICBAaWYgdHlwZS1vZigkcXVlcnkpID09IG1hcCB7XHJcbiAgICAkbXE6ICRxdWVyeTtcclxuICB9IEBlbHNlIGlmIHR5cGUtb2YoJHF1ZXJ5KSA9PSBudW1iZXIge1xyXG4gICAgJG1xOiAobWluLXdpZHRoOiAkcXVlcnkpO1xyXG4gIH0gQGVsc2UgaWYgdHlwZS1vZigkcXVlcnkpID09IGxpc3QgYW5kIGxlbmd0aCgkcXVlcnkpID09IDIge1xyXG4gICAgQGlmIHR5cGUtb2YobnRoKCRxdWVyeSwgMSkpID09IG51bWJlciB7XHJcbiAgICAgICRtcTogKFxyXG4gICAgICAgIG1pbi13aWR0aDogbWluKCRxdWVyeS4uLiksXHJcbiAgICAgICAgbWF4LXdpZHRoOiBtYXgoJHF1ZXJ5Li4uKSxcclxuICAgICAgKTtcclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICAkbXE6IChudGgoJHF1ZXJ5LCAxKTogbnRoKCRxdWVyeSwgMikpO1xyXG4gICAgfVxyXG4gIH0gQGVsc2Uge1xyXG4gICAgJG1xOiAobWVkaWE6ICcjeyRxdWVyeX0nKTtcclxuICB9XHJcblxyXG4gIEByZXR1cm4gJG1xO1xyXG59XHJcbiIsIi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRGVmYXVsdCBWYXJpYWJsZXNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuJEJyZWFrcG9pbnQtU2V0dGluZ3M6IChcbiAgJ2RlZmF1bHQgbWVkaWEnOiBhbGwsXG4gICdkZWZhdWx0IGZlYXR1cmUnOiBtaW4td2lkdGgsXG4gICdkZWZhdWx0IHBhaXInOiB3aWR0aCxcblxuICAnZm9yY2UgYWxsIG1lZGlhIHR5cGUnOiBmYWxzZSxcbiAgJ3RvIGVtcyc6IGZhbHNlLFxuICAndHJhbnNmb3JtIHJlc29sdXRpb25zJzogdHJ1ZSxcblxuICAnbm8gcXVlcmllcyc6IGZhbHNlLFxuICAnbm8gcXVlcnkgZmFsbGJhY2tzJzogZmFsc2UsXG5cbiAgJ2Jhc2UgZm9udCBzaXplJzogMTZweCxcblxuICAnbGVnYWN5IHN5bnRheCc6IGZhbHNlXG4pO1xuXG4kYnJlYWtwb2ludDogKCkgIWRlZmF1bHQ7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gSW1wb3J0c1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5AaW1wb3J0IFwiYnJlYWtwb2ludC9zZXR0aW5nc1wiO1xuQGltcG9ydCAnYnJlYWtwb2ludC9jb250ZXh0JztcbkBpbXBvcnQgJ2JyZWFrcG9pbnQvaGVscGVycyc7XG5AaW1wb3J0ICdicmVha3BvaW50L3BhcnNlcnMnO1xuQGltcG9ydCAnYnJlYWtwb2ludC9uby1xdWVyeSc7XG5cbkBpbXBvcnQgJ2JyZWFrcG9pbnQvcmVzcG9uZC10byc7XG5cbkBpbXBvcnQgXCJicmVha3BvaW50L2xlZ2FjeS1zZXR0aW5nc1wiO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEJyZWFrcG9pbnQgTWl4aW5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5AbWl4aW4gYnJlYWtwb2ludCgkcXVlcnksICRuby1xdWVyeTogZmFsc2UpIHtcbiAgQGluY2x1ZGUgbGVnYWN5LXNldHRpbmdzLXdhcm5pbmc7XG5cbiAgLy8gUmVzZXQgY29udGV4dHNcbiAgQGluY2x1ZGUgcHJpdmF0ZS1icmVha3BvaW50LXJlc2V0LWNvbnRleHRzKCk7XG5cbiAgJGJyZWFrcG9pbnQ6IGJyZWFrcG9pbnQoJHF1ZXJ5LCBmYWxzZSk7XG5cbiAgJHF1ZXJ5LXN0cmluZzogbWFwLWdldCgkYnJlYWtwb2ludCwgJ3F1ZXJ5Jyk7XG4gICRxdWVyeS1mYWxsYmFjazogbWFwLWdldCgkYnJlYWtwb2ludCwgJ2ZhbGxiYWNrJyk7XG5cbiAgJHByaXZhdGUtYnJlYWtwb2ludC1jb250ZXh0LWhvbGRlcjogbWFwLWdldCgkYnJlYWtwb2ludCwgJ2NvbnRleHQgaG9sZGVyJykgIWdsb2JhbDtcbiAgJHByaXZhdGUtYnJlYWtwb2ludC1xdWVyeS1jb3VudDogbWFwLWdldCgkYnJlYWtwb2ludCwgJ3F1ZXJ5IGNvdW50JykgIWdsb2JhbDtcblxuICAvLyBBbGxvdyBmb3IgYW4gYXMtbmVlZGVkIG92ZXJyaWRlIG9yIHVzYWdlIG9mIG5vIHF1ZXJ5IGZhbGxiYWNrLlxuICBAaWYgJG5vLXF1ZXJ5ICE9IGZhbHNlIHtcbiAgICAkcXVlcnktZmFsbGJhY2s6ICRuby1xdWVyeTtcbiAgfVxuXG4gIEBpZiAkcXVlcnktZmFsbGJhY2sgIT0gZmFsc2Uge1xuICAgICRjb250ZXh0LXNldHRlcjogcHJpdmF0ZS1icmVha3BvaW50LXNldC1jb250ZXh0KCduby1xdWVyeScsICRxdWVyeS1mYWxsYmFjayk7XG4gIH1cblxuICAvLyBQcmludCBPdXQgUXVlcnkgU3RyaW5nXG4gIEBpZiBub3QgYnJlYWtwb2ludC1nZXQoJ25vIHF1ZXJpZXMnKSB7XG4gICAgQG1lZGlhICN7JHF1ZXJ5LXN0cmluZ30ge1xuICAgICAgQGNvbnRlbnQ7XG4gICAgfVxuICB9XG5cbiAgQGlmIGJyZWFrcG9pbnQtZ2V0KCdubyBxdWVyeSBmYWxsYmFja3MnKSAhPSBmYWxzZSBvciBicmVha3BvaW50LWdldCgnbm8gcXVlcmllcycpID09IHRydWUge1xuXG4gICAgJHR5cGU6IHR5cGUtb2YoYnJlYWtwb2ludC1nZXQoJ25vIHF1ZXJ5IGZhbGxiYWNrcycpKTtcbiAgICAkcHJpbnQ6IGZhbHNlO1xuXG4gICAgQGlmICgkdHlwZSA9PSAnYm9vbCcpIHtcbiAgICAgICRwcmludDogdHJ1ZTtcbiAgICB9XG4gICAgQGVsc2UgaWYgKCR0eXBlID09ICdzdHJpbmcnKSB7XG4gICAgICBAaWYgJHF1ZXJ5LWZhbGxiYWNrID09IGJyZWFrcG9pbnQtZ2V0KCdubyBxdWVyeSBmYWxsYmFja3MnKSB7XG4gICAgICAgICRwcmludDogdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgQGVsc2UgaWYgKCR0eXBlID09ICdsaXN0Jykge1xuICAgICAgQGVhY2ggJHdyYXBwZXIgaW4gYnJlYWtwb2ludC1nZXQoJ25vIHF1ZXJ5IGZhbGxiYWNrcycpIHtcbiAgICAgICAgQGlmICRxdWVyeS1mYWxsYmFjayA9PSAkd3JhcHBlciB7XG4gICAgICAgICAgJHByaW50OiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gV3JpdGUgRmFsbGJhY2tcbiAgICBAaWYgKCRxdWVyeS1mYWxsYmFjayAhPSBmYWxzZSkgYW5kICgkcHJpbnQgPT0gdHJ1ZSkge1xuICAgICAgJHR5cGUtZmFsbGJhY2s6IHR5cGUtb2YoJHF1ZXJ5LWZhbGxiYWNrKTtcblxuICAgICAgQGlmICgkdHlwZS1mYWxsYmFjayAhPSAnYm9vbCcpIHtcbiAgICAgICAgI3skcXVlcnktZmFsbGJhY2t9ICYge1xuICAgICAgICAgIEBjb250ZW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBAZWxzZSB7XG4gICAgICAgIEBjb250ZW50O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEBpbmNsdWRlIHByaXZhdGUtYnJlYWtwb2ludC1yZXNldC1jb250ZXh0cygpO1xufVxuXG5cbkBtaXhpbiBtcSgkcXVlcnksICRuby1xdWVyeTogZmFsc2UpIHtcbiAgQGluY2x1ZGUgYnJlYWtwb2ludCgkcXVlcnksICRuby1xdWVyeSkge1xuICAgIEBjb250ZW50O1xuICB9XG59XG4iLCIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEhhcyBTZXR0aW5nXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbkBmdW5jdGlvbiBicmVha3BvaW50LWhhcygkc2V0dGluZykge1xuICBAaWYgbWFwLWhhcy1rZXkoJGJyZWFrcG9pbnQsICRzZXR0aW5nKSB7XG4gICAgQHJldHVybiB0cnVlO1xuICB9XG4gIEBlbHNlIHtcbiAgICBAcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gR2V0IFNldHRpbmdzXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbkBmdW5jdGlvbiBicmVha3BvaW50LWdldCgkc2V0dGluZykge1xuICBAaWYgYnJlYWtwb2ludC1oYXMoJHNldHRpbmcpIHtcbiAgICBAcmV0dXJuIG1hcC1nZXQoJGJyZWFrcG9pbnQsICRzZXR0aW5nKTtcbiAgfVxuICBAZWxzZSB7XG4gICAgQHJldHVybiBtYXAtZ2V0KCRCcmVha3BvaW50LVNldHRpbmdzLCAkc2V0dGluZyk7XG4gIH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBTZXQgU2V0dGluZ3Ncbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtc2V0KCRzZXR0aW5nLCAkdmFsdWUpIHtcbiAgQGlmIChzdHItaW5kZXgoJHNldHRpbmcsICctJykgb3Igc3RyLWluZGV4KCRzZXR0aW5nLCAnXycpKSBhbmQgc3RyLWluZGV4KCRzZXR0aW5nLCAnICcpID09IG51bGwge1xuICAgIEB3YXJuIFwiV29yZHMgaW4gQnJlYWtwb2ludCBzZXR0aW5ncyBzaG91bGQgYmUgc2VwYXJhdGVkIGJ5IHNwYWNlcywgbm90IGRhc2hlcyBvciB1bmRlcnNjb3Jlcy4gUGxlYXNlIHJlcGxhY2UgZGFzaGVzIGFuZCB1bmRlcnNjb3JlcyBiZXR3ZWVuIHdvcmRzIHdpdGggc3BhY2VzLiBTZXR0aW5ncyB3aWxsIG5vdCB3b3JrIGFzIGV4cGVjdGVkIHVudGlsIGNoYW5nZWQuXCI7XG4gIH1cbiAgJGJyZWFrcG9pbnQ6IG1hcC1tZXJnZSgkYnJlYWtwb2ludCwgKCRzZXR0aW5nOiAkdmFsdWUpKSAhZ2xvYmFsO1xuICBAcmV0dXJuIHRydWU7XG59XG5cbkBtaXhpbiBicmVha3BvaW50LWNoYW5nZSgkc2V0dGluZywgJHZhbHVlKSB7XG4gICRicmVha3BvaW50LWNoYW5nZTogYnJlYWtwb2ludC1zZXQoJHNldHRpbmcsICR2YWx1ZSk7XG59XG5cbkBtaXhpbiBicmVha3BvaW50LXNldCgkc2V0dGluZywgJHZhbHVlKSB7XG4gIEBpbmNsdWRlIGJyZWFrcG9pbnQtY2hhbmdlKCRzZXR0aW5nLCAkdmFsdWUpO1xufVxuXG5AbWl4aW4gYmtwdC1jaGFuZ2UoJHNldHRpbmcsICR2YWx1ZSkge1xuICBAaW5jbHVkZSBicmVha3BvaW50LWNoYW5nZSgkc2V0dGluZywgJHZhbHVlKTtcbn1cbkBtaXhpbiBia3B0LXNldCgkc2V0dGluZywgJHZhbHVlKSB7XG4gIEBpbmNsdWRlIGJyZWFrcG9pbnQtY2hhbmdlKCRzZXR0aW5nLCAkdmFsdWUpO1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFJlbW92ZSBTZXR0aW5nXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbkBmdW5jdGlvbiBicmVha3BvaW50LXJlc2V0KCRzZXR0aW5ncy4uLikge1xuICBAaWYgbGVuZ3RoKCRzZXR0aW5ncykgPT0gMSB7XG4gICAgJHNldHRpbmdzOiBudGgoJHNldHRpbmdzLCAxKTtcbiAgfVxuXG4gIEBlYWNoICRzZXR0aW5nIGluICRzZXR0aW5ncyB7XG4gICAgJGJyZWFrcG9pbnQ6IG1hcC1yZW1vdmUoJGJyZWFrcG9pbnQsICRzZXR0aW5nKSAhZ2xvYmFsO1xuICB9XG4gIEByZXR1cm4gdHJ1ZTtcbn1cblxuQG1peGluIGJyZWFrcG9pbnQtcmVzZXQoJHNldHRpbmdzLi4uKSB7XG4gICRicmVha3BvaW50LXJlc2V0OiBicmVha3BvaW50LXJlc2V0KCRzZXR0aW5ncyk7XG59XG5cbkBtaXhpbiBia3B0LXJlc2V0KCRzZXR0aW5ncy4uLikge1xuICAkYnJlYWtwb2ludC1yZXNldDogYnJlYWtwb2ludC1yZXNldCgkc2V0dGluZ3MpO1xufSIsIi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gUHJpdmF0ZSBCcmVha3BvaW50IFZhcmlhYmxlc1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4kcHJpdmF0ZS1icmVha3BvaW50LWNvbnRleHQtaG9sZGVyOiAoKTtcbiRwcml2YXRlLWJyZWFrcG9pbnQtcXVlcnktY291bnQ6IDAgIWRlZmF1bHQ7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gQnJlYWtwb2ludCBIYXMgQ29udGV4dFxuLy8gUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB5b3UgYXJlIGluc2lkZSBhIEJyZWFrcG9pbnQgcXVlcnlcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtaGFzLWNvbnRleHQoKSB7XG4gIEBpZiBsZW5ndGgoJHByaXZhdGUtYnJlYWtwb2ludC1xdWVyeS1jb3VudCkge1xuICAgIEByZXR1cm4gdHJ1ZTtcbiAgfVxuICBAZWxzZSB7XG4gICAgQHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEJyZWFrcG9pbnQgR2V0IENvbnRleHRcbi8vICRmZWF0dXJlOiBJbnB1dCBmZWF0dXJlIHRvIGdldCBpdCdzIGN1cnJlbnQgTVEgY29udGV4dC4gUmV0dXJucyBmYWxzZSBpZiBubyBjb250ZXh0XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbkBmdW5jdGlvbiBicmVha3BvaW50LWdldC1jb250ZXh0KCRmZWF0dXJlKSB7XG4gIEBpZiBtYXAtaGFzLWtleSgkcHJpdmF0ZS1icmVha3BvaW50LWNvbnRleHQtaG9sZGVyLCAkZmVhdHVyZSkge1xuICAgICRnZXQ6IG1hcC1nZXQoJHByaXZhdGUtYnJlYWtwb2ludC1jb250ZXh0LWhvbGRlciwgJGZlYXR1cmUpO1xuICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgb2Ygbm8tcXVlcnkgZnJvbSBnZXQgc2lkZSBzbyAvZmFsc2UvIHByZXBlbmRzIGFyZW4ndCByZXR1cm5lZFxuICAgIEBpZiAkZmVhdHVyZSA9PSAnbm8tcXVlcnknIHtcbiAgICAgIEBpZiB0eXBlLW9mKCRnZXQpID09ICdsaXN0JyBhbmQgbGVuZ3RoKCRnZXQpID4gMSBhbmQgbnRoKCRnZXQsIDEpID09IGZhbHNlIHtcbiAgICAgICAgJGdldDogbnRoKCRnZXQsIGxlbmd0aCgkZ2V0KSk7XG4gICAgICB9XG4gICAgfVxuICAgIEByZXR1cm4gJGdldDtcbiAgfVxuICBAZWxzZSB7XG4gICAgQGlmIGJyZWFrcG9pbnQtaGFzLWNvbnRleHQoKSBhbmQgJGZlYXR1cmUgPT0gJ21lZGlhJyB7XG4gICAgICBAcmV0dXJuIGJyZWFrcG9pbnQtZ2V0KCdkZWZhdWx0IG1lZGlhJyk7XG4gICAgfVxuICAgIEBlbHNlIHtcbiAgICAgIEByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gUHJpdmF0ZSBmdW5jdGlvbiB0byBzZXQgY29udGV4dFxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5AZnVuY3Rpb24gcHJpdmF0ZS1icmVha3BvaW50LXNldC1jb250ZXh0KCRmZWF0dXJlLCAkdmFsdWUpIHtcbiAgQGlmICR2YWx1ZSA9PSAnbW9ub2Nocm9tZScge1xuICAgICRmZWF0dXJlOiAnbW9ub2Nocm9tZSc7XG4gIH1cblxuICAkY3VycmVudDogbWFwLWdldCgkcHJpdmF0ZS1icmVha3BvaW50LWNvbnRleHQtaG9sZGVyLCAkZmVhdHVyZSk7XG4gIEBpZiAkY3VycmVudCBhbmQgbGVuZ3RoKCRjdXJyZW50KSA9PSAkcHJpdmF0ZS1icmVha3BvaW50LXF1ZXJ5LWNvdW50IHtcbiAgICBAd2FybiBcIllvdSBoYXZlIGFscmVhZHkgcXVlcmllZCBhZ2FpbnN0IGAjeyRmZWF0dXJlfWAuIFVuZXhwZWN0ZWQgdGhpbmdzIG1heSBoYXBwZW4gaWYgeW91IHF1ZXJ5IGFnYWluc3QgdGhlIHNhbWUgZmVhdHVyZSBtb3JlIHRoYW4gb25jZSBpbiB0aGUgc2FtZSBgYW5kYCBxdWVyeS4gQnJlYWtwb2ludCBpcyBvdmVyd3JpdGluZyB0aGUgY3VycmVudCBjb250ZXh0IHdpdGggYCN7JHZhbHVlfWBcIjtcbiAgfVxuXG4gIEBpZiBub3QgbWFwLWhhcy1rZXkoJHByaXZhdGUtYnJlYWtwb2ludC1jb250ZXh0LWhvbGRlciwgJGZlYXR1cmUpIHtcbiAgICAkdi1ob2xkZXI6ICgpO1xuICAgIEBmb3IgJGkgZnJvbSAxIHRvICRwcml2YXRlLWJyZWFrcG9pbnQtcXVlcnktY291bnQge1xuICAgICAgQGlmICRmZWF0dXJlID09ICdtZWRpYScge1xuICAgICAgICAkdi1ob2xkZXI6IGFwcGVuZCgkdi1ob2xkZXIsIGJyZWFrcG9pbnQtZ2V0KCdkZWZhdWx0IG1lZGlhJykpO1xuICAgICAgfVxuICAgICAgQGVsc2Uge1xuICAgICAgICAkdi1ob2xkZXI6IGFwcGVuZCgkdi1ob2xkZXIsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgJHYtaG9sZGVyOiBhcHBlbmQoJHYtaG9sZGVyLCAkdmFsdWUpO1xuICAgICRwcml2YXRlLWJyZWFrcG9pbnQtY29udGV4dC1ob2xkZXI6IG1hcC1tZXJnZSgkcHJpdmF0ZS1icmVha3BvaW50LWNvbnRleHQtaG9sZGVyLCAoJGZlYXR1cmU6ICR2LWhvbGRlcikpICFnbG9iYWw7XG4gIH1cbiAgQGVsc2Uge1xuICAgICR2LWhvbGRlcjogbWFwLWdldCgkcHJpdmF0ZS1icmVha3BvaW50LWNvbnRleHQtaG9sZGVyLCAkZmVhdHVyZSk7XG4gICAgJGxlbmd0aDogbGVuZ3RoKCR2LWhvbGRlcik7XG4gICAgQGZvciAkaSBmcm9tICRsZW5ndGggdG8gJHByaXZhdGUtYnJlYWtwb2ludC1xdWVyeS1jb3VudCAtIDEge1xuICAgICAgQGlmICRmZWF0dXJlID09ICdtZWRpYScge1xuICAgICAgICAkdi1ob2xkZXI6IGFwcGVuZCgkdi1ob2xkZXIsIGJyZWFrcG9pbnQtZ2V0KCdkZWZhdWx0IG1lZGlhJykpO1xuICAgICAgfVxuICAgICAgQGVsc2Uge1xuICAgICAgICAkdi1ob2xkZXI6IGFwcGVuZCgkdi1ob2xkZXIsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgJHYtaG9sZGVyOiBhcHBlbmQoJHYtaG9sZGVyLCAkdmFsdWUpO1xuICAgICRwcml2YXRlLWJyZWFrcG9pbnQtY29udGV4dC1ob2xkZXI6IG1hcC1tZXJnZSgkcHJpdmF0ZS1icmVha3BvaW50LWNvbnRleHQtaG9sZGVyLCAoJGZlYXR1cmU6ICR2LWhvbGRlcikpICFnbG9iYWw7XG4gIH1cblxuICBAcmV0dXJuIHRydWU7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gUHJpdmF0ZSBmdW5jdGlvbiB0byByZXNldCBjb250ZXh0XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbkBtaXhpbiBwcml2YXRlLWJyZWFrcG9pbnQtcmVzZXQtY29udGV4dHMge1xuICAkcHJpdmF0ZS1icmVha3BvaW50LWNvbnRleHQtaG9sZGVyOiAoKSAhZ2xvYmFsO1xuICAkcHJpdmF0ZS1icmVha3BvaW50LXF1ZXJ5LWNvdW50OiAwICFnbG9iYWw7XG59IiwiLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBDb252ZXJ0cyB0aGUgaW5wdXQgdmFsdWUgdG8gQmFzZSBFTXNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtdG8tYmFzZS1lbSgkdmFsdWUpIHtcbiAgJHZhbHVlLXVuaXQ6IHVuaXQoJHZhbHVlKTtcblxuICAvLyBXaWxsIGNvbnZlcnQgcmVsYXRpdmUgRU1zIGludG8gcm9vdCBFTXMuXG4gIEBpZiBicmVha3BvaW50LWdldCgnYmFzZSBmb250IHNpemUnKSBhbmQgdHlwZS1vZihicmVha3BvaW50LWdldCgnYmFzZSBmb250IHNpemUnKSkgPT0gJ251bWJlcicgYW5kICR2YWx1ZS11bml0ID09ICdlbScge1xuICAgICRiYXNlLXVuaXQ6IHVuaXQoYnJlYWtwb2ludC1nZXQoJ2Jhc2UgZm9udCBzaXplJykpO1xuXG4gICAgQGlmICRiYXNlLXVuaXQgPT0gJ3B4JyBvciAkYmFzZS11bml0ID09ICclJyBvciAkYmFzZS11bml0ID09ICdlbScgb3IgJGJhc2UtdW5pdCA9PSAncHQnIHtcbiAgICAgIEByZXR1cm4gYmFzZS1jb252ZXJzaW9uKCR2YWx1ZSkgLyBiYXNlLWNvbnZlcnNpb24oYnJlYWtwb2ludC1nZXQoJ2Jhc2UgZm9udCBzaXplJykpICogMWVtO1xuICAgIH1cbiAgICBAZWxzZSB7XG4gICAgICBAd2FybiAnI3ticmVha3BvaW50LWdldChcXCdiYXNlIGZvbnQgc2l6ZVxcJyl9IGlzIG5vdCBzZXQgaW4gdmFsaWQgdW5pdHMgZm9yIGZvbnQgc2l6ZSEnO1xuICAgICAgQHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgQGVsc2Uge1xuICAgIEByZXR1cm4gYmFzZS1jb252ZXJzaW9uKCR2YWx1ZSk7XG4gIH1cbn1cblxuQGZ1bmN0aW9uIGJhc2UtY29udmVyc2lvbigkdmFsdWUpIHtcbiAgJHVuaXQ6IHVuaXQoJHZhbHVlKTtcblxuICBAaWYgJHVuaXQgPT0gJ3B4JyB7XG4gICAgQHJldHVybiAkdmFsdWUgLyAxNnB4ICogMWVtO1xuICB9XG4gIEBlbHNlIGlmICR1bml0ID09ICclJyB7XG4gICAgQHJldHVybiAkdmFsdWUgLyAxMDAlICogMWVtO1xuICB9XG4gIEBlbHNlIGlmICR1bml0ID09ICdlbScge1xuICAgIEByZXR1cm4gJHZhbHVlO1xuICB9XG4gIEBlbHNlIGlmICR1bml0ID09ICdwdCcge1xuICAgIEByZXR1cm4gJHZhbHVlIC8gMTJwdCAqIDFlbTtcbiAgfVxuICBAZWxzZSB7XG4gICAgQHJldHVybiAkdmFsdWU7XG4vLyAgICBAd2FybiAnRXZlcnl0aGluZyBpcyB0ZXJyaWJsZSEgV2hhdCBoYXZlIHlvdSBkb25lPyEnO1xuICB9XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gUmV0dXJucyB3aGV0aGVyIHRoZSBmZWF0dXJlIGNhbiBoYXZlIGEgbWluL21heCBwYWlyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiRicmVha3BvaW50LW1pbi1tYXgtZmVhdHVyZXM6ICdjb2xvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29sb3ItaW5kZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FzcGVjdC1yYXRpbycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGV2aWNlLWFzcGVjdC1yYXRpbycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGV2aWNlLWhlaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGV2aWNlLXdpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoZWlnaHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21vbm9jaHJvbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc29sdXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3dpZHRoJztcblxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtbWluLW1heCgkZmVhdHVyZSkge1xuICBAZWFjaCAkaXRlbSBpbiAkYnJlYWtwb2ludC1taW4tbWF4LWZlYXR1cmVzIHtcbiAgICBAaWYgJGZlYXR1cmUgPT0gJGl0ZW0ge1xuICAgICAgQHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBAcmV0dXJuIGZhbHNlO1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFJldHVybnMgd2hldGhlciB0aGUgZmVhdHVyZSBjYW4gaGF2ZSBhIHN0cmluZyB2YWx1ZVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4kYnJlYWtwb2ludC1zdHJpbmctZmVhdHVyZXM6ICAnb3JpZW50YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NjYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbG9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhc3BlY3QtcmF0aW8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RldmljZS1hc3BlY3QtcmF0aW8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2x1bWlub3NpdHknO1xuXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1zdHJpbmctdmFsdWUoJGZlYXR1cmUpIHtcbiAgQGVhY2ggJGl0ZW0gaW4gJGJyZWFrcG9pbnQtc3RyaW5nLWZlYXR1cmVzIHtcbiAgICBAaWYgYnJlYWtwb2ludC1taW4tbWF4KCRpdGVtKSB7XG4gICAgICBAaWYgJGZlYXR1cmUgPT0gJ21pbi0jeyRpdGVtfScgb3IgJGZlYXR1cmUgPT0gJ21heC0jeyRpdGVtfScge1xuICAgICAgICBAcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIEBlbHNlIGlmICRmZWF0dXJlID09ICRpdGVtIHtcbiAgICAgIEByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgQHJldHVybiBmYWxzZTtcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBSZXR1cm5zIHdoZXRoZXIgdGhlIGZlYXR1cmUgaXMgYSBtZWRpYSB0eXBlXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiRicmVha3BvaW50LW1lZGlhLXR5cGVzOiAgJ2FsbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdicmFpbGxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VtYm9zc2VkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhbmRoZWxkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ByaW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2plY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnc2NyZWVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwZWVjaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICd0dHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAndHYnO1xuXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1pcy1tZWRpYSgkZmVhdHVyZSkge1xuICBAZWFjaCAkbWVkaWEgaW4gJGJyZWFrcG9pbnQtbWVkaWEtdHlwZXMge1xuICAgIEBpZiAoJGZlYXR1cmUgPT0gJG1lZGlhKSBvciAoJGZlYXR1cmUgPT0gJ25vdCAjeyRtZWRpYX0nKSBvciAoJGZlYXR1cmUgPT0gJ29ubHkgI3skbWVkaWF9Jykge1xuICAgICAgQHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIEByZXR1cm4gZmFsc2U7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gUmV0dXJucyB3aGV0aGVyIHRoZSBmZWF0dXJlIGNhbiBzdGFuZCBhbG9uZVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4kYnJlYWtwb2ludC1zaW5nbGUtc3RyaW5nLWZlYXR1cmVzOiAnY29sb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbG9yLWluZGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdncmlkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtb25vY2hyb21lJztcblxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtc2luZ2xlLXN0cmluZygkZmVhdHVyZSkge1xuICBAZWFjaCAkaXRlbSBpbiAkYnJlYWtwb2ludC1zaW5nbGUtc3RyaW5nLWZlYXR1cmVzIHtcbiAgICBAaWYgJGZlYXR1cmUgPT0gJGl0ZW0ge1xuICAgICAgQHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBAcmV0dXJuIGZhbHNlO1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFJldHVybnMgd2hldGhlciB0aGUgZmVhdHVyZVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1pcy1yZXNvbHV0aW9uKCRmZWF0dXJlKSB7XG4gICRyZXNvbHV0aW9uczogJ2RldmljZS1waXhlbC1yYXRpbycsICdkcHInO1xuXG4gIEBpZiBicmVha3BvaW50LWdldCgndHJhbnNmb3JtIHJlc29sdXRpb25zJykge1xuICAgICRyZXNvbHV0aW9uczogYXBwZW5kKCRyZXNvbHV0aW9ucywgJ3Jlc29sdXRpb24nKTtcbiAgfVxuXG4gIEBlYWNoICRyZXNvIGluICRyZXNvbHV0aW9ucyB7XG4gICAgQGlmIGluZGV4KCRmZWF0dXJlLCAkcmVzbykgb3IgaW5kZXgoJGZlYXR1cmUsICdtaW4tI3skcmVzb30nKSBvciBpbmRleCgkZmVhdHVyZSwgJ21heC0jeyRyZXNvfScpIHtcbiAgICAgIEByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBAcmV0dXJuIGZhbHNlO1xufVxuIiwiLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBJbXBvcnQgUGFyc2VyIFBpZWNlc1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5AaW1wb3J0IFwicGFyc2Vycy9xdWVyeVwiO1xuQGltcG9ydCBcInBhcnNlcnMvc2luZ2xlXCI7XG5AaW1wb3J0IFwicGFyc2Vycy9kb3VibGVcIjtcbkBpbXBvcnQgXCJwYXJzZXJzL3RyaXBsZVwiO1xuQGltcG9ydCBcInBhcnNlcnMvcmVzb2x1dGlvblwiO1xuXG4kTWVtby1FeGlzdHM6IGZ1bmN0aW9uLWV4aXN0cyhtZW1vLWdldCkgYW5kIGZ1bmN0aW9uLWV4aXN0cyhtZW1vLXNldCk7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gQnJlYWtwb2ludCBGdW5jdGlvblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5AZnVuY3Rpb24gYnJlYWtwb2ludCgkcXVlcnksICRjb250ZXh0cy4uLikge1xuICAkcnVuOiB0cnVlO1xuICAkcmV0dXJuOiAoKTtcblxuICAvLyBHcmFiIHRoZSBNZW1vIE91dHB1dCBpZiBNZW1vaXphdGlvbiBjYW4gYmUgYSB0aGluZ1xuICBAaWYgJE1lbW8tRXhpc3RzIHtcbiAgICAkcmV0dXJuOiBtZW1vLWdldChicmVha3BvaW50LCBicmVha3BvaW50ICRxdWVyeSAkY29udGV4dHMpO1xuXG4gICAgQGlmICRyZXR1cm4gIT0gbnVsbCB7XG4gICAgICAkcnVuOiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBAaWYgbm90ICRNZW1vLUV4aXN0cyBvciAkcnVuIHtcbiAgICAvLyBJbnRlcm5hbCBWYXJpYWJsZXNcbiAgICAkcXVlcnktc3RyaW5nOiAnJztcbiAgICAkcXVlcnktZmFsbGJhY2s6IGZhbHNlO1xuICAgICRyZXR1cm46ICgpO1xuXG4gICAgLy8gUmVzZXJ2ZSBHbG9iYWwgUHJpdmF0ZSBCcmVha3BvaW50IENvbnRleHRcbiAgICAkaG9sZGVyLWNvbnRleHQ6ICRwcml2YXRlLWJyZWFrcG9pbnQtY29udGV4dC1ob2xkZXI7XG4gICAgJGhvbGRlci1xdWVyeS1jb3VudDogJHByaXZhdGUtYnJlYWtwb2ludC1xdWVyeS1jb3VudDtcblxuICAgIC8vIFJlc2V0IEdsb2JhbCBQcml2YXRlIEJyZWFrcG9pbnQgQ29udGV4dFxuICAgICRwcml2YXRlLWJyZWFrcG9pbnQtY29udGV4dC1ob2xkZXI6ICgpICFnbG9iYWw7XG4gICAgJHByaXZhdGUtYnJlYWtwb2ludC1xdWVyeS1jb3VudDogMCAhZ2xvYmFsO1xuXG5cbiAgICAvLyBUZXN0IHRvIHNlZSBpZiBpdCdzIGEgY29tbWEtc2VwYXJhdGVkIGxpc3RcbiAgICAkb3ItbGlzdDogaWYobGlzdC1zZXBhcmF0b3IoJHF1ZXJ5KSA9PSAnY29tbWEnLCB0cnVlLCBmYWxzZSk7XG5cblxuICAgIEBpZiAoJG9yLWxpc3QgPT0gZmFsc2UgYW5kIGJyZWFrcG9pbnQtZ2V0KCdsZWdhY3kgc3ludGF4JykgPT0gZmFsc2UpIHtcbiAgICAgICRxdWVyeS1zdHJpbmc6IGJyZWFrcG9pbnQtcGFyc2UoJHF1ZXJ5KTtcbiAgICB9XG4gICAgQGVsc2Uge1xuICAgICAgJGxlbmd0aDogbGVuZ3RoKCRxdWVyeSk7XG5cbiAgICAgICRsYXN0OiBudGgoJHF1ZXJ5LCAkbGVuZ3RoKTtcbiAgICAgICRxdWVyeS1mYWxsYmFjazogYnJlYWtwb2ludC1uby1xdWVyeSgkbGFzdCk7XG5cbiAgICAgIEBpZiAoJHF1ZXJ5LWZhbGxiYWNrICE9IGZhbHNlKSB7XG4gICAgICAgICRsZW5ndGg6ICRsZW5ndGggLSAxO1xuICAgICAgfVxuXG4gICAgICBAaWYgKGJyZWFrcG9pbnQtZ2V0KCdsZWdhY3kgc3ludGF4JykgPT0gdHJ1ZSkge1xuICAgICAgICAkbXE6ICgpO1xuXG4gICAgICAgIEBmb3IgJGkgZnJvbSAxIHRocm91Z2ggJGxlbmd0aCB7XG4gICAgICAgICAgJG1xOiBhcHBlbmQoJG1xLCBudGgoJHF1ZXJ5LCAkaSksIGNvbW1hKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRxdWVyeS1zdHJpbmc6IGJyZWFrcG9pbnQtcGFyc2UoJG1xKTtcbiAgICAgIH1cbiAgICAgIEBlbHNlIHtcbiAgICAgICAgJHF1ZXJ5LXN0cmluZzogJyc7XG4gICAgICAgIEBmb3IgJGkgZnJvbSAxIHRocm91Z2ggJGxlbmd0aCB7XG4gICAgICAgICAgJHF1ZXJ5LXN0cmluZzogJHF1ZXJ5LXN0cmluZyArIGlmKCRpID09IDEsICcnLCAnLCAnKSArIGJyZWFrcG9pbnQtcGFyc2UobnRoKCRxdWVyeSwgJGkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgICRyZXR1cm46ICgncXVlcnknOiAkcXVlcnktc3RyaW5nLFxuICAgICAgICAnZmFsbGJhY2snOiAkcXVlcnktZmFsbGJhY2ssXG4gICAgICAgICdjb250ZXh0IGhvbGRlcic6ICRwcml2YXRlLWJyZWFrcG9pbnQtY29udGV4dC1ob2xkZXIsXG4gICAgICAgICdxdWVyeSBjb3VudCc6ICRwcml2YXRlLWJyZWFrcG9pbnQtcXVlcnktY291bnRcbiAgICApO1xuICAgIEBpZiBsZW5ndGgoJGNvbnRleHRzKSA+IDAgYW5kIG50aCgkY29udGV4dHMsIDEpICE9IGZhbHNlIHtcbiAgICAgIEBpZiAkcXVlcnktZmFsbGJhY2sgIT0gZmFsc2Uge1xuICAgICAgICAkY29udGV4dC1zZXR0ZXI6IHByaXZhdGUtYnJlYWtwb2ludC1zZXQtY29udGV4dCgnbm8tcXVlcnknLCAkcXVlcnktZmFsbGJhY2spO1xuICAgICAgfVxuICAgICAgJGNvbnRleHQtbWFwOiAoKTtcbiAgICAgIEBlYWNoICRjb250ZXh0IGluICRjb250ZXh0cyB7XG4gICAgICAgICRjb250ZXh0LW1hcDogbWFwLW1lcmdlKCRjb250ZXh0LW1hcCwgKCRjb250ZXh0OiBicmVha3BvaW50LWdldC1jb250ZXh0KCRjb250ZXh0KSkpO1xuICAgICAgfVxuICAgICAgJHJldHVybjogbWFwLW1lcmdlKCRyZXR1cm4sIChjb250ZXh0OiAkY29udGV4dC1tYXApKTtcbiAgICB9XG5cbiAgICAvLyBSZXNldCBHbG9iYWwgUHJpdmF0ZSBCcmVha3BvaW50IENvbnRleHRcbiAgICAkcHJpdmF0ZS1icmVha3BvaW50LWNvbnRleHQtaG9sZGVyOiAoKSAhZ2xvYmFsO1xuICAgICRwcml2YXRlLWJyZWFrcG9pbnQtcXVlcnktY291bnQ6IDAgIWdsb2JhbDtcblxuICAgIEBpZiAkTWVtby1FeGlzdHMge1xuICAgICAgJGhvbGRlcjogbWVtby1zZXQoYnJlYWtwb2ludCwgYnJlYWtwb2ludCAkcXVlcnkgJGNvbnRleHRzLCAkcmV0dXJuKTtcbiAgICB9XG4gIH1cblxuICBAcmV0dXJuICRyZXR1cm47XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gR2VuZXJhbCBCcmVha3BvaW50IFBhcnNlclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1wYXJzZSgkcXVlcnkpIHtcbiAgLy8gSW5jcmVhc2UgbnVtYmVyIG9mICdhbmQnIHF1ZXJpZXNcbiAgJHByaXZhdGUtYnJlYWtwb2ludC1xdWVyeS1jb3VudDogJHByaXZhdGUtYnJlYWtwb2ludC1xdWVyeS1jb3VudCArIDEgIWdsb2JhbDtcblxuICAvLyBTZXQgdXAgTWVkaWEgVHlwZVxuICAkcXVlcnktcHJpbnQ6ICcnO1xuXG4gICRmb3JjZS1hbGw6ICgoYnJlYWtwb2ludC1nZXQoJ2ZvcmNlIGFsbCBtZWRpYSB0eXBlJykgPT0gdHJ1ZSkgYW5kIChicmVha3BvaW50LWdldCgnZGVmYXVsdCBtZWRpYScpID09ICdhbGwnKSk7XG4gICRlbXB0eS1tZWRpYTogdHJ1ZTtcbiAgQGlmICgkZm9yY2UtYWxsID09IHRydWUpIG9yIChicmVha3BvaW50LWdldCgnZGVmYXVsdCBtZWRpYScpICE9ICdhbGwnKSB7XG4gICAgLy8gRm9yY2UgdGhlIHByaW50IG9mIHRoZSBkZWZhdWx0IG1lZGlhIHR5cGUgaWYgKGZvcmNlIGFsbCBpcyB0cnVlIGFuZCBkZWZhdWx0IG1lZGlhIHR5cGUgaXMgYWxsKSBvciAoZGVmYXVsdCBtZWRpYSB0eXBlIGlzIG5vdCBhbGwpXG4gICAgJHF1ZXJ5LXByaW50OiBicmVha3BvaW50LWdldCgnZGVmYXVsdCBtZWRpYScpO1xuICAgICRlbXB0eS1tZWRpYTogZmFsc2U7XG4gIH1cblxuXG4gICRxdWVyeS1yZXNvbHV0aW9uOiBmYWxzZTtcblxuICAkcXVlcnktaG9sZGVyOiBicmVha3BvaW50LXBhcnNlLXF1ZXJ5KCRxdWVyeSk7XG5cblxuXG4gIC8vIExvb3Agb3ZlciBlYWNoIHBhcnNlZCBvdXQgcXVlcnkgYW5kIHdyaXRlIGl0IHRvICRxdWVyeS1wcmludFxuICAkZmlyc3Q6IHRydWU7XG5cbiAgQGVhY2ggJGZlYXR1cmUgaW4gJHF1ZXJ5LWhvbGRlciB7XG4gICAgJGxlbmd0aDogbGVuZ3RoKCRmZWF0dXJlKTtcblxuICAgIC8vIFBhcnNlIGEgc2luZ2xlIGZlYXR1cmVcbiAgICBAaWYgKCRsZW5ndGggPT0gMSkge1xuICAgICAgLy8gRmVhdHVyZSBpcyBjdXJyZW50bHkgYSBsaXN0LCBncmFiIHRoZSBhY3R1YWwgdmFsdWVcbiAgICAgICRmZWF0dXJlOiBudGgoJGZlYXR1cmUsIDEpO1xuXG4gICAgICAvLyBNZWRpYSBUeXBlIG11c3QgYnkgY29udmVudGlvbiBiZSB0aGUgZmlyc3QgaXRlbSwgc28gaXQncyBzYWZlIHRvIGZsYXQgb3ZlcnJpZGUgJHF1ZXJ5LXByaW50LCB3aGljaCByaWdodCBub3cgc2hvdWxkIG9ubHkgYmUgdGhlIGRlZmF1bHQgbWVkaWEgdHlwZVxuICAgICAgQGlmIChicmVha3BvaW50LWlzLW1lZGlhKCRmZWF0dXJlKSkge1xuICAgICAgICBAaWYgKCRmb3JjZS1hbGwgPT0gdHJ1ZSkgb3IgKCRmZWF0dXJlICE9ICdhbGwnKSB7XG4gICAgICAgICAgLy8gRm9yY2UgdGhlIHByaW50IG9mIHRoZSBkZWZhdWx0IG1lZGlhIHR5cGUgaWYgKGZvcmNlIGFsbCBpcyB0cnVlIGFuZCBkZWZhdWx0IG1lZGlhIHR5cGUgaXMgYWxsKSBvciAoZGVmYXVsdCBtZWRpYSB0eXBlIGlzIG5vdCBhbGwpXG4gICAgICAgICAgJHF1ZXJ5LXByaW50OiAkZmVhdHVyZTtcbiAgICAgICAgICAkZW1wdHktbWVkaWE6IGZhbHNlO1xuXG4gICAgICAgICAgLy8gU2V0IENvbnRleHRcbiAgICAgICAgICAkY29udGV4dC1zZXR0ZXI6IHByaXZhdGUtYnJlYWtwb2ludC1zZXQtY29udGV4dChtZWRpYSwgJHF1ZXJ5LXByaW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgQGVsc2Uge1xuICAgICAgICAkcGFyc2VkOiBicmVha3BvaW50LXBhcnNlLXNpbmdsZSgkZmVhdHVyZSwgJGVtcHR5LW1lZGlhLCAkZmlyc3QpO1xuICAgICAgICAkcXVlcnktcHJpbnQ6ICcjeyRxdWVyeS1wcmludH0gI3skcGFyc2VkfSc7XG4gICAgICAgICRmaXJzdDogZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFBhcnNlIGEgZG91YmxlIGZlYXR1cmVcbiAgICBAZWxzZSBpZiAoJGxlbmd0aCA9PSAyKSB7XG4gICAgICBAaWYgKGJyZWFrcG9pbnQtaXMtcmVzb2x1dGlvbigkZmVhdHVyZSkgIT0gZmFsc2UpIHtcbiAgICAgICAgJHF1ZXJ5LXJlc29sdXRpb246ICRmZWF0dXJlO1xuICAgICAgfVxuICAgICAgQGVsc2Uge1xuICAgICAgICAkcGFyc2VkOiBudWxsO1xuICAgICAgICAvLyBJZiBpdCdzIGEgc3RyaW5nL251bWJlciBwYWlyLFxuICAgICAgICAvLyB3ZSBjaGVjayB0byBzZWUgaWYgb25lIGlzIGEgc2luZ2xlLXN0cmluZyB2YWx1ZSxcbiAgICAgICAgLy8gdGhlbiB3ZSBwYXJzZSBpdCBhcyBhIG5vcm1hbCBkb3VibGVcbiAgICAgICAgJGFscGhhOiBudGgoJGZlYXR1cmUsIDEpO1xuICAgICAgICAkYmV0YTogbnRoKCRmZWF0dXJlLCAyKTtcbiAgICAgICAgQGlmIGJyZWFrcG9pbnQtc2luZ2xlLXN0cmluZygkYWxwaGEpIG9yIGJyZWFrcG9pbnQtc2luZ2xlLXN0cmluZygkYmV0YSkge1xuICAgICAgICAgICRwYXJzZWQ6IGJyZWFrcG9pbnQtcGFyc2Utc2luZ2xlKCRhbHBoYSwgJGVtcHR5LW1lZGlhLCAkZmlyc3QpO1xuICAgICAgICAgICRxdWVyeS1wcmludDogJyN7JHF1ZXJ5LXByaW50fSAjeyRwYXJzZWR9JztcbiAgICAgICAgICAkZmlyc3Q6IGZhbHNlO1xuICAgICAgICAgICRwYXJzZWQ6IGJyZWFrcG9pbnQtcGFyc2Utc2luZ2xlKCRiZXRhLCAkZW1wdHktbWVkaWEsICRmaXJzdCk7XG4gICAgICAgICAgJHF1ZXJ5LXByaW50OiAnI3skcXVlcnktcHJpbnR9ICN7JHBhcnNlZH0nO1xuICAgICAgICB9XG4gICAgICAgIEBlbHNlIHtcbiAgICAgICAgICAkcGFyc2VkOiBicmVha3BvaW50LXBhcnNlLWRvdWJsZSgkZmVhdHVyZSwgJGVtcHR5LW1lZGlhLCAkZmlyc3QpO1xuICAgICAgICAgICRxdWVyeS1wcmludDogJyN7JHF1ZXJ5LXByaW50fSAjeyRwYXJzZWR9JztcbiAgICAgICAgICAkZmlyc3Q6IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFBhcnNlIGEgdHJpcGxlIGZlYXR1cmVcbiAgICBAZWxzZSBpZiAoJGxlbmd0aCA9PSAzKSB7XG4gICAgICAkcGFyc2VkOiBicmVha3BvaW50LXBhcnNlLXRyaXBsZSgkZmVhdHVyZSwgJGVtcHR5LW1lZGlhLCAkZmlyc3QpO1xuICAgICAgJHF1ZXJ5LXByaW50OiAnI3skcXVlcnktcHJpbnR9ICN7JHBhcnNlZH0nO1xuICAgICAgJGZpcnN0OiBmYWxzZTtcbiAgICB9XG5cbiAgfVxuXG4gIEBpZiAoJHF1ZXJ5LXJlc29sdXRpb24gIT0gZmFsc2UpIHtcbiAgICAkcXVlcnktcHJpbnQ6IGJyZWFrcG9pbnQtYnVpbGQtcmVzb2x1dGlvbigkcXVlcnktcHJpbnQsICRxdWVyeS1yZXNvbHV0aW9uLCAkZW1wdHktbWVkaWEsICRmaXJzdCk7XG4gIH1cblxuICAvLyBMb29wIHRocm91Z2ggZWFjaCBmZWF0dXJlIHRoYXQncyBiZWVuIGRldGVjdGVkIHNvIGZhciBhbmQgYXBwZW5kICdmYWxzZScgdG8gdGhlIHRoZSB2YWx1ZSBsaXN0IHRvIGluY3JlbWVudCB0aGVpciBjb3VudGVyc1xuICBAZWFjaCAkZiwgJHYgaW4gJHByaXZhdGUtYnJlYWtwb2ludC1jb250ZXh0LWhvbGRlciB7XG4gICAgJHYtaG9sZGVyOiAkdjtcbiAgICAkbGVuZ3RoOiBsZW5ndGgoJHYtaG9sZGVyKTtcbiAgICBAaWYgbGVuZ3RoKCR2LWhvbGRlcikgPCAkcHJpdmF0ZS1icmVha3BvaW50LXF1ZXJ5LWNvdW50IHtcbiAgICAgIEBmb3IgJGkgZnJvbSAkbGVuZ3RoIHRvICRwcml2YXRlLWJyZWFrcG9pbnQtcXVlcnktY291bnQge1xuICAgICAgICBAaWYgJGYgPT0gJ21lZGlhJyB7XG4gICAgICAgICAgJHYtaG9sZGVyOiBhcHBlbmQoJHYtaG9sZGVyLCBicmVha3BvaW50LWdldCgnZGVmYXVsdCBtZWRpYScpKTtcbiAgICAgICAgfVxuICAgICAgICBAZWxzZSB7XG4gICAgICAgICAgJHYtaG9sZGVyOiBhcHBlbmQoJHYtaG9sZGVyLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgJHByaXZhdGUtYnJlYWtwb2ludC1jb250ZXh0LWhvbGRlcjogbWFwLW1lcmdlKCRwcml2YXRlLWJyZWFrcG9pbnQtY29udGV4dC1ob2xkZXIsICgkZjogJHYtaG9sZGVyKSkgIWdsb2JhbDtcbiAgfVxuXG4gIEByZXR1cm4gJHF1ZXJ5LXByaW50O1xufVxuIiwiQGZ1bmN0aW9uIGJyZWFrcG9pbnQtcGFyc2UtcXVlcnkoJHF1ZXJ5KSB7XG4gIC8vIFBhcnNlIGZlYXR1cmVzIG91dCBvZiBhbiBpbmRpdmlkdWFsIHF1ZXJ5XG4gICRmZWF0dXJlLWhvbGRlcjogKCk7XG4gICRxdWVyeS1ob2xkZXI6ICgpO1xuICAkbGVuZ3RoOiBsZW5ndGgoJHF1ZXJ5KTtcblxuICBAaWYgJGxlbmd0aCA9PSAyIHtcbiAgICAvLyBJZiB3ZSd2ZSBnb3QgYSBzdHJpbmcvbnVtYmVyLCBudW1iZXIvc3RyaW5nLCBjaGVjayB0byBzZWUgaWYgaXQncyBhIHZhbGlkIHN0cmluZy9udW1iZXIgcGFpciBvciB0d28gc2luZ2xlc1xuICAgIEBpZiAodHlwZS1vZihudGgoJHF1ZXJ5LCAxKSkgPT0gJ3N0cmluZycgYW5kIHR5cGUtb2YobnRoKCRxdWVyeSwgMikpID09ICdudW1iZXInKSBvciAodHlwZS1vZihudGgoJHF1ZXJ5LCAxKSkgPT0gJ251bWJlcicgYW5kIHR5cGUtb2YobnRoKCRxdWVyeSwgMikpID09ICdzdHJpbmcnKSB7XG5cbiAgICAgICRudW1iZXI6ICcnO1xuICAgICAgJHZhbHVlOiAnJztcblxuICAgICAgQGlmIHR5cGUtb2YobnRoKCRxdWVyeSwgMSkpID09ICdzdHJpbmcnIHtcbiAgICAgICAgJG51bWJlcjogbnRoKCRxdWVyeSwgMik7XG4gICAgICAgICR2YWx1ZTogbnRoKCRxdWVyeSwgMSk7XG4gICAgICB9XG4gICAgICBAZWxzZSB7XG4gICAgICAgICRudW1iZXI6IG50aCgkcXVlcnksIDEpO1xuICAgICAgICAkdmFsdWU6IG50aCgkcXVlcnksIDIpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgc3RyaW5nIHZhbHVlIGNhbiBiZSBhIHNpbmdsZSB2YWx1ZSwgY2hlY2sgdG8gc2VlIGlmIHRoZSBudW1iZXIgcGFzc2VkIGluIGlzIGEgdmFsaWQgaW5wdXQgZm9yIHNhaWQgc2luZ2xlIHZhbHVlLiBGb3J0dW5hdGVseSwgYWxsIGN1cnJlbnQgc2luZ2xlLXZhbHVlIG9wdGlvbnMgb25seSBhY2NlcHQgdW5pdGxlc3MgbnVtYmVycywgc28gdGhpcyBjaGVjayBpcyBlYXN5LlxuICAgICAgQGlmIGJyZWFrcG9pbnQtc2luZ2xlLXN0cmluZygkdmFsdWUpIHtcbiAgICAgICAgQGlmIHVuaXRsZXNzKCRudW1iZXIpIHtcbiAgICAgICAgICAkZmVhdHVyZS1ob2xkZXI6IGFwcGVuZCgkdmFsdWUsICRudW1iZXIsIHNwYWNlKTtcbiAgICAgICAgICAkcXVlcnktaG9sZGVyOiBhcHBlbmQoJHF1ZXJ5LWhvbGRlciwgJGZlYXR1cmUtaG9sZGVyLCBjb21tYSk7XG4gICAgICAgICAgQHJldHVybiAkcXVlcnktaG9sZGVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBJZiB0aGUgc3RyaW5nIGlzIGEgbWVkaWEgdHlwZSwgc3BsaXQgdGhlIHF1ZXJ5XG4gICAgICBAaWYgYnJlYWtwb2ludC1pcy1tZWRpYSgkdmFsdWUpIHtcbiAgICAgICAgJHF1ZXJ5LWhvbGRlcjogYXBwZW5kKCRxdWVyeS1ob2xkZXIsIG50aCgkcXVlcnksIDEpKTtcbiAgICAgICAgJHF1ZXJ5LWhvbGRlcjogYXBwZW5kKCRxdWVyeS1ob2xkZXIsIG50aCgkcXVlcnksIDIpKTtcbiAgICAgICAgQHJldHVybiAkcXVlcnktaG9sZGVyO1xuICAgICAgfVxuICAgICAgLy8gSWYgaXQncyBub3QgYSBzaW5nbGUgZmVhdHVyZSwgd2UncmUganVzdCBnb2luZyB0byBhc3N1bWUgaXQncyBhIHByb3BlciBzdHJpbmcvdmFsdWUgcGFpciwgYW5kIHJvbGwgd2l0aCBpdC5cbiAgICAgIEBlbHNlIHtcbiAgICAgICAgJGZlYXR1cmUtaG9sZGVyOiBhcHBlbmQoJHZhbHVlLCAkbnVtYmVyLCBzcGFjZSk7XG4gICAgICAgICRxdWVyeS1ob2xkZXI6IGFwcGVuZCgkcXVlcnktaG9sZGVyLCAkZmVhdHVyZS1ob2xkZXIsIGNvbW1hKTtcbiAgICAgICAgQHJldHVybiAkcXVlcnktaG9sZGVyO1xuICAgICAgfVxuXG4gICAgfVxuICAgIC8vIElmIHRoZXkncmUgYm90aCBudW1iZXJzLCB3ZSBhc3N1bWUgaXQncyBhIGRvdWJsZSBhbmQgcm9sbCB3aXRoIHRoYXRcbiAgICBAZWxzZSBpZiAodHlwZS1vZihudGgoJHF1ZXJ5LCAxKSkgPT0gJ251bWJlcicgYW5kIHR5cGUtb2YobnRoKCRxdWVyeSwgMikpID09ICdudW1iZXInKSB7XG4gICAgICAkZmVhdHVyZS1ob2xkZXI6IGFwcGVuZChudGgoJHF1ZXJ5LCAxKSwgbnRoKCRxdWVyeSwgMiksIHNwYWNlKTtcbiAgICAgICRxdWVyeS1ob2xkZXI6IGFwcGVuZCgkcXVlcnktaG9sZGVyLCAkZmVhdHVyZS1ob2xkZXIsIGNvbW1hKTtcbiAgICAgIEByZXR1cm4gJHF1ZXJ5LWhvbGRlcjtcbiAgICB9XG4gICAgLy8gSWYgdGhleSdyZSBib3RoIHN0cmluZ3MgYW5kIG5laXRoZXIgYXJlIHNpbmdsZXMsIHdlIHJvbGwgd2l0aCB0aGF0LlxuICAgIEBlbHNlIGlmICh0eXBlLW9mKG50aCgkcXVlcnksIDEpKSA9PSAnc3RyaW5nJyBhbmQgdHlwZS1vZihudGgoJHF1ZXJ5LCAyKSkgPT0gJ3N0cmluZycpIHtcbiAgICAgIEBpZiBub3QgYnJlYWtwb2ludC1zaW5nbGUtc3RyaW5nKG50aCgkcXVlcnksIDEpKSBhbmQgbm90IGJyZWFrcG9pbnQtc2luZ2xlLXN0cmluZyhudGgoJHF1ZXJ5LCAyKSkge1xuICAgICAgICAkZmVhdHVyZS1ob2xkZXI6IGFwcGVuZChudGgoJHF1ZXJ5LCAxKSwgbnRoKCRxdWVyeSwgMiksIHNwYWNlKTtcbiAgICAgICAgJHF1ZXJ5LWhvbGRlcjogYXBwZW5kKCRxdWVyeS1ob2xkZXIsICRmZWF0dXJlLWhvbGRlciwgY29tbWEpO1xuICAgICAgICBAcmV0dXJuICRxdWVyeS1ob2xkZXI7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIEBlbHNlIGlmICRsZW5ndGggPT0gMyB7XG4gICAgLy8gSWYgd2UndmUgZ290IHRocmVlIGl0ZW1zIGFuZCBub25lIGlzIGEgbGlzdCwgd2UgY2hlY2sgdG8gc2VlXG4gICAgQGlmIHR5cGUtb2YobnRoKCRxdWVyeSwgMSkpICE9ICdsaXN0JyBhbmQgdHlwZS1vZihudGgoJHF1ZXJ5LCAyKSkgIT0gJ2xpc3QnIGFuZCB0eXBlLW9mKG50aCgkcXVlcnksIDMpKSAhPSAnbGlzdCcge1xuICAgICAgLy8gSWYgbm9uZSBvZiB0aGUgaXRlbXMgYXJlIHNpbmdsZSBzdHJpbmcgdmFsdWVzIGFuZCBub25lIG9mIHRoZSB2YWx1ZXMgYXJlIG1lZGlhIHZhbHVlcywgd2UncmUgZ29vZC5cbiAgICAgIEBpZiAobm90IGJyZWFrcG9pbnQtc2luZ2xlLXN0cmluZyhudGgoJHF1ZXJ5LCAxKSkgYW5kIG5vdCBicmVha3BvaW50LXNpbmdsZS1zdHJpbmcobnRoKCRxdWVyeSwgMikpIGFuZCBub3QgYnJlYWtwb2ludC1zaW5nbGUtc3RyaW5nKG50aCgkcXVlcnksIDMpKSkgYW5kICAoKG5vdCBicmVha3BvaW50LWlzLW1lZGlhKG50aCgkcXVlcnksIDEpKSBhbmQgbm90IGJyZWFrcG9pbnQtaXMtbWVkaWEobnRoKCRxdWVyeSwgMikpIGFuZCBub3QgYnJlYWtwb2ludC1pcy1tZWRpYShudGgoJHF1ZXJ5LCAzKSkpKSB7XG4gICAgICAgICRmZWF0dXJlLWhvbGRlcjogYXBwZW5kKG50aCgkcXVlcnksIDEpLCBudGgoJHF1ZXJ5LCAyKSwgc3BhY2UpO1xuICAgICAgICAkZmVhdHVyZS1ob2xkZXI6IGFwcGVuZCgkZmVhdHVyZS1ob2xkZXIsIG50aCgkcXVlcnksIDMpLCBzcGFjZSk7XG4gICAgICAgICRxdWVyeS1ob2xkZXI6IGFwcGVuZCgkcXVlcnktaG9sZGVyLCAkZmVhdHVyZS1ob2xkZXIsIGNvbW1hKTtcbiAgICAgICAgQHJldHVybiAkcXVlcnktaG9sZGVyO1xuICAgICAgfVxuICAgICAgLy8gbGV0J3MgY2hlY2sgdG8gc2VlIGlmIHRoZSBmaXJzdCBpdGVtIGlzIGEgbWVkaWEgdHlwZVxuICAgICAgQGVsc2UgaWYgYnJlYWtwb2ludC1pcy1tZWRpYShudGgoJHF1ZXJ5LCAxKSkge1xuICAgICAgICAkcXVlcnktaG9sZGVyOiBhcHBlbmQoJHF1ZXJ5LWhvbGRlciwgbnRoKCRxdWVyeSwgMSkpO1xuICAgICAgICAkZmVhdHVyZS1ob2xkZXI6IGFwcGVuZChudGgoJHF1ZXJ5LCAyKSwgbnRoKCRxdWVyeSwgMyksIHNwYWNlKTtcbiAgICAgICAgJHF1ZXJ5LWhvbGRlcjogYXBwZW5kKCRxdWVyeS1ob2xkZXIsICRmZWF0dXJlLWhvbGRlcik7XG4gICAgICAgIEByZXR1cm4gJHF1ZXJ5LWhvbGRlcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBJZiBpdCdzIGEgc2luZ2xlIGl0ZW0sIG9yIGlmIGl0J3Mgbm90IGEgc3BlY2lhbCBjYXNlIGRvdWJsZSBvciB0cmlwbGUsIHdlIGNhbiBzaW1wbHkgcmV0dXJuIHRoZSBxdWVyeS5cbiAgQHJldHVybiAkcXVlcnk7XG59XG4iLCIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEltcG9ydCBQaWVjZXNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuQGltcG9ydCBcInNpbmdsZS9kZWZhdWx0XCI7XG5cbkBmdW5jdGlvbiBicmVha3BvaW50LXBhcnNlLXNpbmdsZSgkZmVhdHVyZSwgJGVtcHR5LW1lZGlhLCAkZmlyc3QpIHtcbiAgJHBhcnNlZDogJyc7XG4gICRsZWFkZXI6ICcnO1xuICAvLyBJZiB3ZSdyZSBmb3JjaW5nXG4gIEBpZiBub3QgKCRlbXB0eS1tZWRpYSkgb3Igbm90ICgkZmlyc3QpIHtcbiAgICAkbGVhZGVyOiAnYW5kICc7XG4gIH1cblxuICAvLyBJZiBpdCdzIGEgc2luZ2xlIGZlYXR1cmUgdGhhdCBjYW4gc3RhbmQgYWxvbmUsIHdlIGxldCBpdFxuICBAaWYgKGJyZWFrcG9pbnQtc2luZ2xlLXN0cmluZygkZmVhdHVyZSkpIHtcbiAgICAkcGFyc2VkOiAkZmVhdHVyZTtcbiAgICAvLyBTZXQgQ29udGV4dFxuICAgICRjb250ZXh0LXNldHRlcjogcHJpdmF0ZS1icmVha3BvaW50LXNldC1jb250ZXh0KCRmZWF0dXJlLCAkZmVhdHVyZSk7XG4gIH1cbiAgLy8gSWYgaXQncyBub3QgYSBzdGFuZCBhbG9uZSBmZWF0dXJlLCB3ZSBwYXNzIGl0IG9mZiB0byB0aGUgZGVmYXVsdCBoYW5kbGVyLlxuICBAZWxzZSB7XG4gICAgJHBhcnNlZDogYnJlYWtwb2ludC1wYXJzZS1kZWZhdWx0KCRmZWF0dXJlKTtcbiAgfVxuXG4gIEByZXR1cm4gJGxlYWRlciArICcoJyArICRwYXJzZWQgKyAnKSc7XG59XG4iLCJAZnVuY3Rpb24gYnJlYWtwb2ludC1wYXJzZS1kZWZhdWx0KCRmZWF0dXJlKSB7XG4gICRkZWZhdWx0OiBicmVha3BvaW50LWdldCgnZGVmYXVsdCBmZWF0dXJlJyk7XG5cbiAgLy8gU2V0IENvbnRleHRcbiAgJGNvbnRleHQtc2V0dGVyOiBwcml2YXRlLWJyZWFrcG9pbnQtc2V0LWNvbnRleHQoJGRlZmF1bHQsICRmZWF0dXJlKTtcblxuICBAaWYgKGJyZWFrcG9pbnQtZ2V0KCd0byBlbXMnKSA9PSB0cnVlKSBhbmQgKHR5cGUtb2YoJGZlYXR1cmUpID09ICdudW1iZXInKSB7XG4gICAgQHJldHVybiAnI3skZGVmYXVsdH06ICN7YnJlYWtwb2ludC10by1iYXNlLWVtKCRmZWF0dXJlKX0nO1xuICB9XG4gIEBlbHNlIHtcbiAgICBAcmV0dXJuICcjeyRkZWZhdWx0fTogI3skZmVhdHVyZX0nO1xuICB9XG59XG4iLCIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEltcG9ydCBQaWVjZXNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuQGltcG9ydCBcImRvdWJsZS9kZWZhdWx0LXBhaXJcIjtcbkBpbXBvcnQgXCJkb3VibGUvZG91YmxlLXN0cmluZ1wiO1xuQGltcG9ydCBcImRvdWJsZS9kZWZhdWx0XCI7XG5cbkBmdW5jdGlvbiBicmVha3BvaW50LXBhcnNlLWRvdWJsZSgkZmVhdHVyZSwgJGVtcHR5LW1lZGlhLCAkZmlyc3QpIHtcbiAgJHBhcnNlZDogJyc7XG4gICRsZWFkZXI6ICcnO1xuICAvLyBJZiB3ZSdyZSBmb3JjaW5nXG4gIEBpZiBub3QgKCRlbXB0eS1tZWRpYSkgb3Igbm90ICgkZmlyc3QpIHtcbiAgICAkbGVhZGVyOiAnYW5kICc7XG4gIH1cblxuICAkZmlyc3Q6IG50aCgkZmVhdHVyZSwgMSk7XG4gICRzZWNvbmQ6IG50aCgkZmVhdHVyZSwgMik7XG5cbiAgLy8gSWYgd2UndmUgZ290IHR3byBudW1iZXJzLCB3ZSBrbm93IHdlIG5lZWQgdG8gdXNlIHRoZSBkZWZhdWx0IHBhaXIgYmVjYXVzZSB0aGVyZSBhcmUgbm8gbWVkaWEgcXVlcmllcyB0aGF0IGhhcyBhIG1lZGlhIGZlYXR1cmUgdGhhdCBpcyBhIG51bWJlclxuICBAaWYgdHlwZS1vZigkZmlyc3QpID09ICdudW1iZXInIGFuZCB0eXBlLW9mKCRzZWNvbmQpID09ICdudW1iZXInIHtcbiAgICAkcGFyc2VkOiBicmVha3BvaW50LXBhcnNlLWRlZmF1bHQtcGFpcigkZmlyc3QsICRzZWNvbmQpO1xuICB9XG4gIC8vIElmIHRoZXkgYXJlIGJvdGggc3RyaW5ncywgd2Ugc2VuZCBpdCB0aHJvdWdoIHRoZSBzdHJpbmcgcGFyc2VyXG4gIEBlbHNlIGlmIHR5cGUtb2YoJGZpcnN0KSA9PSAnc3RyaW5nJyBhbmQgdHlwZS1vZigkc2Vjb25kKSA9PSAnc3RyaW5nJyB7XG4gICAgJHBhcnNlZDogYnJlYWtwb2ludC1wYXJzZS1kb3VibGUtc3RyaW5nKCRmaXJzdCwgJHNlY29uZCk7XG4gIH1cbiAgLy8gSWYgaXQncyBhIHN0cmluZy9udW1iZXIgcGFpciwgd2UgcGFyc2UgaXQgYXMgYSBub3JtYWwgZG91YmxlXG4gIEBlbHNlIHtcbiAgICAkcGFyc2VkOiBicmVha3BvaW50LXBhcnNlLWRvdWJsZS1kZWZhdWx0KCRmaXJzdCwgJHNlY29uZCk7XG4gIH1cblxuICBAcmV0dXJuICRsZWFkZXIgKyAkcGFyc2VkO1xufVxuIiwiQGZ1bmN0aW9uIGJyZWFrcG9pbnQtcGFyc2UtZGVmYXVsdC1wYWlyKCRmaXJzdCwgJHNlY29uZCkge1xuICAkZGVmYXVsdDogYnJlYWtwb2ludC1nZXQoJ2RlZmF1bHQgcGFpcicpO1xuICAkbWluOiAnJztcbiAgJG1heDogJyc7XG5cbiAgLy8gU29ydCBpbnRvIG1pbiBhbmQgbWF4XG4gICRtaW46IG1pbigkZmlyc3QsICRzZWNvbmQpO1xuICAkbWF4OiBtYXgoJGZpcnN0LCAkc2Vjb25kKTtcblxuICAvLyBTZXQgQ29udGV4dFxuICAkY29udGV4dC1zZXR0ZXI6IHByaXZhdGUtYnJlYWtwb2ludC1zZXQtY29udGV4dChtaW4tI3skZGVmYXVsdH0sICRtaW4pO1xuICAkY29udGV4dC1zZXR0ZXI6IHByaXZhdGUtYnJlYWtwb2ludC1zZXQtY29udGV4dChtYXgtI3skZGVmYXVsdH0sICRtYXgpO1xuXG4gIC8vIE1ha2UgdGhlbSBFTXMgaWYgbmVlZCBiZVxuICBAaWYgKGJyZWFrcG9pbnQtZ2V0KCd0byBlbXMnKSA9PSB0cnVlKSB7XG4gICAgJG1pbjogYnJlYWtwb2ludC10by1iYXNlLWVtKCRtaW4pO1xuICAgICRtYXg6IGJyZWFrcG9pbnQtdG8tYmFzZS1lbSgkbWF4KTtcbiAgfVxuXG4gIEByZXR1cm4gJyhtaW4tI3skZGVmYXVsdH06ICN7JG1pbn0pIGFuZCAobWF4LSN7JGRlZmF1bHR9OiAjeyRtYXh9KSc7XG59XG4iLCJAZnVuY3Rpb24gYnJlYWtwb2ludC1wYXJzZS1kb3VibGUtc3RyaW5nKCRmaXJzdCwgJHNlY29uZCkge1xuICAkZmVhdHVyZTogJyc7XG4gICR2YWx1ZTogJyc7XG5cbiAgLy8gVGVzdCB0byBzZWUgd2hpY2ggaXMgdGhlIGZlYXR1cmUgYW5kIHdoaWNoIGlzIHRoZSB2YWx1ZVxuICBAaWYgKGJyZWFrcG9pbnQtc3RyaW5nLXZhbHVlKCRmaXJzdCkgPT0gdHJ1ZSkge1xuICAgICRmZWF0dXJlOiAkZmlyc3Q7XG4gICAgJHZhbHVlOiAkc2Vjb25kO1xuICB9XG4gIEBlbHNlIGlmIChicmVha3BvaW50LXN0cmluZy12YWx1ZSgkc2Vjb25kKSA9PSB0cnVlKSB7XG4gICAgJGZlYXR1cmU6ICRzZWNvbmQ7XG4gICAgJHZhbHVlOiAkZmlyc3Q7XG4gIH1cbiAgQGVsc2Uge1xuICAgIEB3YXJuIFwiTmVpdGhlciAjeyRmaXJzdH0gbm9yICN7JHNlY29uZH0gaXMgYSB2YWxpZCBtZWRpYSBxdWVyeSBuYW1lLlwiO1xuICB9XG5cbiAgLy8gU2V0IENvbnRleHRcbiAgJGNvbnRleHQtc2V0dGVyOiBwcml2YXRlLWJyZWFrcG9pbnQtc2V0LWNvbnRleHQoJGZlYXR1cmUsICR2YWx1ZSk7XG5cbiAgQHJldHVybiAnKCN7JGZlYXR1cmV9OiAjeyR2YWx1ZX0pJztcbn0iLCJAZnVuY3Rpb24gYnJlYWtwb2ludC1wYXJzZS1kb3VibGUtZGVmYXVsdCgkZmlyc3QsICRzZWNvbmQpIHtcbiAgJGZlYXR1cmU6ICcnO1xuICAkdmFsdWU6ICcnO1xuXG4gIEBpZiB0eXBlLW9mKCRmaXJzdCkgPT0gJ3N0cmluZycge1xuICAgICRmZWF0dXJlOiAkZmlyc3Q7XG4gICAgJHZhbHVlOiAkc2Vjb25kO1xuICB9XG4gIEBlbHNlIHtcbiAgICAkZmVhdHVyZTogJHNlY29uZDtcbiAgICAkdmFsdWU6ICRmaXJzdDtcbiAgfVxuXG4gIC8vIFNldCBDb250ZXh0XG4gICRjb250ZXh0LXNldHRlcjogcHJpdmF0ZS1icmVha3BvaW50LXNldC1jb250ZXh0KCRmZWF0dXJlLCAkdmFsdWUpO1xuXG4gIEBpZiAoYnJlYWtwb2ludC1nZXQoJ3RvIGVtcycpID09IHRydWUpIHtcbiAgICAkdmFsdWU6IGJyZWFrcG9pbnQtdG8tYmFzZS1lbSgkdmFsdWUpO1xuICB9XG5cbiAgQHJldHVybiAnKCN7JGZlYXR1cmV9OiAjeyR2YWx1ZX0pJ1xufVxuIiwiLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBJbXBvcnQgUGllY2VzXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbkBpbXBvcnQgXCJ0cmlwbGUvZGVmYXVsdFwiO1xuXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1wYXJzZS10cmlwbGUoJGZlYXR1cmUsICRlbXB0eS1tZWRpYSwgJGZpcnN0KSB7XG4gICRwYXJzZWQ6ICcnO1xuICAkbGVhZGVyOiAnJztcblxuICAvLyBJZiB3ZSdyZSBmb3JjaW5nXG4gIEBpZiBub3QgKCRlbXB0eS1tZWRpYSkgb3Igbm90ICgkZmlyc3QpIHtcbiAgICAkbGVhZGVyOiAnYW5kICc7XG4gIH1cblxuICAvLyBzZXBhcmF0ZSB0aGUgc3RyaW5nIGZlYXR1cmVzIGZyb20gdGhlIHZhbHVlIG51bWJlcnNcbiAgJHN0cmluZzogbnVsbDtcbiAgJG51bWJlcnM6IG51bGw7XG4gIEBlYWNoICR2YWwgaW4gJGZlYXR1cmUge1xuICAgIEBpZiB0eXBlLW9mKCR2YWwpID09IHN0cmluZyB7XG4gICAgICAkc3RyaW5nOiAkdmFsO1xuICAgIH1cbiAgICBAZWxzZSB7XG4gICAgICBAaWYgdHlwZS1vZigkbnVtYmVycykgPT0gJ251bGwnIHtcbiAgICAgICAgJG51bWJlcnM6ICR2YWw7XG4gICAgICB9XG4gICAgICBAZWxzZSB7XG4gICAgICAgICRudW1iZXJzOiBhcHBlbmQoJG51bWJlcnMsICR2YWwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gICRwYXJzZWQ6IGJyZWFrcG9pbnQtcGFyc2UtdHJpcGxlLWRlZmF1bHQoJHN0cmluZywgbnRoKCRudW1iZXJzLCAxKSwgbnRoKCRudW1iZXJzLCAyKSk7XG5cbiAgQHJldHVybiAkbGVhZGVyICsgJHBhcnNlZDtcblxufVxuIiwiQGZ1bmN0aW9uIGJyZWFrcG9pbnQtcGFyc2UtdHJpcGxlLWRlZmF1bHQoJGZlYXR1cmUsICRmaXJzdCwgJHNlY29uZCkge1xuXG4gIC8vIFNvcnQgaW50byBtaW4gYW5kIG1heFxuICAkbWluOiBtaW4oJGZpcnN0LCAkc2Vjb25kKTtcbiAgJG1heDogbWF4KCRmaXJzdCwgJHNlY29uZCk7XG5cbiAgLy8gU2V0IENvbnRleHRcbiAgJGNvbnRleHQtc2V0dGVyOiBwcml2YXRlLWJyZWFrcG9pbnQtc2V0LWNvbnRleHQobWluLSN7JGZlYXR1cmV9LCAkbWluKTtcbiAgJGNvbnRleHQtc2V0dGVyOiBwcml2YXRlLWJyZWFrcG9pbnQtc2V0LWNvbnRleHQobWF4LSN7JGZlYXR1cmV9LCAkbWF4KTtcblxuICAvLyBNYWtlIHRoZW0gRU1zIGlmIG5lZWQgYmVcbiAgQGlmIChicmVha3BvaW50LWdldCgndG8gZW1zJykgPT0gdHJ1ZSkge1xuICAgICRtaW46IGJyZWFrcG9pbnQtdG8tYmFzZS1lbSgkbWluKTtcbiAgICAkbWF4OiBicmVha3BvaW50LXRvLWJhc2UtZW0oJG1heCk7XG4gIH1cblxuICBAcmV0dXJuICcobWluLSN7JGZlYXR1cmV9OiAjeyRtaW59KSBhbmQgKG1heC0jeyRmZWF0dXJlfTogI3skbWF4fSknO1xufVxuIiwiQGltcG9ydCBcInJlc29sdXRpb24vcmVzb2x1dGlvblwiO1xuXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1idWlsZC1yZXNvbHV0aW9uKCRxdWVyeS1wcmludCwgJHF1ZXJ5LXJlc29sdXRpb24sICRlbXB0eS1tZWRpYSwgJGZpcnN0KSB7XG4gICRsZWFkZXI6ICcnO1xuICAvLyBJZiB3ZSdyZSBmb3JjaW5nXG4gIEBpZiBub3QgKCRlbXB0eS1tZWRpYSkgb3Igbm90ICgkZmlyc3QpIHtcbiAgICAkbGVhZGVyOiAnYW5kICc7XG4gIH1cblxuICBAaWYgYnJlYWtwb2ludC1nZXQoJ3RyYW5zZm9ybSByZXNvbHV0aW9ucycpIGFuZCAkcXVlcnktcmVzb2x1dGlvbiB7XG4gICAgJHJlc29sdXRpb25zOiBicmVha3BvaW50LW1ha2UtcmVzb2x1dGlvbnMoJHF1ZXJ5LXJlc29sdXRpb24pO1xuICAgICRsZW5ndGg6IGxlbmd0aCgkcmVzb2x1dGlvbnMpO1xuICAgICRxdWVyeS1ob2xkZXI6ICcnO1xuXG4gICAgQGZvciAkaSBmcm9tIDEgdGhyb3VnaCAkbGVuZ3RoIHtcbiAgICAgICRxdWVyeTogJyN7JHF1ZXJ5LXByaW50fSAjeyRsZWFkZXJ9I3tudGgoJHJlc29sdXRpb25zLCAkaSl9JztcbiAgICAgIEBpZiAkaSA9PSAxIHtcbiAgICAgICAgJHF1ZXJ5LWhvbGRlcjogJHF1ZXJ5O1xuICAgICAgfVxuICAgICAgQGVsc2Uge1xuICAgICAgICAkcXVlcnktaG9sZGVyOiAnI3skcXVlcnktaG9sZGVyfSwgI3skcXVlcnl9JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBAcmV0dXJuICRxdWVyeS1ob2xkZXI7XG4gIH1cbiAgQGVsc2Uge1xuICAgIC8vIFJldHVybiB3aXRoIGF0dGFjaGVkIHJlc29sdXRpb25cbiAgICBAcmV0dXJuICRxdWVyeS1wcmludDtcbiAgfVxufVxuIiwiQGZ1bmN0aW9uIGJyZWFrcG9pbnQtbWFrZS1yZXNvbHV0aW9ucygkcmVzb2x1dGlvbikge1xuICAkbGVuZ3RoOiBsZW5ndGgoJHJlc29sdXRpb24pO1xuXG4gICRvdXRwdXQ6ICgpO1xuXG4gIEBpZiAkbGVuZ3RoID09IDIge1xuICAgICRmZWF0dXJlOiAnJztcbiAgICAkdmFsdWU6ICcnO1xuXG4gICAgLy8gRmluZCB3aGljaCBpcyBudW1iZXJcbiAgICBAaWYgdHlwZS1vZihudGgoJHJlc29sdXRpb24sIDEpKSA9PSAnbnVtYmVyJyB7XG4gICAgICAkdmFsdWU6IG50aCgkcmVzb2x1dGlvbiwgMSk7XG4gICAgfVxuICAgIEBlbHNlIHtcbiAgICAgICR2YWx1ZTogbnRoKCRyZXNvbHV0aW9uLCAyKTtcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgbWluL21heC9zdGFuZGFyZFxuICAgIEBpZiBpbmRleCgkcmVzb2x1dGlvbiwgJ21pbi1yZXNvbHV0aW9uJykge1xuICAgICAgJGZlYXR1cmU6ICdtaW4tJztcbiAgICB9XG4gICAgQGVsc2UgaWYgaW5kZXgoJHJlc29sdXRpb24sICdtYXgtcmVzb2x1dGlvbicpIHtcbiAgICAgICRmZWF0dXJlOiAnbWF4LSc7XG4gICAgfVxuXG4gICAgJHN0YW5kYXJkOiAnKCN7JGZlYXR1cmV9cmVzb2x1dGlvbjogI3skdmFsdWV9KSc7XG5cbiAgICAvLyBJZiB3ZSdyZSBub3QgZGVhbGluZyB3aXRoIGRwcHgsXG4gICAgQGlmIHVuaXQoJHZhbHVlKSAhPSAnZHBweCcge1xuICAgICAgJGJhc2U6IDk2ZHBpO1xuICAgICAgQGlmIHVuaXQoJHZhbHVlKSA9PSAnZHBjbScge1xuICAgICAgICAkYmFzZTogMjQzLjg0ZHBjbTtcbiAgICAgIH1cbiAgICAgIC8vIFdyaXRlIG91dCBmZWF0dXJlIHRlc3RzXG4gICAgICAkd2Via2l0OiAnJztcbiAgICAgICRtb3o6ICcnO1xuICAgICAgJHdlYmtpdDogJygtd2Via2l0LSN7JGZlYXR1cmV9ZGV2aWNlLXBpeGVsLXJhdGlvOiAjeyR2YWx1ZSAvICRiYXNlfSknO1xuICAgICAgJG1vejogJygjeyRmZWF0dXJlfS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvOiAjeyR2YWx1ZSAvICRiYXNlfSknO1xuICAgICAgLy8gQXBwZW5kIHRvIG91dHB1dFxuICAgICAgJG91dHB1dDogYXBwZW5kKCRvdXRwdXQsICRzdGFuZGFyZCwgc3BhY2UpO1xuICAgICAgJG91dHB1dDogYXBwZW5kKCRvdXRwdXQsICR3ZWJraXQsIHNwYWNlKTtcbiAgICAgICRvdXRwdXQ6IGFwcGVuZCgkb3V0cHV0LCAkbW96LCBzcGFjZSk7XG4gICAgfVxuICAgIEBlbHNlIHtcbiAgICAgICR3ZWJraXQ6ICcnO1xuICAgICAgJG1vejogJyc7XG4gICAgICAkd2Via2l0OiAnKC13ZWJraXQtI3skZmVhdHVyZX1kZXZpY2UtcGl4ZWwtcmF0aW86ICN7JHZhbHVlIC8gMWRwcHh9KSc7XG4gICAgICAkbW96OiAnKCN7JGZlYXR1cmV9LW1vei1kZXZpY2UtcGl4ZWwtcmF0aW86ICN7JHZhbHVlIC8gMWRwcHh9KSc7XG4gICAgICAkZmFsbGJhY2s6ICcoI3skZmVhdHVyZX1yZXNvbHV0aW9uOiAjeyR2YWx1ZSAvIDFkcHB4ICogOTZkcGl9KSc7XG4gICAgICAvLyBBcHBlbmQgdG8gb3V0cHV0XG4gICAgICAkb3V0cHV0OiBhcHBlbmQoJG91dHB1dCwgJHN0YW5kYXJkLCBzcGFjZSk7XG4gICAgICAkb3V0cHV0OiBhcHBlbmQoJG91dHB1dCwgJHdlYmtpdCwgc3BhY2UpO1xuICAgICAgJG91dHB1dDogYXBwZW5kKCRvdXRwdXQsICRtb3osIHNwYWNlKTtcbiAgICAgICRvdXRwdXQ6IGFwcGVuZCgkb3V0cHV0LCAkZmFsbGJhY2ssIHNwYWNlKTtcbiAgICB9XG5cbiAgfVxuXG4gIEByZXR1cm4gJG91dHB1dDtcbn1cbiIsIkBmdW5jdGlvbiBicmVha3BvaW50LW5vLXF1ZXJ5KCRxdWVyeSkge1xuICBAaWYgdHlwZS1vZigkcXVlcnkpID09ICdsaXN0JyB7XG4gICAgJGtleXdvcmQ6IG50aCgkcXVlcnksIDEpO1xuXG4gICAgQGlmIHR5cGUtb2YoJGtleXdvcmQpID09ICdzdHJpbmcnIGFuZCAoJGtleXdvcmQgPT0gJ25vLXF1ZXJ5JyBvciAka2V5d29yZCA9PSAnbm8gcXVlcnknIG9yICRrZXl3b3JkID09ICdmYWxsYmFjaycpIHtcbiAgICAgIEByZXR1cm4gbnRoKCRxdWVyeSwgMik7XG4gICAgfVxuICAgIEBlbHNlIHtcbiAgICAgIEByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIEBlbHNlIHtcbiAgICBAcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIERlZmF1bHQgdGhlIEJyZWFrcG9pbnRzIHZhcmlhYmxlXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiRicmVha3BvaW50czogKCkgIWRlZmF1bHQ7XG4kQlJFQUtQT0lOVFM6ICgpICFkZWZhdWx0O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFJlc3BvbmQtdG8gQVBJIE1peGluXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbkBtaXhpbiByZXNwb25kLXRvKCRjb250ZXh0LCAkbm8tcXVlcnk6IGZhbHNlKSB7XG4gIEBpZiBsZW5ndGgoJGJyZWFrcG9pbnRzKSA+IDAgYW5kIGxlbmd0aCgkQlJFQUtQT0lOVFMpID09IDAge1xuICAgIEB3YXJuIFwiSW4gb3JkZXIgdG8gYXZvaWQgdmFyaWFibGUgbmFtZXNwYWNlIGNvbGxpc2lvbnMsIHdlIGhhdmUgdXBkYXRlZCB0aGUgd2F5IHRvIGFkZCBicmVha3BvaW50cyBmb3IgcmVzcG9uZC10by4gUGxlYXNlIGNoYW5nZSBhbGwgaW5zdGFuY2VzIG9mIGAkYnJlYWtwb2ludHM6IGFkZC1icmVha3BvaW50KClgIHRvIGBAaW5jbHVkZSBhZGQtYnJlYWtwb2ludCgpYC4gVGhlIGBhZGQtYnJlYWtwb2ludCgpYCBmdW5jdGlvbiB3aWxsIGJlIGRlcHJlY2F0ZWQgaW4gYSBmdXR1cmUgcmVsZWFzZS5cIjtcbiAgICAkQlJFQUtQT0lOVFM6ICRicmVha3BvaW50cyAhZ2xvYmFsO1xuICAgICRicmVha3BvaW50czogKCkgIWdsb2JhbDtcbiAgfVxuXG4gIEBpZiB0eXBlLW9mKCRCUkVBS1BPSU5UUykgIT0gJ21hcCcge1xuICAgIC8vIEp1c3QgaW4gY2FzZSBzb21lb25lIHdyaXRlcyBnaWJiZXJpc2ggdG8gdGhlICRicmVha3BvaW50cyB2YXJpYWJsZS5cbiAgICBAd2FybiBcIllvdXIgYnJlYWtwb2ludHMgYXJlbid0IGEgbWFwISBgcmVzcG9uZC10b2AgZXhwZWN0cyBhIG1hcC4gUGxlYXNlIGNoZWNrIHRoZSB2YWx1ZSBvZiAkQlJFQUtQT0lOVFMgdmFyaWFibGUuXCI7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbiAgQGVsc2UgaWYgbWFwLWhhcy1rZXkoJEJSRUFLUE9JTlRTLCAkY29udGV4dCkge1xuICAgIEBpbmNsdWRlIGJyZWFrcG9pbnQobWFwLWdldCgkQlJFQUtQT0lOVFMsICRjb250ZXh0KSwgJG5vLXF1ZXJ5KSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH1cbiAgQGVsc2UgaWYgbm90IG1hcC1oYXMta2V5KCRCUkVBS1BPSU5UUywgJGNvbnRleHQpIHtcbiAgICBAd2FybiBcImAjeyRjb250ZXh0fWAgaXNuJ3QgYSBkZWZpbmVkIGJyZWFrcG9pbnQhIFBsZWFzZSBhZGQgaXQgdXNpbmcgYCRicmVha3BvaW50czogYWRkLWJyZWFrcG9pbnQoYCN7JGNvbnRleHR9YCwgJHZhbHVlKTtgXCI7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbiAgQGVsc2Uge1xuICAgIEB3YXJuIFwiWW91IGhhdmVuJ3QgY3JlYXRlZCBhbnkgYnJlYWtwb2ludHMgeWV0ISBNYWtlIHNvbWUgYWxyZWFkeSEgYEBpbmNsdWRlIGFkZC1icmVha3BvaW50KCRuYW1lLCAkYmtwdClgXCI7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBBZGQgQnJlYWtwb2ludCB0byBCcmVha3BvaW50c1xuLy8gVE9ETzogUmVtb3ZlIGZ1bmN0aW9uIGluIG5leHQgcmVsZWFzZVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5AZnVuY3Rpb24gYWRkLWJyZWFrcG9pbnQoJG5hbWUsICRia3B0LCAkb3ZlcndyaXRlOiBmYWxzZSkge1xuICAkb3V0cHV0OiAoJG5hbWU6ICRia3B0KTtcblxuICBAaWYgbGVuZ3RoKCRicmVha3BvaW50cykgPT0gMCB7XG4gICAgQHJldHVybiAkb3V0cHV0O1xuICB9XG4gIEBlbHNlIHtcbiAgICBAaWYgbWFwLWhhcy1rZXkoJGJyZWFrcG9pbnRzLCAkbmFtZSkgYW5kICRvdmVyd3JpdGUgIT0gdHJ1ZSB7XG4gICAgICBAd2FybiBcIllvdSBhbHJlYWR5IGhhdmUgYSBicmVha3BvaW50IG5hbWVkIGAjeyRuYW1lfWAsIHBsZWFzZSBjaG9vc2UgYW5vdGhlciBicmVha3BvaW50IG5hbWUsIG9yIHBhc3MgaW4gYCRvdmVyd3JpdGU6IHRydWVgIHRvIG92ZXJ3cml0ZSB0aGUgcHJldmlvdXMgYnJlYWtwb2ludC5cIjtcbiAgICAgIEByZXR1cm4gJGJyZWFrcG9pbnRzO1xuICAgIH1cbiAgICBAZWxzZSBpZiBub3QgbWFwLWhhcy1rZXkoJGJyZWFrcG9pbnRzLCAkbmFtZSkgb3IgJG92ZXJ3cml0ZSA9PSB0cnVlIHtcbiAgICAgIEByZXR1cm4gbWFwLW1lcmdlKCRicmVha3BvaW50cywgJG91dHB1dCk7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBhZGQtYnJlYWtwb2ludCgkbmFtZSwgJGJrcHQsICRvdmVyd3JpdGU6IGZhbHNlKSB7XG4gICRvdXRwdXQ6ICgkbmFtZTogJGJrcHQpO1xuXG4gIEBpZiBsZW5ndGgoJEJSRUFLUE9JTlRTKSA9PSAwIHtcbiAgICAkQlJFQUtQT0lOVFM6ICRvdXRwdXQgIWdsb2JhbDtcbiAgfVxuICBAZWxzZSB7XG4gICAgQGlmIG1hcC1oYXMta2V5KCRCUkVBS1BPSU5UUywgJG5hbWUpIGFuZCAkb3ZlcndyaXRlICE9IHRydWUge1xuICAgICAgQHdhcm4gXCJZb3UgYWxyZWFkeSBoYXZlIGEgYnJlYWtwb2ludCBuYW1lZCBgI3skbmFtZX1gLCBwbGVhc2UgY2hvb3NlIGFub3RoZXIgYnJlYWtwb2ludCBuYW1lLCBvciBwYXNzIGluIGAkb3ZlcndyaXRlOiB0cnVlYCB0byBvdmVyd3JpdGUgdGhlIHByZXZpb3VzIGJyZWFrcG9pbnQuXCI7XG4gICAgICAkQlJFQUtQT0lOVFM6ICRCUkVBS1BPSU5UUyAhZ2xvYmFsO1xuICAgIH1cbiAgICBAZWxzZSBpZiBub3QgbWFwLWhhcy1rZXkoJEJSRUFLUE9JTlRTLCAkbmFtZSkgb3IgJG92ZXJ3cml0ZSA9PSB0cnVlIHtcbiAgICAgICRCUkVBS1BPSU5UUzogbWFwLW1lcmdlKCRCUkVBS1BPSU5UUywgJG91dHB1dCkgIWdsb2JhbDtcbiAgICB9XG4gIH1cbn1cblxuQGZ1bmN0aW9uIGdldC1icmVha3BvaW50KCRuYW1lOiBmYWxzZSkge1xuICBAaWYgJG5hbWUgPT0gZmFsc2Uge1xuICAgIEByZXR1cm4gJEJSRUFLUE9JTlRTO1xuICB9XG4gIEBlbHNlIHtcbiAgICBAcmV0dXJuIG1hcC1nZXQoJEJSRUFLUE9JTlRTLCAkbmFtZSk7XG4gIH1cbn1cbiIsIkBtaXhpbiBsZWdhY3ktc2V0dGluZ3Mtd2FybmluZyB7XG4gICRsZWdhY3lWYXJzOiAoXG4gICAgJ2RlZmF1bHQtbWVkaWEnOiAnZGVmYXVsdCBtZWRpYScsXG4gICAgJ2RlZmF1bHQtZmVhdHVyZSc6ICdkZWZhdWx0IGZlYXR1cmUnLFxuICAgICdmb3JjZS1tZWRpYS1hbGwnOiAnZm9yY2UgYWxsIG1lZGlhIHR5cGUnLFxuICAgICd0by1lbXMnOiAndG8gZW1zJyxcbiAgICAncmVzb2x1dGlvbnMnOiAndHJhbnNmb3JtIHJlc29sdXRpb25zJyxcbiAgICAnbm8tcXVlcmllcyc6ICdubyBxdWVyaWVzJyxcbiAgICAnbm8tcXVlcnktZmFsbGJhY2tzJzogJ25vIHF1ZXJ5IGZhbGxiYWNrcycsXG4gICAgJ2Jhc2UtZm9udC1zaXplJzogJ2Jhc2UgZm9udCBzaXplJyxcbiAgICAnbGVnYWN5LXN5bnRheCc6ICdsZWdhY3kgc3ludGF4J1xuICApO1xuXG4gIEBlYWNoICRsZWdhY3ksICRuZXcgaW4gJGxlZ2FjeVZhcnMge1xuICAgIEBpZiBnbG9iYWwtdmFyaWFibGUtZXhpc3RzKCdicmVha3BvaW50LScgKyAkbGVnYWN5KSB7XG4gICAgICBAd2FybiBcIkluIG9yZGVyIHRvIGF2b2lkIHZhcmlhYmxlIG5hbXNwYWNlIGNvbGxpc2lvbnMsIHdlIGhhdmUgdXBkYXRlZCB0aGUgd2F5IHRvIGNoYW5nZSBzZXR0aW5ncyBmb3IgQnJlYWtwb2ludC4gUGxlYXNlIGNoYW5nZSBhbGwgaW5zdGFuY2VzIG9mIGAkYnJlYWtwb2ludC0jeyRsZWdhY3l9OiB7e3NldHRpbmd9fWAgdG8gYEBpbmNsdWRlIGJyZWFrcG9pbnQtc2V0KCcjeyRuZXd9Jywge3tzZXR0aW5nfX0pYC4gVmFyaWFibGUgc2V0dGluZ3MsIGFzIHdlbGwgYXMgdGhpcyB3YXJuaW5nIHdpbGwgYmUgZGVwcmVjYXRlZCBpbiBhIGZ1dHVyZSByZWxlYXNlLlwiXG4gICAgfVxuICB9O1xuXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBIYW5kIGNvcnJlY3QgZWFjaCBzZXR0aW5nXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBAaWYgZ2xvYmFsLXZhcmlhYmxlLWV4aXN0cygnYnJlYWtwb2ludC1kZWZhdWx0LW1lZGlhJykgYW5kICRicmVha3BvaW50LWRlZmF1bHQtbWVkaWEgIT0gYnJlYWtwb2ludC1nZXQoJ2RlZmF1bHQgbWVkaWEnKSB7XG4gICAgQGluY2x1ZGUgYnJlYWtwb2ludC1zZXQoJ2RlZmF1bHQgbWVkaWEnLCAkYnJlYWtwb2ludC1kZWZhdWx0LW1lZGlhKTtcbiAgfVxuICBAaWYgZ2xvYmFsLXZhcmlhYmxlLWV4aXN0cygnYnJlYWtwb2ludC1kZWZhdWx0LWZlYXR1cmUnKSBhbmQgJGJyZWFrcG9pbnQtZGVmYXVsdC1mZWF0dXJlICE9IGJyZWFrcG9pbnQtZ2V0KCdkZWZhdWx0IGZlYXR1cmUnKSB7XG4gICAgQGluY2x1ZGUgYnJlYWtwb2ludC1zZXQoJ2RlZmF1bHQgZmVhdHVyZScsICRicmVha3BvaW50LWRlZmF1bHQtZmVhdHVyZSk7XG4gIH1cbiAgQGlmIGdsb2JhbC12YXJpYWJsZS1leGlzdHMoJ2JyZWFrcG9pbnQtZm9yY2UtbWVkaWEtYWxsJykgYW5kICRicmVha3BvaW50LWZvcmNlLW1lZGlhLWFsbCAhPSBicmVha3BvaW50LWdldCgnZm9yY2UgYWxsIG1lZGlhIHR5cGUnKSB7XG4gICAgQGluY2x1ZGUgYnJlYWtwb2ludC1zZXQoJ2ZvcmNlIGFsbCBtZWRpYSB0eXBlJywgJGJyZWFrcG9pbnQtZm9yY2UtbWVkaWEtYWxsKTtcbiAgfVxuICBAaWYgZ2xvYmFsLXZhcmlhYmxlLWV4aXN0cygnYnJlYWtwb2ludC10by1lbXMnKSBhbmQgJGJyZWFrcG9pbnQtdG8tZW1zICE9IGJyZWFrcG9pbnQtZ2V0KCd0byBlbXMnKSB7XG4gICAgQGluY2x1ZGUgYnJlYWtwb2ludC1zZXQoJ3RvIGVtcycsICRicmVha3BvaW50LXRvLWVtcyk7XG4gIH1cbiAgQGlmIGdsb2JhbC12YXJpYWJsZS1leGlzdHMoJ2JyZWFrcG9pbnQtcmVzb2x1dGlvbnMnKSBhbmQgJGJyZWFrcG9pbnQtcmVzb2x1dGlvbnMgIT0gYnJlYWtwb2ludC1nZXQoJ3RyYW5zZm9ybSByZXNvbHV0aW9ucycpIHtcbiAgICBAaW5jbHVkZSBicmVha3BvaW50LXNldCgndHJhbnNmb3JtIHJlc29sdXRpb25zJywgJGJyZWFrcG9pbnQtcmVzb2x1dGlvbnMpO1xuICB9XG4gIEBpZiBnbG9iYWwtdmFyaWFibGUtZXhpc3RzKCdicmVha3BvaW50LW5vLXF1ZXJpZXMnKSBhbmQgJGJyZWFrcG9pbnQtbm8tcXVlcmllcyAhPSBicmVha3BvaW50LWdldCgnbm8gcXVlcmllcycpIHtcbiAgICBAaW5jbHVkZSBicmVha3BvaW50LXNldCgnbm8gcXVlcmllcycsICRicmVha3BvaW50LW5vLXF1ZXJpZXMpO1xuICB9XG4gIEBpZiBnbG9iYWwtdmFyaWFibGUtZXhpc3RzKCdicmVha3BvaW50LW5vLXF1ZXJ5LWZhbGxiYWNrcycpIGFuZCAkYnJlYWtwb2ludC1uby1xdWVyeS1mYWxsYmFja3MgIT0gYnJlYWtwb2ludC1nZXQoJ25vIHF1ZXJ5IGZhbGxiYWNrcycpIHtcbiAgICBAaW5jbHVkZSBicmVha3BvaW50LXNldCgnbm8gcXVlcnkgZmFsbGJhY2tzJywgJGJyZWFrcG9pbnQtbm8tcXVlcnktZmFsbGJhY2tzKTtcbiAgfVxuICBAaWYgZ2xvYmFsLXZhcmlhYmxlLWV4aXN0cygnYnJlYWtwb2ludC1iYXNlLWZvbnQtc2l6ZScpIGFuZCAkYnJlYWtwb2ludC1iYXNlLWZvbnQtc2l6ZSAhPSBicmVha3BvaW50LWdldCgnYmFzZSBmb250IHNpemUnKSB7XG4gICAgQGluY2x1ZGUgYnJlYWtwb2ludC1zZXQoJ2Jhc2UgZm9udCBzaXplJywgJGJyZWFrcG9pbnQtYmFzZS1mb250LXNpemUpO1xuICB9XG4gIEBpZiBnbG9iYWwtdmFyaWFibGUtZXhpc3RzKCdicmVha3BvaW50LWxlZ2FjeS1zeW50YXgnKSBhbmQgJGJyZWFrcG9pbnQtbGVnYWN5LXN5bnRheCAhPSBicmVha3BvaW50LWdldCgnbGVnYWN5IHN5bnRheCcpIHtcbiAgICBAaW5jbHVkZSBicmVha3BvaW50LXNldCgnbGVnYWN5IHN5bnRheCcsICRicmVha3BvaW50LWxlZ2FjeS1zeW50YXgpO1xuICB9XG59IiwiQGltcG9ydCAncmVzZXQnO1xyXG5AaW1wb3J0ICd0eXBvZ3JhcGh5JztcclxuQGltcG9ydCAnY29sb3JzJztcclxuQGltcG9ydCAnaWNvbnMnO1xyXG4iLCIqLFxyXG46YWZ0ZXIsXHJcbjpiZWZvcmUge1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuXHJcbi5jbGVhcmZpeCB7XHJcbiAgJjphZnRlcixcclxuICAmOmJlZm9yZSB7XHJcbiAgICBjb250ZW50OiAnJztcclxuICAgIGRpc3BsYXk6IHRhYmxlO1xyXG4gIH1cclxuICAmOmFmdGVyIHtcclxuICAgIGNsZWFyOiBib3RoO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgfVxyXG59Ly8uY2xlYXJmaXhcclxuIiwiXHJcbkBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9TGF0bzo0MDAsNzAwfE1vbnRzZXJyYXR8Um9ib3RvOjQwMCw1MDAsNzAwJyk7XHJcblxyXG4kbWFpbi1mb250OiAgICAgICdSb2JvdG8nLCBzYW5zLXNlcmlmO1xyXG4kc2Vjb3VuZC1mb250OiAgICdMYXRvJywgc2Fucy1zZXJpZjtcclxuJHRoaXJkLWZvbnQ6ICAgICAnTW9udHNlcnJhdCcsIHNhbnMtc2VyaWY7XHJcblxyXG4kcmVndWxhcjogICAgICAgICA0MDA7XHJcbiRtZWRpdW06ICAgICAgICAgIDUwMDtcclxuJGJvbGQ6ICAgICAgICAgICAgNzAwO1xyXG4iLCJcclxuJG1haW4tY29sb3I6ICAgICM0N2NjYjA7XHJcbiR0ZXh0LWNvbG9yOiAgICAjOTI5OGEwO1xyXG4kbGlnaHQ6ICAgICAgICAgI2ZmZmZmZjtcclxuIiwiLmljb24ge1xyXG4gICAgZm9udC1zaXplOiAxMHB4O1xyXG59XHJcblxyXG4uaWNvbjpiZWZvcmUge1xyXG4gICAgY29udGVudDonICc7XHJcbiAgICB2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuLi9pbWFnZXMvc3ZnL3Nwcml0ZS5zdmdcIik7XHJcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xyXG4gICAgYmFja2dyb3VuZC1zaXplOiA2LjhlbSAzMy4yZW07XHJcbn1cclxuXHJcbi5uby1zdmcgLmljb246YmVmb3JlIHtcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIi4uL2ltYWdlcy9zdmcvc3ByaXRlLnBuZ1wiKTtcclxufVxyXG4uaWNvbi5pY29uLWRpbmU6YmVmb3JlIHtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDBlbSAwZW07XHJcbiAgICB3aWR0aDogMi4xZW07XHJcbiAgICBoZWlnaHQ6IDIuMWVtO1xyXG4gIH1cclxuLmljb24uaWNvbi1kcmluazpiZWZvcmUge1xyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMGVtIC0yLjFlbTtcclxuICAgIHdpZHRoOiAyZW07XHJcbiAgICBoZWlnaHQ6IDIuMmVtO1xyXG59XHJcbi5pY29uLmljb24tZXhwbG9yZS1hY3RpdmU6YmVmb3JlIHtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDBlbSAtNC4zZW07XHJcbiAgICB3aWR0aDogMS42ZW07XHJcbiAgICBoZWlnaHQ6IDIuMWVtO1xyXG59XHJcbi5pY29uLmljb24tZXhwbG9yZS1hY3RpdmVfMjpiZWZvcmUge1xyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMGVtIC02LjRlbTtcclxuICAgIHdpZHRoOiAxLjZlbTtcclxuICAgIGhlaWdodDogMi4xZW07XHJcbn1cclxuLmljb24uaWNvbi1oYW5kc2hha2U6YmVmb3JlIHtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDBlbSAtOC41ZW07XHJcbiAgICB3aWR0aDogMi42ZW07XHJcbiAgICBoZWlnaHQ6IDEuOWVtO1xyXG59XHJcbi5pY29uLmljb24taG91c2U6YmVmb3JlIHtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDBlbSAtMTAuNGVtO1xyXG4gICAgd2lkdGg6IDIuMWVtO1xyXG4gICAgaGVpZ2h0OiAxLjllbTtcclxufVxyXG4uaWNvbi5pY29uLW1lZGljYWw6YmVmb3JlIHtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDBlbSAtMTIuM2VtO1xyXG4gICAgd2lkdGg6IDIuMmVtO1xyXG4gICAgaGVpZ2h0OiAyZW07XHJcbn1cclxuLmljb24uaWNvbi1tZXNzYWdlczpiZWZvcmUge1xyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMGVtIC0xNC4zZW07XHJcbiAgICB3aWR0aDogMi4xZW07XHJcbiAgICBoZWlnaHQ6IDIuMWVtO1xyXG59XHJcbi5pY29uLmljb24tbXktbG9jYXRpb246YmVmb3JlIHtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDBlbSAtMTYuNGVtO1xyXG4gICAgd2lkdGg6IDIuNGVtO1xyXG4gICAgaGVpZ2h0OiAyLjRlbTtcclxufVxyXG4uaWNvbi5pY29uLXNhdmU6YmVmb3JlIHtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDBlbSAtMTguOGVtO1xyXG4gICAgd2lkdGg6IDIuMWVtO1xyXG4gICAgaGVpZ2h0OiAyLjFlbTtcclxufVxyXG4uaWNvbi5pY29uLXNhdmUtY29weTpiZWZvcmUge1xyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMGVtIC0yMC45ZW07XHJcbiAgICB3aWR0aDogMi4xZW07XHJcbiAgICBoZWlnaHQ6IDIuMWVtO1xyXG59XHJcbi5pY29uLmljb24tc2F2ZS1jb3B5LTI6YmVmb3JlIHtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDBlbSAtMjNlbTtcclxuICAgIHdpZHRoOiAyLjFlbTtcclxuICAgIGhlaWdodDogMi4xZW07XHJcbn1cclxuLmljb24uaWNvbi1zZWFyY2gtZ3JleTpiZWZvcmUge1xyXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMGVtIC0yNS4xZW07XHJcbiAgICB3aWR0aDogMi40ZW07XHJcbiAgICBoZWlnaHQ6IDIuNGVtO1xyXG59XHJcbi5pY29uLmljb24tdHJpcHM6YmVmb3JlIHtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDBlbSAtMjcuNWVtO1xyXG4gICAgd2lkdGg6IDIuMWVtO1xyXG4gICAgaGVpZ2h0OiAyLjFlbTtcclxufVxyXG4uaWNvbi5sb2dvOmJlZm9yZSB7XHJcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwZW0gLTI5LjZlbTtcclxuICAgIHdpZHRoOiA2LjhlbTtcclxuICAgIGhlaWdodDogMy41M2VtO1xyXG59XHJcbiIsIkBpbXBvcnQgJ2hlYWRlcic7XHJcbiIsIi5oZWFkZXIge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogODBweDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgZm9udC1mYW1pbHk6ICRtYWluLWZvbnQ7XHJcbiAgZm9udC13ZWlnaHQ6ICRtZWRpdW07XHJcbiAgZm9udC1zaXplOiAxN3B4O1xyXG4gIGxpbmUtaGVpZ2h0OiAyNXB4O1xyXG5cclxuICAmX19saW5rIHtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICB9XHJcblxyXG4gICZfX2xvZ28ge1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDMwcHg7XHJcbiAgICBtYXJnaW4tdG9wOiAtMTBweDtcclxuICB9IC8vRW5kIG9mIGhlYWRlcl9fbG9nb1xyXG4gICZfX2V4cGxvcmUge1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDMwcHg7XHJcbiAgICAmLS1pY29uIHtcclxuICAgICAgcGFkZGluZy1yaWdodDogMTJweDtcclxuICAgIH1cclxuICAgICYtLXRleHQge1xyXG4gICAgICBjb2xvcjogJG1haW4tY29sb3I7XHJcbiAgICB9XHJcbiAgfSAvL0VuZCBvZiBoZWFkZXJfX2V4cGxvcmVcclxuICAmX190cmlwcyB7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBtYXJnaW4tbGVmdDogMzBweDtcclxuICAgICYtLXRleHQge1xyXG4gICAgICBjb2xvcjogJHRleHQtY29sb3I7XHJcbiAgICB9XHJcbiAgICAmLS1pY29uIHtcclxuICAgICAgcGFkZGluZy1yaWdodDogMTJweDtcclxuICAgIH1cclxuICB9IC8vIEVuZCBvZiBoZWFkZXJfX3RyaXBzXHJcbiAgJl9fbWVzc2FnZXMge1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDMwcHg7XHJcbiAgICAmLS10ZXh0IHtcclxuICAgICAgY29sb3I6ICR0ZXh0LWNvbG9yO1xyXG4gICAgfVxyXG4gICAgJi0taWNvbiB7XHJcbiAgICAgIG1hcmdpbi1yaWdodDogMTJweDtcclxuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICB3aWR0aDogMjVweDtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICBwYWRkaW5nLWxlZnQ6IDdweDtcclxuICAgICAgY29sb3I6ICRsaWdodDtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJG1haW4tY29sb3I7XHJcbiAgICAgIGJveC1zaGFkb3c6IDAgN3B4IDE1cHggMCByZ2JhKDcxLCAyMDQsIDE3NSwgMC40KTtcclxuICAgIH1cclxuICB9XHJcbiAgJl9fdXNlciB7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogMTBweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgJi0tbmFtZSB7XHJcbiAgICAgIGNvbG9yOiAkdGV4dC1jb2xvcjtcclxuICAgICAgZmxvYXQ6IGxlZnQ7XHJcbiAgICB9XHJcbiAgICAmLS1pbWFnZSB7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xyXG4gICAgICB3aWR0aDogNTRweDtcclxuICAgICAgaGVpZ2h0OiA1NHB4O1xyXG4gICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgfVxyXG4gIH1cclxufS8vRW5kIG9mIGhlYWRlclxyXG4iXSwibWFwcGluZ3MiOiJBQUFBOzs7OztJQUtJO0FpRUpKLE9BQU8sQ0FBQyx5RkFBSTtBRERaLEFBQUEsQ0FBQztBQUNELEFBQUEsTUFBTTtBQUNOLEFBQUEsT0FBTyxDQUFDO0VBQ04sVUFBVSxFQUFFLFVBQVcsR0FDeEI7O0FBRUQsQUFBQSxTQUFTLEFBQ04sTUFBTSxFQURULEFBQUEsU0FBUyxBQUVOLE9BQU8sQ0FBQztFQUNQLE9BQU8sRUFBRSxFQUFHO0VBQ1osT0FBTyxFQUFFLEtBQU0sR0FDaEI7O0FBTEgsQUFBQSxTQUFTLEFBTU4sTUFBTSxDQUFDO0VBQ04sS0FBSyxFQUFFLElBQUs7RUFDWixPQUFPLEVBQUUsS0FBTSxHQUNoQjs7QUdmSCxBQUFBLEtBQUssQ0FBQztFQUNGLFNBQVMsRUFBRSxJQUFLLEdBQ25COztBQUVELEFBQUssS0FBQSxBQUFBLE9BQU8sQ0FBQztFQUNULE9BQU8sRUFBQyxHQUFJO0VBQ1osY0FBYyxFQUFDLE1BQU87RUFDdEIsT0FBTyxFQUFFLFlBQWE7RUFDdEIsZ0JBQWdCLEVBQUUsK0JBQUc7RUFDckIsaUJBQWlCLEVBQUUsU0FBVTtFQUM3QixlQUFlLEVBQUUsWUFBYSxHQUNqQzs7QUFFRCxBQUFhLE9BQU4sQ0FBQyxLQUFLLEFBQUEsT0FBTyxDQUFDO0VBQ2pCLGdCQUFnQixFQUFFLCtCQUFHLEdBQ3hCOztBQUNELEFBQWUsS0FBVixBQUFBLFVBQVUsQUFBQSxPQUFPLENBQUM7RUFDbkIsbUJBQW1CLEVBQUUsT0FBUTtFQUM3QixLQUFLLEVBQUUsS0FBTTtFQUNiLE1BQU0sRUFBRSxLQUFNLEdBQ2Y7O0FBQ0gsQUFBZ0IsS0FBWCxBQUFBLFdBQVcsQUFBQSxPQUFPLENBQUM7RUFDcEIsbUJBQW1CLEVBQUUsVUFBVztFQUNoQyxLQUFLLEVBQUUsR0FBSTtFQUNYLE1BQU0sRUFBRSxLQUFNLEdBQ2pCOztBQUNELEFBQXlCLEtBQXBCLEFBQUEsb0JBQW9CLEFBQUEsT0FBTyxDQUFDO0VBQzdCLG1CQUFtQixFQUFFLFVBQVc7RUFDaEMsS0FBSyxFQUFFLEtBQU07RUFDYixNQUFNLEVBQUUsS0FBTSxHQUNqQjs7QUFDRCxBQUEyQixLQUF0QixBQUFBLHNCQUFzQixBQUFBLE9BQU8sQ0FBQztFQUMvQixtQkFBbUIsRUFBRSxVQUFXO0VBQ2hDLEtBQUssRUFBRSxLQUFNO0VBQ2IsTUFBTSxFQUFFLEtBQU0sR0FDakI7O0FBQ0QsQUFBb0IsS0FBZixBQUFBLGVBQWUsQUFBQSxPQUFPLENBQUM7RUFDeEIsbUJBQW1CLEVBQUUsVUFBVztFQUNoQyxLQUFLLEVBQUUsS0FBTTtFQUNiLE1BQU0sRUFBRSxLQUFNLEdBQ2pCOztBQUNELEFBQWdCLEtBQVgsQUFBQSxXQUFXLEFBQUEsT0FBTyxDQUFDO0VBQ3BCLG1CQUFtQixFQUFFLFdBQVk7RUFDakMsS0FBSyxFQUFFLEtBQU07RUFDYixNQUFNLEVBQUUsS0FBTSxHQUNqQjs7QUFDRCxBQUFrQixLQUFiLEFBQUEsYUFBYSxBQUFBLE9BQU8sQ0FBQztFQUN0QixtQkFBbUIsRUFBRSxXQUFZO0VBQ2pDLEtBQUssRUFBRSxLQUFNO0VBQ2IsTUFBTSxFQUFFLEdBQUksR0FDZjs7QUFDRCxBQUFtQixLQUFkLEFBQUEsY0FBYyxBQUFBLE9BQU8sQ0FBQztFQUN2QixtQkFBbUIsRUFBRSxXQUFZO0VBQ2pDLEtBQUssRUFBRSxLQUFNO0VBQ2IsTUFBTSxFQUFFLEtBQU0sR0FDakI7O0FBQ0QsQUFBc0IsS0FBakIsQUFBQSxpQkFBaUIsQUFBQSxPQUFPLENBQUM7RUFDMUIsbUJBQW1CLEVBQUUsV0FBWTtFQUNqQyxLQUFLLEVBQUUsS0FBTTtFQUNiLE1BQU0sRUFBRSxLQUFNLEdBQ2pCOztBQUNELEFBQWUsS0FBVixBQUFBLFVBQVUsQUFBQSxPQUFPLENBQUM7RUFDbkIsbUJBQW1CLEVBQUUsV0FBWTtFQUNqQyxLQUFLLEVBQUUsS0FBTTtFQUNiLE1BQU0sRUFBRSxLQUFNLEdBQ2pCOztBQUNELEFBQW9CLEtBQWYsQUFBQSxlQUFlLEFBQUEsT0FBTyxDQUFDO0VBQ3hCLG1CQUFtQixFQUFFLFdBQVk7RUFDakMsS0FBSyxFQUFFLEtBQU07RUFDYixNQUFNLEVBQUUsS0FBTSxHQUNqQjs7QUFDRCxBQUFzQixLQUFqQixBQUFBLGlCQUFpQixBQUFBLE9BQU8sQ0FBQztFQUMxQixtQkFBbUIsRUFBRSxTQUFVO0VBQy9CLEtBQUssRUFBRSxLQUFNO0VBQ2IsTUFBTSxFQUFFLEtBQU0sR0FDakI7O0FBQ0QsQUFBc0IsS0FBakIsQUFBQSxpQkFBaUIsQUFBQSxPQUFPLENBQUM7RUFDMUIsbUJBQW1CLEVBQUUsV0FBWTtFQUNqQyxLQUFLLEVBQUUsS0FBTTtFQUNiLE1BQU0sRUFBRSxLQUFNLEdBQ2pCOztBQUNELEFBQWdCLEtBQVgsQUFBQSxXQUFXLEFBQUEsT0FBTyxDQUFDO0VBQ3BCLG1CQUFtQixFQUFFLFdBQVk7RUFDakMsS0FBSyxFQUFFLEtBQU07RUFDYixNQUFNLEVBQUUsS0FBTSxHQUNqQjs7QUFDRCxBQUFVLEtBQUwsQUFBQSxLQUFLLEFBQUEsT0FBTyxDQUFDO0VBQ2QsbUJBQW1CLEVBQUUsV0FBWTtFQUNqQyxLQUFLLEVBQUUsS0FBTTtFQUNiLE1BQU0sRUFBRSxNQUFPLEdBQ2xCOztBRTFGRCxBQUFBLE9BQU8sQ0FBQztFQUNOLEtBQUssRUFBRSxJQUFLO0VBQ1osTUFBTSxFQUFFLElBQUs7RUFDYixPQUFPLEVBQUUsSUFBSztFQUNkLFdBQVcsRUFBRSxNQUFPO0VBQ3BCLFdBQVcsRUpGSSxRQUFRLEVBQUUsVUFBVTtFSUduQyxXQUFXLEVKRUssR0FBRztFSURuQixTQUFTLEVBQUUsSUFBSztFQUNoQixXQUFXLEVBQUUsSUFBSyxHQWlFbkI7RUF6RUQsQUFBQSxhQUFPLENBVUc7SUFDTixlQUFlLEVBQUUsSUFBSyxHQUN2QjtFQVpILEFBQUEsYUFBTyxDQWNHO0lBQ04sT0FBTyxFQUFFLFlBQWE7SUFDdEIsV0FBVyxFQUFFLElBQUs7SUFDbEIsVUFBVSxFQUFFLEtBQU0sR0FDbkI7RUFsQkgsQUFBQSxnQkFBTyxDQW1CTTtJQUNULE9BQU8sRUFBRSxZQUFhO0lBQ3RCLFdBQVcsRUFBRSxJQUFLLEdBT25CO0lBNUJILEFBQUEsc0JBQU8sQ0FzQks7TUFDTixhQUFhLEVBQUUsSUFBSyxHQUNyQjtJQXhCTCxBQUFBLHNCQUFPLENBeUJLO01BQ04sS0FBSyxFSHpCSyxPQUFPLEdHMEJsQjtFQTNCTCxBQUFBLGNBQU8sQ0E2Qkk7SUFDUCxPQUFPLEVBQUUsWUFBYTtJQUN0QixXQUFXLEVBQUUsSUFBSyxHQU9uQjtJQXRDSCxBQUFBLG9CQUFPLENBZ0NLO01BQ04sS0FBSyxFSC9CSyxPQUFPLEdHZ0NsQjtJQWxDTCxBQUFBLG9CQUFPLENBbUNLO01BQ04sYUFBYSxFQUFFLElBQUssR0FDckI7RUFyQ0wsQUFBQSxpQkFBTyxDQXVDTztJQUNWLE9BQU8sRUFBRSxZQUFhO0lBQ3RCLFdBQVcsRUFBRSxJQUFLLEdBY25CO0lBdkRILEFBQUEsdUJBQU8sQ0EwQ0s7TUFDTixLQUFLLEVIekNLLE9BQU8sR0cwQ2xCO0lBNUNMLEFBQUEsdUJBQU8sQ0E2Q0s7TUFDTixZQUFZLEVBQUUsSUFBSztNQUNuQixPQUFPLEVBQUUsWUFBYTtNQUN0QixLQUFLLEVBQUUsSUFBSztNQUNaLGFBQWEsRUFBRSxHQUFJO01BQ25CLFlBQVksRUFBRSxHQUFJO01BQ2xCLEtBQUssRUhoREssT0FBTztNR2lEakIsZ0JBQWdCLEVIbkROLE9BQU87TUdvRGpCLFVBQVUsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsdUJBQUksR0FDOUI7RUF0REwsQUFBQSxhQUFPLENBd0RHO0lBQ04sV0FBVyxFQUFFLElBQUs7SUFDbEIsWUFBWSxFQUFFLElBQUs7SUFDbkIsT0FBTyxFQUFFLElBQUs7SUFDZCxXQUFXLEVBQUUsTUFBTyxHQVlyQjtJQXhFSCxBQUFBLG1CQUFPLENBNkRLO01BQ04sS0FBSyxFSDVESyxPQUFPO01HNkRqQixLQUFLLEVBQUUsSUFBSyxHQUNiO0lBaEVMLEFBQUEsb0JBQU8sQ0FpRU07TUFDUCxXQUFXLEVBQUUsSUFBSztNQUNsQixLQUFLLEVBQUUsSUFBSztNQUNaLE1BQU0sRUFBRSxJQUFLO01BQ2IsYUFBYSxFQUFFLEdBQUk7TUFDbkIsS0FBSyxFQUFFLElBQUssR0FDYiIsIm5hbWVzIjpbXX0= */
